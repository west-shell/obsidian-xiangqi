"use strict";var $i=Object.defineProperty;var _r=e=>{throw TypeError(e)};var Ui=(e,t,n)=>t in e?$i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ne=(e,t,n)=>Ui(e,typeof t!="symbol"?t+"":t,n),Tn=(e,t,n)=>t.has(e)||_r("Cannot "+n);var S=(e,t,n)=>(Tn(e,t,"read from private field"),n?n.call(e):t.get(e)),re=(e,t,n)=>t.has(e)?_r("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),le=(e,t,n,r)=>(Tn(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),At=(e,t,n)=>(Tn(e,t,"access private method"),n);const j=require("obsidian");function Ir(){const e=new Map,t=new WeakMap;function n(i,a){e.has(i)||e.set(i,a)}function r(i){if(t.has(i))return t.get(i);const a=new Map;for(const[l,f]of e){const d=f.init(i);a.set(l,d??f)}return t.set(i,a),a}function s(i){const a=t.get(i);if(a){for(const l of a.values())typeof l.destroy=="function"&&l.destroy();a.clear(),t.delete(i)}}return{register:n,createRegistry:r,destroyRegistry:s}}const zn=Ir();function at(e,t){zn.register(e,t)}function Gi(e){return zn.createRegistry(e)}function qi(e){zn.destroyRegistry(e)}const Hn=Ir();function jt(e,t){Hn.register(e,t)}function Xi(e){return Hn.createRegistry(e)}function ji(e){Hn.destroyRegistry(e)}class pn{constructor(t){ne(this,"handlers",new Map);this.host=t}static init(t){t.eventBus=new pn(t)}destroy(){this.handlers.clear()}on(t,n){this.handlers.has(t)||this.handlers.set(t,new Set),this.handlers.get(t).add(n)}emit(t,n){const r=this.handlers.get(t);if(!r)return;const s=arguments.length===2;for(const i of r)s?i(n):i()}off(t,n){var r;(r=this.handlers.get(t))==null||r.delete(n)}}at("eventBus",pn);jt("eventBus",pn);const Ce={k:"将",a:"士",b:"象",r:"车",n:"马",c:"砲",p:"卒",K:"帅",A:"仕",B:"相",R:"俥",N:"傌",C:"炮",P:"兵"};function Cn(e){var v;const t=Vi(e);let n=!1,r=(v=e.match(/([rnbakcpRNBAKCP1-9]+\/){9}[rnbakcpRNBAKCP1-9]+(?:\s+[wb])?/))==null?void 0:v[0];r?n=!0:r="rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR";const s=Array.from({length:10},()=>Array(9).fill(null)),[i,a]=r.trim().split(/\s+/);i.split("/").forEach((u,c)=>{let m=0;for(const p of u)/[1-9]/.test(p)?m+=parseInt(p):/[a-zA-Z]/.test(p)&&(s[m][c]=p,m++)});const f=a==="b"?"blue":"red",d=e.match(/\b[A-Z]\d-[A-Z]\d\b/g)||[];let h=s.map(u=>[...u]);const g=d.map(u=>{const c=zi(u,h);return c.WXF=Or(c,h),h[c.to.x][c.to.y]=h[c.from.x][c.from.y],h[c.from.x][c.from.y]=null,c});return{haveFEN:n,board:s,PGN:g,firstTurn:f,options:t}}function Vi(e){const t={};return[{key:"protected",regex:/\b(protected|P)\s*[:：]\s*(true|false)\s*/i},{key:"rotated",regex:/\b(rotated|r)\s*[:：]\s*(true|false)\s*/i}].forEach(({key:r,regex:s})=>{const i=e.match(s);i&&(t[r]=i[2].toLowerCase()==="true")}),t}function zi(e,t){const[n,r]=e.split("-"),s=n.charCodeAt(0)-65,i=9-parseInt(n[1]),a=r.charCodeAt(0)-65,l=9-parseInt(r[1]),f={x:s,y:i},d={x:a,y:l},h=t[s][i];return h?{type:h,from:f,to:d,ICCS:e}:{from:f,to:d,ICCS:e}}function Hi(e){if(e.from.x==null||e.from.y==null||e.to.x==null||e.to.y==null)throw new Error("Invalid move: x and y must be numbers");const t=s=>{if(s<0||s>25)throw new Error(`x must be between 0 and 25, got ${s}`);return String.fromCharCode(65+s)},n=`${t(e.from.x)}${9-e.from.y}`,r=`${t(e.to.x)}${9-e.to.y}`;return`${n}-${r}`}function Or(e,t){const n={horizontal:"平",forward:"进",backward:"退"},r=["一","二","三","四","五","六","七","八","九"],s=["1","2","3","4","5","6","7","8","9"],{from:i,to:a}=e,l=t[i.x][i.y];if(!l)return"";const f=l===l.toUpperCase(),d=f?r:s,h=Array.from({length:9},()=>Array(10).fill(null));let g=i.x,v=i.y,u=a.x,c=a.y;if(f){for(let y=0;y<9;y++)for(let E=0;E<10;E++)h[y][E]=t[8-y][9-E];g=8-i.x,v=9-i.y,u=8-a.x,c=9-a.y}else for(let y=0;y<9;y++)for(let E=0;E<10;E++)h[y][E]=t[y][E];let m="",p=[];for(let y=0;y<10;y++)h[g][y]===l&&p.push(y);if(p.length===1)m=Ce[l]+d[g];else if(p.length===2){const y=p.indexOf(v);y===0?m="后"+Ce[l]:y===1&&(m="前"+Ce[l])}else if(p.length===3){const y=p.indexOf(v);y===0?m="后"+Ce[l]:y===1?m="中"+Ce[l]:y===2&&(m="前"+Ce[l])}let _,w;if(g===u){const y=c-v;_=y>0?n.forward:n.backward,w=d[Math.abs(y)-1]}else v===c?(_=n.horizontal,w=d[u]):(_=v<c?n.forward:n.backward,w=d[u]);return`${m}${_}${w}`}const Dr={init(e){const t=e.eventBus;t.on("load",n=>{switch(n){case"xq":const{haveFEN:r,board:s,PGN:i,firstTurn:a,options:l}=Cn(e.source);e.haveFEN=r,e.board=s,e.PGN=i,e.currentTurn=a,e.currentStep=0,e.options=l;break;case"fen":e.board=Cn("").board,e.currentTurn="red";break}}),t.on("full",()=>{e.board=Cn("").board,t.emit("updateUI")})}};at("source",Dr);jt("source",Dr);const he=2,Yn=4,_n=8,Vt=16,$e=32,kt=64,Fr=128,de=256,ln=512,Z=1024,ve=2048,Ke=4096,Ee=8192,lt=16384,Wn=32768,Kn=65536,yr=1<<17,Yi=1<<18,Zn=1<<19,Qn=1<<20,Rn=1<<21,Jn=1<<22,nt=1<<23,rt=Symbol("$state"),Lr=Symbol("legacy props"),Wi=Symbol(""),er=new class extends Error{constructor(){super(...arguments);ne(this,"name","StaleReactionError");ne(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},$r=3,It=8,Ur=!1;var tr=Array.isArray,Ki=Array.prototype.indexOf,nr=Array.from,un=Object.defineProperty,_t=Object.getOwnPropertyDescriptor,Gr=Object.getOwnPropertyDescriptors,Zi=Object.prototype,Qi=Array.prototype,rr=Object.getPrototypeOf,mr=Object.isExtensible;function Ji(e){return e()}function on(e){for(var t=0;t<e.length;t++)e[t]()}function es(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}function ts(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}function qr(e){return e===this.v}function Xr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function jr(e){return!Xr(e,this.v)}function ns(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function rs(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function is(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ss(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function as(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ls(e){throw new Error("https://svelte.dev/e/effect_orphan")}function us(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function os(){throw new Error("https://svelte.dev/e/hydration_failed")}function fs(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function cs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ds(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function vs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Tt=!1,hs=!1;function gs(){Tt=!0}const yn=1,mn=2,Vr=4,ps=8,_s=16,ys=1,ms=2,ws=4,bs=8,xs=16,Es=1,Ss=2,zr="[",ir="[!",sr="]",yt={},ee=Symbol(),Ps="http://www.w3.org/1999/xhtml";let q=null;function fn(e){q=e}function Ze(e,t=!1,n){q={p:q,c:null,e:null,s:e,x:null,l:Tt&&!t?{s:null,u:null,$:[]}:null}}function Qe(e){var t=q,n=t.e;if(n!==null){t.e=null;for(var r of n)hi(r)}return e!==void 0&&(t.x=e),q=t.p,e??{}}function zt(){return!Tt||q!==null&&q.l===null}function wn(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let R=!1;function De(e){R=e}let O;function Se(e){if(e===null)throw wn(),yt;return O=e}function bn(){return Se(Je(O))}function G(e){if(R){if(Je(O)!==null)throw wn(),yt;O=e}}function In(){for(var e=0,t=O;;){if(t.nodeType===It){var n=t.data;if(n===sr){if(e===0)return t;e-=1}else(n===zr||n===ir)&&(e+=1)}var r=Je(t);t.remove(),t=r}}function Hr(e){if(!e||e.nodeType!==It)throw wn(),yt;return e.data}function gt(e){if(typeof e!="object"||e===null||rt in e)return e;const t=rr(e);if(t!==Zi&&t!==Qi)return e;var n=new Map,r=tr(e),s=Ge(0),i=st,a=l=>{if(st===i)return l();var f=M,d=st;Me(null),Pr(i);var h=l();return Me(f),Pr(d),h};return r&&n.set("length",Ge(e.length)),new Proxy(e,{defineProperty(l,f,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&cs();var h=n.get(f);return h===void 0?h=a(()=>{var g=Ge(d.value);return n.set(f,g),g}):A(h,d.value,!0),!0},deleteProperty(l,f){var d=n.get(f);if(d===void 0){if(f in l){const h=a(()=>Ge(ee));n.set(f,h),Nn(s)}}else A(d,ee),Nn(s);return!0},get(l,f,d){var u;if(f===rt)return e;var h=n.get(f),g=f in l;if(h===void 0&&(!g||(u=_t(l,f))!=null&&u.writable)&&(h=a(()=>{var c=gt(g?l[f]:ee),m=Ge(c);return m}),n.set(f,h)),h!==void 0){var v=o(h);return v===ee?void 0:v}return Reflect.get(l,f,d)},getOwnPropertyDescriptor(l,f){var d=Reflect.getOwnPropertyDescriptor(l,f);if(d&&"value"in d){var h=n.get(f);h&&(d.value=o(h))}else if(d===void 0){var g=n.get(f),v=g==null?void 0:g.v;if(g!==void 0&&v!==ee)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return d},has(l,f){var v;if(f===rt)return!0;var d=n.get(f),h=d!==void 0&&d.v!==ee||Reflect.has(l,f);if(d!==void 0||N!==null&&(!h||(v=_t(l,f))!=null&&v.writable)){d===void 0&&(d=a(()=>{var u=h?gt(l[f]):ee,c=Ge(u);return c}),n.set(f,d));var g=o(d);if(g===ee)return!1}return h},set(l,f,d,h){var y;var g=n.get(f),v=f in l;if(r&&f==="length")for(var u=d;u<g.v;u+=1){var c=n.get(u+"");c!==void 0?A(c,ee):u in l&&(c=a(()=>Ge(ee)),n.set(u+"",c))}if(g===void 0)(!v||(y=_t(l,f))!=null&&y.writable)&&(g=a(()=>Ge(void 0)),A(g,gt(d)),n.set(f,g));else{v=g.v!==ee;var m=a(()=>gt(d));A(g,m)}var p=Reflect.getOwnPropertyDescriptor(l,f);if(p!=null&&p.set&&p.set.call(h,d),!v){if(r&&typeof f=="string"){var _=n.get("length"),w=Number(f);Number.isInteger(w)&&w>=_.v&&A(_,w+1)}Nn(s)}return!0},ownKeys(l){o(s);var f=Reflect.ownKeys(l).filter(g=>{var v=n.get(g);return v===void 0||v.v!==ee});for(var[d,h]of n)h.v!==ee&&!(d in l)&&f.push(d);return f},setPrototypeOf(){ds()}})}var wr,Yr,Wr,Kr;function On(){if(wr===void 0){wr=window,Yr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Wr=_t(t,"firstChild").get,Kr=_t(t,"nextSibling").get,mr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),mr(n)&&(n.__t=void 0)}}function Ye(e=""){return document.createTextNode(e)}function xe(e){return Wr.call(e)}function Je(e){return Kr.call(e)}function K(e,t){if(!R)return xe(e);var n=xe(O);if(n===null)n=O.appendChild(Ye());else if(t&&n.nodeType!==$r){var r=Ye();return n==null||n.before(r),Se(r),r}return Se(n),n}function sn(e,t){if(!R){var n=xe(e);return n instanceof Comment&&n.data===""?Je(n):n}return O}function L(e,t=1,n=!1){let r=R?O:e;for(var s;t--;)s=r,r=Je(r);if(!R)return r;if(n&&(r==null?void 0:r.nodeType)!==$r){var i=Ye();return r===null?s==null||s.after(i):r.before(i),Se(i),i}return Se(r),r}function Zr(e){e.textContent=""}function Qr(){return!1}const ks=new WeakMap;function Ts(e){var t=N;if(t===null)return M.f|=nt,e;if(t.f&Wn)ar(e,t);else{if(!(t.f&Fr))throw!t.parent&&e instanceof Error&&Jr(e),e;t.b.error(e)}}function ar(e,t){for(;t!==null;){if(t.f&Fr)try{t.b.error(e);return}catch{}t=t.parent}throw e instanceof Error&&Jr(e),e}function Jr(e){const t=ks.get(e);t&&(un(e,"message",{value:t.message}),un(e,"stack",{value:t.stack}))}let Ot=[],Dn=[];function ei(){var e=Ot;Ot=[],on(e)}function Cs(){var e=Dn;Dn=[],on(e)}function lr(e){Ot.length===0&&queueMicrotask(ei),Ot.push(e)}function Ns(){Ot.length>0&&ei(),Dn.length>0&&Cs()}function Ms(){for(var e=N.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&ns(),e}function Ht(e){var t=he|ve,n=M!==null&&M.f&he?M:null;return N===null||n!==null&&n.f&de?t|=de:N.f|=Zn,{ctx:q,deps:null,effects:null,equals:qr,f:t,fn:e,reactions:null,rv:0,v:ee,wv:0,parent:n??N,ac:null}}function Bs(e,t){let n=N;n===null&&is();var r=n.b,s=void 0,i=Ft(ee),a=null,l=!M;return js(()=>{try{var f=e()}catch(u){f=Promise.reject(u)}var d=()=>f;s=(a==null?void 0:a.then(d,d))??Promise.resolve(f),a=s;var h=ue,g=r.pending;l&&(r.update_pending_count(1),g||h.increment());const v=(u,c=void 0)=>{a=null,g||h.activate(),c?c!==er&&(i.f|=nt,Lt(i,c)):(i.f&nt&&(i.f^=nt),Lt(i,u)),l&&(r.update_pending_count(-1),g||h.decrement()),ri()};if(s.then(v,u=>v(null,u||"unknown")),h)return()=>{queueMicrotask(()=>h.neuter())}}),new Promise(f=>{function d(h){function g(){h===s?f(i):d(s)}h.then(g,g)}d(s)})}function As(e){const t=Ht(e);return li(t),t}function ur(e){const t=Ht(e);return t.equals=jr,t}function ti(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Fe(t[n])}}function Rs(e){for(var t=e.parent;t!==null;){if(!(t.f&he))return t;t=t.parent}return null}function or(e){var t,n=N;We(Rs(e));try{ti(e),t=fi(e)}finally{We(n)}return t}function ni(e){var t=or(e);if(e.equals(t)||(e.v=t,e.wv=ui()),!ut)if(je!==null)je.set(e,e.v);else{var n=(Ve||e.f&de)&&e.deps!==null?Ke:Z;Q(e,n)}}function Is(e,t,n){const r=zt()?Ht:ur;if(t.length===0){n(e.map(r));return}var s=ue,i=N,a=Os(),l=Ms();Promise.all(t.map(f=>Bs(f))).then(f=>{s==null||s.activate(),a();try{n([...e.map(r),...f])}catch(d){i.f&lt||ar(d,i)}s==null||s.deactivate(),ri()}).catch(f=>{l.error(f)})}function Os(){var e=N,t=M,n=q;return function(){We(e),Me(t),fn(n)}}function ri(){We(null),Me(null),fn(null)}const en=new Set;let ue=null,je=null,br=new Set,pt=[],xn=null,Fn=!1;var Gt,xt,Et,qe,qt,Xt,et,St,Xe,Ie,tt,Le,ii,si,Ln;const gr=class gr{constructor(){re(this,Le);re(this,Gt,new Map);re(this,xt,new Map);re(this,Et,new Set);re(this,qe,0);re(this,qt,null);re(this,Xt,!1);re(this,et,[]);re(this,St,[]);re(this,Xe,[]);re(this,Ie,[]);re(this,tt,[]);ne(this,"skipped_effects",new Set)}capture(t,n){S(this,xt).has(t)||S(this,xt).set(t,n),S(this,Gt).set(t,t.v)}activate(){ue=this}deactivate(){ue=null;for(const t of br)if(br.delete(t),t(),ue!==null)break}neuter(){le(this,Xt,!0)}flush(){pt.length>0?this.flush_effects():At(this,Le,Ln).call(this),ue===this&&(S(this,qe)===0&&en.delete(this),this.deactivate())}flush_effects(){var t=mt;Fn=!0;try{var n=0;for(Er(!0);pt.length>0;){if(n++>1e3){var r,s;Ds()}At(this,Le,ii).call(this,pt),it.clear()}}finally{Fn=!1,Er(t),xn=null}}increment(){le(this,qe,S(this,qe)+1)}decrement(){if(le(this,qe,S(this,qe)-1),S(this,qe)===0){for(const t of S(this,Xe))Q(t,ve),ze(t);for(const t of S(this,Ie))Q(t,ve),ze(t);for(const t of S(this,tt))Q(t,ve),ze(t);le(this,Xe,[]),le(this,Ie,[]),this.flush()}else this.deactivate()}add_callback(t){S(this,Et).add(t)}settled(){return(S(this,qt)??le(this,qt,es())).promise}static ensure(t=!0){if(ue===null){const n=ue=new gr;en.add(ue),t&&queueMicrotask(()=>{ue===n&&n.flush()})}return ue}};Gt=new WeakMap,xt=new WeakMap,Et=new WeakMap,qe=new WeakMap,qt=new WeakMap,Xt=new WeakMap,et=new WeakMap,St=new WeakMap,Xe=new WeakMap,Ie=new WeakMap,tt=new WeakMap,Le=new WeakSet,ii=function(t){var i;pt=[];var n=null;if(en.size>1){n=new Map,je=new Map;for(const[a,l]of S(this,Gt))n.set(a,{v:a.v,wv:a.wv}),a.v=l;for(const a of en)if(a!==this)for(const[l,f]of S(a,xt))n.has(l)||(n.set(l,{v:l.v,wv:l.wv}),l.v=f)}for(const a of t)At(this,Le,si).call(this,a);if(S(this,et).length===0&&S(this,qe)===0){var r=S(this,Xe),s=S(this,Ie);le(this,Xe,[]),le(this,Ie,[]),le(this,tt,[]),At(this,Le,Ln).call(this),xr(r),xr(s),(i=S(this,qt))==null||i.resolve()}else{for(const a of S(this,Xe))Q(a,Z);for(const a of S(this,Ie))Q(a,Z);for(const a of S(this,tt))Q(a,Z)}if(n){for(const[a,{v:l,wv:f}]of n)a.wv<=f&&(a.v=l);je=null}for(const a of S(this,et))wt(a);for(const a of S(this,St))wt(a);le(this,et,[]),le(this,St,[])},si=function(t){var h;t.f^=Z;for(var n=t.first;n!==null;){var r=n.f,s=(r&($e|kt))!==0,i=s&&(r&Z)!==0,a=i||(r&Ee)!==0||this.skipped_effects.has(n);if(!a&&n.fn!==null){if(s)n.f^=Z;else if(r&Yn)S(this,Ie).push(n);else if(Yt(n))if(r&Jn){var l=(h=n.b)!=null&&h.pending?S(this,St):S(this,et);l.push(n)}else n.f&Vt&&S(this,tt).push(n),wt(n);var f=n.first;if(f!==null){n=f;continue}}var d=n.parent;for(n=n.next;n===null&&d!==null;)n=d.next,d=d.parent}},Ln=function(){if(!S(this,Xt))for(const t of S(this,Et))t();S(this,Et).clear()};let Dt=gr;function T(e){var t;const n=Dt.ensure(!1);for(;;){if(Ns(),pt.length===0)return n===ue&&n.flush(),xn=null,t;n.flush_effects()}}function Ds(){try{us()}catch(e){ar(e,xn)}}function xr(e){var t=e.length;if(t!==0){for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(lt|Ee))&&Yt(r)){var s=cn;if(wt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?yi(r):r.fn=null),cn>s&&r.f&Qn)break}}for(;n<t;n+=1)ze(e[n])}}function ze(e){for(var t=xn=e;t.parent!==null;){t=t.parent;var n=t.f;if(Fn&&t===N&&n&Vt)return;if(n&(kt|$e)){if(!(n&Z))return;t.f^=Z}}pt.push(t)}const it=new Map;function Ft(e,t){var n={f:0,v:e,reactions:null,equals:qr,rv:0,wv:0};return n}function Ge(e,t){const n=Ft(e);return li(n),n}function X(e,t=!1,n=!0){var s;const r=Ft(e);return t||(r.equals=jr),Tt&&n&&q!==null&&q.l!==null&&((s=q.l).s??(s.s=[])).push(r),r}function A(e,t,n=!1){M!==null&&(!Ne||M.f&yr)&&zt()&&M.f&(he|Vt|Jn|yr)&&!(se!=null&&se.includes(e))&&vs();let r=n?gt(t):t;return Lt(e,r)}function Lt(e,t){if(!e.equals(t)){var n=e.v;ut?it.set(e,t):it.set(e,n),e.v=t,Dt.ensure().capture(e,n),e.f&he&&(e.f&ve&&or(e),Q(e,e.f&de?Ke:Z)),e.wv=ui(),ai(e,ve),zt()&&N!==null&&N.f&Z&&!(N.f&($e|kt))&&(pe===null?Fs([e]):pe.push(e))}return t}function Nn(e){A(e,e.v+1)}function ai(e,t){var n=e.reactions;if(n!==null)for(var r=zt(),s=n.length,i=0;i<s;i++){var a=n[i],l=a.f;l&ve||!r&&a===N||(Q(a,t),l&(Z|de)&&(l&he?ai(a,Ke):ze(a)))}}let mt=!1;function Er(e){mt=e}let ut=!1;function Sr(e){ut=e}let M=null,Ne=!1;function Me(e){M=e}let N=null;function We(e){N=e}let se=null;function li(e){M!==null&&(se===null?se=[e]:se.push(e))}let ie=null,fe=0,pe=null;function Fs(e){pe=e}let cn=1,$t=0,st=$t;function Pr(e){st=e}let Ve=!1;function ui(){return++cn}function Yt(e){var g;var t=e.f;if(t&ve)return!0;if(t&Ke){var n=e.deps,r=(t&de)!==0;if(n!==null){var s,i,a=(t&ln)!==0,l=r&&N!==null&&!Ve,f=n.length;if((a||l)&&(N===null||!(N.f&lt))){var d=e,h=d.parent;for(s=0;s<f;s++)i=n[s],(a||!((g=i==null?void 0:i.reactions)!=null&&g.includes(d)))&&(i.reactions??(i.reactions=[])).push(d);a&&(d.f^=ln),l&&h!==null&&!(h.f&de)&&(d.f^=de)}for(s=0;s<f;s++)if(i=n[s],Yt(i)&&ni(i),i.wv>e.wv)return!0}(!r||N!==null&&!Ve)&&Q(e,Z)}return!1}function oi(e,t,n=!0){var r=e.reactions;if(r!==null&&!(se!=null&&se.includes(e)))for(var s=0;s<r.length;s++){var i=r[s];i.f&he?oi(i,t,!1):t===i&&(n?Q(i,ve):i.f&Z&&Q(i,Ke),ze(i))}}function fi(e){var c;var t=ie,n=fe,r=pe,s=M,i=Ve,a=se,l=q,f=Ne,d=st,h=e.f;ie=null,fe=0,pe=null,Ve=(h&de)!==0&&(Ne||!mt||M===null),M=h&($e|kt)?null:e,se=null,fn(e.ctx),Ne=!1,st=++$t,e.ac!==null&&(e.ac.abort(er),e.ac=null);try{e.f|=Rn;var g=(0,e.fn)(),v=e.deps;if(ie!==null){var u;if(dn(e,fe),v!==null&&fe>0)for(v.length=fe+ie.length,u=0;u<ie.length;u++)v[fe+u]=ie[u];else e.deps=v=ie;if(!Ve||h&he&&e.reactions!==null)for(u=fe;u<v.length;u++)((c=v[u]).reactions??(c.reactions=[])).push(e)}else v!==null&&fe<v.length&&(dn(e,fe),v.length=fe);if(zt()&&pe!==null&&!Ne&&v!==null&&!(e.f&(he|Ke|ve)))for(u=0;u<pe.length;u++)oi(pe[u],e);return s!==null&&s!==e&&($t++,pe!==null&&(r===null?r=pe:r.push(...pe))),e.f&nt&&(e.f^=nt),g}catch(m){return Ts(m)}finally{e.f^=Rn,ie=t,fe=n,pe=r,M=s,Ve=i,se=a,fn(l),Ne=f,st=d}}function Ls(e,t){let n=t.reactions;if(n!==null){var r=Ki.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&t.f&he&&(ie===null||!ie.includes(t))&&(Q(t,Ke),t.f&(de|ln)||(t.f^=ln),ti(t),dn(t,0))}function dn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ls(e,n[r])}function wt(e){var t=e.f;if(!(t&lt)){Q(e,Z);var n=N,r=mt;N=e,mt=!0;try{t&Vt?Vs(e):_i(e),pi(e);var s=fi(e);e.teardown=typeof s=="function"?s:null,e.wv=cn;var i;Ur&&hs&&e.f&ve&&e.deps}finally{mt=r,N=n}}}async function ci(){await Promise.resolve(),T()}function o(e){var t=e.f,n=(t&he)!==0;if(M!==null&&!Ne){var r=N!==null&&(N.f&lt)!==0;if(!r&&!(se!=null&&se.includes(e))){var s=M.deps;if(M.f&Rn)e.rv<$t&&(e.rv=$t,ie===null&&s!==null&&s[fe]===e?fe++:ie===null?ie=[e]:(!Ve||!ie.includes(e))&&ie.push(e));else{(M.deps??(M.deps=[])).push(e);var i=e.reactions;i===null?e.reactions=[M]:i.includes(M)||i.push(M)}}}else if(n&&e.deps===null&&e.effects===null){var a=e,l=a.parent;l!==null&&!(l.f&de)&&(a.f^=de)}if(ut){if(it.has(e))return it.get(e);if(n){a=e;var f=a.v;return(a.f&Z||di(a))&&(f=or(a)),it.set(a,f),f}}else if(n){if(a=e,je!=null&&je.has(a))return je.get(a);Yt(a)&&ni(a)}if(e.f&nt)throw e.v;return e.v}function di(e){if(e.v===ee)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(it.has(t)||t.f&he&&di(t))return!0;return!1}function V(e){var t=Ne;try{return Ne=!0,e()}finally{Ne=t}}const $s=-7169;function Q(e,t){e.f=e.f&$s|t}function F(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(rt in e)$n(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&rt in n&&$n(n)}}}function $n(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{$n(e[r],t)}catch{}const n=rr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Gr(n);for(let s in r){const i=r[s].get;if(i)try{i.call(e)}catch{}}}}}function vi(e){N===null&&M===null&&ls(),M!==null&&M.f&de&&N===null&&as(),ut&&ss()}function Us(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Be(e,t,n,r=!0){var s=N;s!==null&&s.f&Ee&&(e|=Ee);var i={ctx:q,deps:null,nodes_start:null,nodes_end:null,f:e|ve,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{wt(i),i.f|=Wn}catch(f){throw Fe(i),f}else t!==null&&ze(i);var a=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&Zn)===0;if(!a&&r&&(s!==null&&Us(i,s),M!==null&&M.f&he)){var l=M;(l.effects??(l.effects=[])).push(i)}return i}function Gs(e){const t=Be(_n,null,!1);return Q(t,Z),t.teardown=e,t}function vn(e){vi();var t=N.f,n=!M&&(t&$e)!==0&&(t&Wn)===0;if(n){var r=q;(r.e??(r.e=[])).push(e)}else return hi(e)}function hi(e){return Be(Yn|Qn,e,!1)}function qs(e){return vi(),Be(_n|Qn,e,!0)}function Xs(e){Dt.ensure();const t=Be(kt,e,!0);return(n={})=>new Promise(r=>{n.outro?fr(t,()=>{Fe(t),r(void 0)}):(Fe(t),r(void 0))})}function hn(e){return Be(Yn,e,!1)}function oe(e,t){var n=q,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=En(()=>{e(),!r.ran&&(r.ran=!0,V(t))})}function Wt(){var e=q;En(()=>{for(var t of e.l.$){t.deps();var n=t.effect;n.f&Z&&Q(n,Ke),Yt(n)&&wt(n),t.ran=!1}})}function js(e){return Be(Jn|Zn,e,!0)}function En(e,t=0){return Be(_n|t,e,!0)}function W(e,t=[],n=[]){Is(t,n,r=>{Be(_n,()=>e(...r.map(o)),!0)})}function gi(e,t=0){var n=Be(Vt|t,e,!0);return n}function Pt(e,t=!0){return Be($e,e,!0,t)}function pi(e){var t=e.teardown;if(t!==null){const n=ut,r=M;Sr(!0),Me(null);try{t.call(null)}finally{Sr(n),Me(r)}}}function _i(e,t=!1){var s;var n=e.first;for(e.first=e.last=null;n!==null;){(s=n.ac)==null||s.abort(er);var r=n.next;n.f&kt?n.parent=null:Fe(n,t),n=r}}function Vs(e){for(var t=e.first;t!==null;){var n=t.next;t.f&$e||Fe(t),t=n}}function Fe(e,t=!0){var n=!1;(t||e.f&Yi)&&e.nodes_start!==null&&e.nodes_end!==null&&(zs(e.nodes_start,e.nodes_end),n=!0),_i(e,t&&!n),dn(e,0),Q(e,lt);var r=e.transitions;if(r!==null)for(const i of r)i.stop();pi(e);var s=e.parent;s!==null&&s.first!==null&&yi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function zs(e,t){for(;e!==null;){var n=e===t?null:Je(e);e.remove(),e=n}}function yi(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function fr(e,t){var n=[];cr(e,n,!0),mi(n,()=>{Fe(e),t&&t()})}function mi(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function cr(e,t,n){if(!(e.f&Ee)){if(e.f^=Ee,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var s=r.next,i=(r.f&Kn)!==0||(r.f&$e)!==0;cr(r,t,i?n:!1),r=s}}}function dr(e){wi(e,!0)}function wi(e,t){if(e.f&Ee){e.f^=Ee,e.f&Z||(Q(e,ve),ze(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Kn)!==0||(n.f&$e)!==0;wi(n,s?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}function Hs(e){var t=M,n=N;Me(null),We(null);try{return e()}finally{Me(t),We(n)}}const bi=new Set,Un=new Set;function Ys(e,t,n,r={}){function s(i){if(r.capture||Rt.call(t,i),!i.cancelBubble)return Hs(()=>n==null?void 0:n.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?lr(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function Ut(e,t,n,r,s){var i={capture:r,passive:s},a=Ys(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Gs(()=>{t.removeEventListener(e,a,i)})}function Ws(e){for(var t=0;t<e.length;t++)bi.add(e[t]);for(var n of Un)n(e)}function Rt(e){var w;var t=this,n=t.ownerDocument,r=e.type,s=((w=e.composedPath)==null?void 0:w.call(e))||[],i=s[0]||e.target,a=0,l=e.__root;if(l){var f=s.indexOf(l);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var d=s.indexOf(t);if(d===-1)return;f<=d&&(a=f)}if(i=s[a]||e.target,i!==t){un(e,"currentTarget",{configurable:!0,get(){return i||n}});var h=M,g=N;Me(null),We(null);try{for(var v,u=[];i!==null;){var c=i.assignedSlot||i.parentNode||i.host||null;try{var m=i["__"+r];if(m!=null&&(!i.disabled||e.target===i))if(tr(m)){var[p,..._]=m;p.apply(i,[e,..._])}else m.call(i,e)}catch(y){v?u.push(y):v=y}if(e.cancelBubble||c===t||c===null)break;i=c}if(v){for(let y of u)queueMicrotask(()=>{throw y});throw v}}finally{e.__root=t,delete e.currentTarget,Me(h),We(g)}}}function xi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function He(e,t){var n=N;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function ye(e,t){var n=(t&Ss)!==0,r,s=!e.startsWith("<!>");return()=>{if(R)return He(O,null),O;r===void 0&&(r=xi(s?e:"<!>"+e),r=xe(r));var i=n||Yr?document.importNode(r,!0):r.cloneNode(!0);return He(i,i),i}}function Ks(e,t,n="svg"){var r=!e.startsWith("<!>"),s=(t&Es)!==0,i=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(R)return He(O,null),O;if(!a){var l=xi(i),f=xe(l);if(s)for(a=document.createDocumentFragment();xe(f);)a.appendChild(xe(f));else a=xe(f)}var d=a.cloneNode(!0);if(s){var h=xe(d),g=d.lastChild;He(h,g)}else He(d,d);return d}}function ot(e,t){return Ks(e,t,"svg")}function Gn(){if(R)return He(O,null),O;var e=document.createDocumentFragment(),t=document.createComment(""),n=Ye();return e.append(t,n),He(t,n),e}function U(e,t){if(R){N.nodes_end=O,bn();return}e!==null&&e.before(t)}const Zs=["touchstart","touchmove"];function Qs(e){return Zs.includes(e)}function bt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ei(e,t){return Si(e,t)}function Js(e,t){On(),t.intro=t.intro??!1;const n=t.target,r=R,s=O;try{for(var i=xe(n);i&&(i.nodeType!==It||i.data!==zr);)i=Je(i);if(!i)throw yt;De(!0),Se(i),bn();const a=Si(e,{...t,anchor:i});if(O===null||O.nodeType!==It||O.data!==sr)throw wn(),yt;return De(!1),a}catch(a){if(a===yt)return t.recover===!1&&os(),On(),Zr(n),De(!1),Ei(e,t);throw a}finally{De(r),Se(s)}}const ht=new Map;function Si(e,{target:t,anchor:n,props:r={},events:s,context:i,intro:a=!0}){On();var l=new Set,f=g=>{for(var v=0;v<g.length;v++){var u=g[v];if(!l.has(u)){l.add(u);var c=Qs(u);t.addEventListener(u,Rt,{passive:c});var m=ht.get(u);m===void 0?(document.addEventListener(u,Rt,{passive:c}),ht.set(u,1)):ht.set(u,m+1)}}};f(nr(bi)),Un.add(f);var d=void 0,h=Xs(()=>{var g=n??t.appendChild(Ye());return Pt(()=>{if(i){Ze({});var v=q;v.c=i}s&&(r.$$events=s),R&&He(g,null),d=e(g,r)||{},R&&(N.nodes_end=O),i&&Qe()}),()=>{var c;for(var v of l){t.removeEventListener(v,Rt);var u=ht.get(v);--u===0?(document.removeEventListener(v,Rt),ht.delete(v)):ht.set(v,u)}Un.delete(f),g!==n&&((c=g.parentNode)==null||c.removeChild(g))}});return qn.set(d,h),d}let qn=new WeakMap;function ea(e,t){const n=qn.get(e);return n?(qn.delete(e),n(t)):Promise.resolve()}function ft(e){return new ta(e)}var Oe,_e;class ta{constructor(t){re(this,Oe);re(this,_e);var i;var n=new Map,r=(a,l)=>{var f=X(l,!1,!1);return n.set(a,f),f};const s=new Proxy({...t.props||{},$$events:{}},{get(a,l){return o(n.get(l)??r(l,Reflect.get(a,l)))},has(a,l){return l===Lr?!0:(o(n.get(l)??r(l,Reflect.get(a,l))),Reflect.has(a,l))},set(a,l,f){return A(n.get(l)??r(l,f),f),Reflect.set(a,l,f)}});le(this,_e,(t.hydrate?Js:Ei)(t.component,{target:t.target,anchor:t.anchor,props:s,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((i=t==null?void 0:t.props)!=null&&i.$$host)||t.sync===!1)&&T(),le(this,Oe,s.$$events);for(const a of Object.keys(S(this,_e)))a==="$set"||a==="$destroy"||a==="$on"||un(this,a,{get(){return S(this,_e)[a]},set(l){S(this,_e)[a]=l},enumerable:!0});S(this,_e).$set=a=>{Object.assign(s,a)},S(this,_e).$destroy=()=>{ea(S(this,_e))}}$set(t){S(this,_e).$set(t)}$on(t,n){S(this,Oe)[t]=S(this,Oe)[t]||[];const r=(...s)=>n.call(this,...s);return S(this,Oe)[t].push(r),()=>{S(this,Oe)[t]=S(this,Oe)[t].filter(s=>s!==r)}}$destroy(){S(this,_e).$destroy()}}Oe=new WeakMap,_e=new WeakMap;const na="5";var Rr;typeof window<"u"&&((Rr=window.__svelte??(window.__svelte={})).v??(Rr.v=new Set)).add(na);gs();function ra(e){q===null&&rs(),Tt&&q.l!==null?ia(q).m.push(e):vn(()=>{const t=V(e);if(typeof t=="function")return t})}function ia(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function gn(e,t,n=!1){R&&bn();var r=e,s=null,i=null,a=ee,l=n?Kn:0,f=!1;const d=(u,c=!0)=>{f=!0,v(c,u)};var h=null;function g(){h!==null&&(h.lastChild.remove(),r.before(h),h=null);var u=a?s:i,c=a?i:s;u&&dr(u),c&&fr(c,()=>{a?i=null:s=null})}const v=(u,c)=>{if(a===(a=u))return;let m=!1;if(R){const B=Hr(r)===ir;!!a===B&&(r=In(),Se(r),De(!1),m=!0)}var p=Qr(),_=r;if(p&&(h=document.createDocumentFragment(),h.append(_=Ye())),a?s??(s=c&&Pt(()=>c(_))):i??(i=c&&Pt(()=>c(_))),p){var w=ue,y=a?s:i,E=a?i:s;y&&w.skipped_effects.delete(y),E&&w.skipped_effects.add(E),w.add_callback(g)}else g();m&&De(!0)};gi(()=>{f=!1,t(d),f||v(null,null)},l),R&&(r=O)}function we(e,t){return t}function sa(e,t,n){for(var r=e.items,s=[],i=t.length,a=0;a<i;a++)cr(t[a].e,s,!0);var l=i>0&&s.length===0&&n!==null;if(l){var f=n.parentNode;Zr(f),f.append(n),r.clear(),Te(e,t[0].prev,t[i-1].next)}mi(s,()=>{for(var d=0;d<i;d++){var h=t[d];l||(r.delete(h.k),Te(e,h.prev,h.next)),Fe(h.e,!l)}})}function be(e,t,n,r,s,i=null){var a=e,l={flags:t,items:new Map,first:null},f=(t&Vr)!==0;if(f){var d=e;a=R?Se(xe(d)):d.appendChild(Ye())}R&&bn();var h=null,g=!1,v=new Map,u=ur(()=>{var _=n();return tr(_)?_:_==null?[]:nr(_)}),c,m;function p(){aa(m,c,l,v,a,s,t,r,n),i!==null&&(c.length===0?h?dr(h):h=Pt(()=>i(a)):h!==null&&fr(h,()=>{h=null}))}gi(()=>{m??(m=N),c=o(u);var _=c.length;if(g&&_===0)return;g=_===0;let w=!1;if(R){var y=Hr(a)===ir;y!==(_===0)&&(a=In(),Se(a),De(!1),w=!0)}if(R){for(var E=null,B,b=0;b<_;b++){if(O.nodeType===It&&O.data===sr){a=O,w=!0,De(!1);break}var k=c[b],I=r(k,b);B=Xn(O,l,E,null,k,I,b,s,t,n),l.items.set(I,B),E=B}_>0&&Se(In())}if(R)_===0&&i&&(h=Pt(()=>i(a)));else if(Qr()){var te=new Set,Pe=ue;for(b=0;b<_;b+=1){k=c[b],I=r(k,b);var ge=l.items.get(I)??v.get(I);ge?t&(yn|mn)&&Pi(ge,k,b,t):(B=Xn(null,l,null,null,k,I,b,s,t,n,!0),v.set(I,B)),te.add(I)}for(const[z,ae]of l.items)te.has(z)||Pe.skipped_effects.add(ae.e);Pe.add_callback(p)}else p();w&&De(!0),o(u)}),R&&(a=O)}function aa(e,t,n,r,s,i,a,l,f){var Mt,Bt,Kt,vt;var d=(a&ps)!==0,h=(a&(yn|mn))!==0,g=t.length,v=n.items,u=n.first,c=u,m,p=null,_,w=[],y=[],E,B,b,k;if(d)for(k=0;k<g;k+=1)E=t[k],B=l(E,k),b=v.get(B),b!==void 0&&((Mt=b.a)==null||Mt.measure(),(_??(_=new Set)).add(b));for(k=0;k<g;k+=1){if(E=t[k],B=l(E,k),b=v.get(B),b===void 0){var I=r.get(B);if(I!==void 0){r.delete(B),v.set(B,I);var te=p?p.next:c;Te(n,p,I),Te(n,I,te),Mn(I,te,s),p=I}else{var Pe=c?c.e.nodes_start:s;p=Xn(Pe,n,p,p===null?n.first:p.next,E,B,k,i,a,f)}v.set(B,p),w=[],y=[],c=p.next;continue}if(h&&Pi(b,E,k,a),b.e.f&Ee&&(dr(b.e),d&&((Bt=b.a)==null||Bt.unfix(),(_??(_=new Set)).delete(b))),b!==c){if(m!==void 0&&m.has(b)){if(w.length<y.length){var ge=y[0],z;p=ge.prev;var ae=w[0],H=w[w.length-1];for(z=0;z<w.length;z+=1)Mn(w[z],ge,s);for(z=0;z<y.length;z+=1)m.delete(y[z]);Te(n,ae.prev,H.next),Te(n,p,ae),Te(n,H,ge),c=ge,p=H,k-=1,w=[],y=[]}else m.delete(b),Mn(b,c,s),Te(n,b.prev,b.next),Te(n,b,p===null?n.first:p.next),Te(n,p,b),p=b;continue}for(w=[],y=[];c!==null&&c.k!==B;)c.e.f&Ee||(m??(m=new Set)).add(c),y.push(c),c=c.next;if(c===null)continue;b=c}w.push(b),p=b,c=b.next}if(c!==null||m!==void 0){for(var Y=m===void 0?[]:nr(m);c!==null;)c.e.f&Ee||Y.push(c),c=c.next;var Ae=Y.length;if(Ae>0){var Nt=a&Vr&&g===0?s:null;if(d){for(k=0;k<Ae;k+=1)(Kt=Y[k].a)==null||Kt.measure();for(k=0;k<Ae;k+=1)(vt=Y[k].a)==null||vt.fix()}sa(n,Y,Nt)}}d&&lr(()=>{var Zt;if(_!==void 0)for(b of _)(Zt=b.a)==null||Zt.apply()}),e.first=n.first&&n.first.e,e.last=p&&p.e;for(var Re of r.values())Fe(Re.e);r.clear()}function Pi(e,t,n,r){r&yn&&Lt(e.v,t),r&mn?Lt(e.i,n):e.i=n}function Xn(e,t,n,r,s,i,a,l,f,d,h){var g=(f&yn)!==0,v=(f&_s)===0,u=g?v?X(s,!1,!1):Ft(s):s,c=f&mn?Ft(a):a,m={i:c,v:u,k:i,a:null,e:null,prev:n,next:r};try{if(e===null){var p=document.createDocumentFragment();p.append(e=Ye())}return m.e=Pt(()=>l(e,u,c,d),R),m.e.prev=n&&n.e,m.e.next=r&&r.e,n===null?h||(t.first=m):(n.next=m,n.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function Mn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==null&&i!==r;){var a=Je(i);s.before(i),i=a}}function Te(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function kr(e,t,n){hn(()=>{var r=V(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var s=!1,i={};En(()=>{var a=n();F(a),s&&Xr(i,a)&&(i=a,r.update(a))}),s=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}const Tr=[...` 	
\r\f \v\uFEFF`];function la(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,a=0;(a=r.indexOf(s,a))>=0;){var l=a+i;(a===0||Tr.includes(r[a-1]))&&(l===r.length||Tr.includes(r[l]))?r=(a===0?"":r.substring(0,a))+r.substring(l+1):a=l}}return r===""?null:r}function Cr(e,t=!1){var n=t?" !important;":";",r="";for(var s in e){var i=e[s];i!=null&&i!==""&&(r+=" "+s+": "+i+n)}return r}function Bn(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function ua(e,t){if(t){var n="",r,s;if(Array.isArray(t)?(r=t[0],s=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,a=0,l=!1,f=[];r&&f.push(...Object.keys(r).map(Bn)),s&&f.push(...Object.keys(s).map(Bn));var d=0,h=-1;const m=e.length;for(var g=0;g<m;g++){var v=e[g];if(l?v==="/"&&e[g-1]==="*"&&(l=!1):i?i===v&&(i=!1):v==="/"&&e[g+1]==="*"?l=!0:v==='"'||v==="'"?i=v:v==="("?a++:v===")"&&a--,!l&&i===!1&&a===0){if(v===":"&&h===-1)h=g;else if(v===";"||g===m-1){if(h!==-1){var u=Bn(e.substring(d,h).trim());if(!f.includes(u)){v!==";"&&g++;var c=e.substring(d,g).trim();n+=" "+c+";"}}d=g+1,h=-1}}}}return r&&(n+=Cr(r)),s&&(n+=Cr(s,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function ce(e,t,n,r,s,i){var a=e.__className;if(R||a!==n||a===void 0){var l=la(n,r,i);(!R||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=n}else if(i&&s!==i)for(var f in i){var d=!!i[f];(s==null||d!==!!s[f])&&e.classList.toggle(f,d)}return i}function An(e,t={},n,r){for(var s in n){var i=n[s];t[s]!==i&&(n[s]==null?e.style.removeProperty(s):e.style.setProperty(s,i,r))}}function jn(e,t,n,r){var s=e.__style;if(R||s!==t){var i=ua(t,r);(!R||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else r&&(Array.isArray(r)?(An(e,n==null?void 0:n[0],r[0]),An(e,n==null?void 0:n[1],r[1],"important")):An(e,n,r));return r}const oa=Symbol("is custom element"),fa=Symbol("is html");function x(e,t,n,r){var s=ca(e);R&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=n)&&(t==="loading"&&(e[Wi]=n),n==null?e.removeAttribute(t):typeof n!="string"&&da(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ca(e){return e.__attributes??(e.__attributes={[oa]:e.nodeName.includes("-"),[fa]:e.namespaceURI===Ps})}var Nr=new Map;function da(e){var t=Nr.get(e.nodeName);if(t)return t;Nr.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Gr(r);for(var i in n)n[i].set&&t.push(i);r=rr(r)}return t}function Mr(e,t){return e===t||(e==null?void 0:e[rt])===t}function an(e={},t,n,r){return hn(()=>{var s,i;return En(()=>{s=i,i=(r==null?void 0:r())||[],V(()=>{e!==n(...i)&&(t(e,...i),s&&Mr(n(...s),e)&&t(null,...s))})}),()=>{lr(()=>{i&&Mr(n(...i),e)&&t(null,...i)})}}),e}function Ct(e=!1){const t=q,n=t.l.u;if(!n)return;let r=()=>F(t.s);if(e){let s=0,i={};const a=Ht(()=>{let l=!1;const f=t.s;for(const d in f)f[d]!==i[d]&&(i[d]=f[d],l=!0);return l&&s++,s});r=()=>o(a)}n.b.length&&qs(()=>{Br(t,r),on(n.b)}),vn(()=>{const s=V(()=>n.m.map(Ji));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&vn(()=>{Br(t,r),on(n.a)})}function Br(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}function ct(e,t,n){var r;e.$$events||(e.$$events={}),(r=e.$$events)[t]||(r[t]=[]),e.$$events[t].push(n)}function dt(e){for(var t in e)t in this&&(this[t]=e[t])}let tn=!1;function va(e){var t=tn;try{return tn=!1,[e(),tn]}finally{tn=t}}function C(e,t,n,r){var y;var s=!Tt||(n&ms)!==0,i=(n&bs)!==0,a=(n&xs)!==0,l=r,f=!0,d=()=>(f&&(f=!1,l=a?V(r):r),l),h;if(i){var g=rt in e||Lr in e;h=((y=_t(e,t))==null?void 0:y.set)??(g&&t in e?E=>e[t]=E:void 0)}var v,u=!1;i?[v,u]=va(()=>e[t]):v=e[t],v===void 0&&r!==void 0&&(v=d(),h&&(s&&fs(),h(v)));var c;if(s?c=()=>{var E=e[t];return E===void 0?d():(f=!0,E)}:c=()=>{var E=e[t];return E!==void 0&&(l=void 0),E===void 0?l:E},s&&!(n&ws))return c;if(h){var m=e.$$legacy;return function(E,B){return arguments.length>0?((!s||!B||m||u)&&h(B?c():E),E):c()}}var p=!1,_=(n&ys?Ht:ur)(()=>(p=!1,c()));i&&o(_);var w=N;return function(E,B){if(arguments.length>0){const b=B?o(_):s&&i?gt(E):E;return A(_,b),p=!0,l!==void 0&&(l=b),E}return ut&&p||w.f&lt?_.v:o(_)}}const ha={light:{bgColor:"#E8C887",lineColor:"#000000",textColor:"#000000",red:"#861818",blue:"#1B38A2"},dark:{bgColor:"#2d2d2d",lineColor:"#ffffff",textColor:"#ffffff",red:"#861818",blue:"#000080"}};var ga=ot('<path fill="none"></path>'),pa=ot('<path fill="none"></path><path fill="none"></path>',1),_a=ot("<path></path>"),ya=ot("<path></path>"),ma=ot("<path></path>"),wa=ot('<g><circle stroke="#fff"></circle><text x="0" y="0" fill="white" text-anchor="middle" dy="0.35em"> </text></g>'),ba=ot('<g><path stroke="red" fill="red"></path></g>'),xa=ye('<div class="board-container"><svg xmlns="http://www.w3.org/2000/svg" class="xq-board" style="user-select:none;"><rect rx="5"></rect><path fill="none"></path><!><!><line></line><line></line><text font-family="FZLiShu II-S06" text-anchor="middle" dominant-baseline="middle">楚　河　　汉　界</text><g fill="none"><path></path><path></path></g><g fill="none"><!><!><!></g><g id="xiangqi-pieces"></g><!></svg></div>');function vr(e,t){if(new.target)return ft({component:vr,...e});Ze(t,!1);let n=C(t,"settings",12),r=C(t,"board",12),s=C(t,"markedPos",12,null),i=C(t,"currentTurn",12),a=C(t,"eventBus",12),l=C(t,"rotated",12),f=X(),d=X(),h=X(),g=X(),v=X(),u=X(),c=X(),m=X(),p=X(),_=X(),w=X();function y(P){return{x:8-P.x,y:9-P.y}}function E(P){const $=Array.from({length:9},()=>Array(10).fill(null));for(let D=0;D<9;D++)for(let J=0;J<10;J++)$[D][J]=P[8-D][9-J];return $}function B(P){const D=P.currentTarget.getBoundingClientRect(),J=P.clientX-D.left,Ue=P.clientY-D.top;let ke=Math.round(J/o(u))-1,me=Math.round(Ue/o(u))-1;if(ke>=0&&ke<9&&me>=0&&me<10){const Sn=l()?y({x:ke,y:me}):{x:ke,y:me};a().emit("click",Sn)}}oe(()=>(o(f),o(d),o(h),o(g),o(v),F(n())),()=>{(P=>{A(f,P.bgColor),A(d,P.lineColor),A(h,P.textColor),A(g,P.red),A(v,P.blue)})(ha[n().theme])}),oe(()=>F(n()),()=>{A(u,n().cellSize)}),oe(()=>o(u),()=>{A(c,o(u)*.1)}),oe(()=>o(u),()=>{A(m,o(u)*10)}),oe(()=>o(u),()=>{A(p,o(u)*11)}),oe(()=>(F(l()),F(r())),()=>{A(_,l()?E(r()):r())}),oe(()=>(F(l()),F(s())),()=>{A(w,l()&&s()?y(s()):s())}),Wt(),Ct();var b=xa(),k=K(b),I=K(k),te=L(I),Pe=L(te);be(Pe,0,()=>V(()=>Array(10).fill(0)),we,(P,$,D)=>{var J=ga();W(()=>{x(J,"d",`M ${o(u)},${o(u)*(D+1)} h ${o(u)*8}`),x(J,"stroke",o(d)),x(J,"stroke-width",o(u)*.04)}),U(P,J)});var ge=L(Pe);be(ge,0,()=>V(()=>Array(9).fill(0)),we,(P,$,D)=>{var J=pa(),Ue=sn(J),ke=L(Ue);W(()=>{x(Ue,"d",`M ${o(u)*(D+1)},${o(u)} v ${o(u)*4}`),x(Ue,"stroke",o(d)),x(Ue,"stroke-width",o(u)*.04),x(ke,"d",`M ${o(u)*(D+1)},${o(u)*6} v ${o(u)*4}`),x(ke,"stroke",o(d)),x(ke,"stroke-width",o(u)*.04)}),U(P,J)});var z=L(ge),ae=L(z),H=L(ae),Y=L(H),Ae=K(Y),Nt=L(Ae);G(Y);var Re=L(Y),Mt=K(Re);be(Mt,0,()=>[[2,3],[8,3],[2,8],[8,8],[3,4],[5,4],[7,4],[3,7],[7,7],[5,7]],we,(P,$)=>{var D=_a();W(()=>x(D,"d",(o(u),o(c),V(()=>`M ${$[0]*o(u)},${$[1]*o(u)} m -${3*o(c)},-${o(c)} h ${2*o(c)} v -${2*o(c)} m ${2*o(c)},0 v ${2*o(c)} h ${2*o(c)} m 0,${2*o(c)} h -${2*o(c)} v ${2*o(c)} m -${2*o(c)},0 v -${2*o(c)} h -${2*o(c)}`)))),U(P,D)});var Bt=L(Mt);be(Bt,0,()=>[[1,4],[1,7]],we,(P,$)=>{var D=ya();W(()=>x(D,"d",(o(u),o(c),V(()=>`M ${$[0]*o(u)},${$[1]*o(u)} m ${o(c)},-${3*o(c)} v ${2*o(c)} h ${2*o(c)} m 0,${2*o(c)} h -${2*o(c)} v ${2*o(c)}`)))),U(P,D)});var Kt=L(Bt);be(Kt,0,()=>[[9,4],[9,7]],we,(P,$)=>{var D=ma();W(()=>x(D,"d",(o(u),o(c),V(()=>`M ${$[0]*o(u)},${$[1]*o(u)} m -${3*o(c)},-${o(c)} h ${2*o(c)} v -${2*o(c)} m 0,${6*o(c)} v -${2*o(c)} h -${2*o(c)}`)))),U(P,D)}),G(Re);var vt=L(Re);be(vt,5,()=>o(_),we,(P,$,D)=>{var J=Gn(),Ue=sn(J);be(Ue,1,()=>o($),we,(ke,me,Sn)=>{var pr=Gn(),Oi=sn(pr);{var Di=Pn=>{var Qt=wa(),Jt=K(Qt),kn=L(Jt),Fi=K(kn,!0);G(kn),G(Qt),W(Li=>{x(Qt,"transform",`translate(${(D+1)*o(u)}, ${(Sn+1)*o(u)})`),x(Jt,"r",o(u)*.4),x(Jt,"fill",Li),x(Jt,"stroke-width",o(u)*.02),x(kn,"font-size",o(u)*.45),bt(Fi,(F(Ce),o(me),V(()=>Ce[o(me)])))},[()=>(o(me),o(g),o(v),V(()=>o(me)===o(me).toUpperCase()?o(g):o(v)))]),U(Pn,Qt)};gn(Oi,Pn=>{o(me)&&Pn(Di)})}U(ke,pr)}),U(P,J)}),G(vt);var Zt=L(vt);{var Ii=P=>{var $=ba(),D=K($);G($),W(()=>{x($,"transform",(o(w),o(u),V(()=>`translate(${(o(w).x+1)*o(u)}, ${(o(w).y+1)*o(u)})`))),x(D,"d",`M ${-.4*o(u)},${-.4*o(u)+o(c)} v ${-o(c)} h ${o(c)}
              M ${.4*o(u)-o(c)},${-.4*o(u)} h ${o(c)} v ${o(c)}
              M ${.4*o(u)},${.4*o(u)-o(c)} v ${o(c)} h ${-o(c)}
              M ${-.4*o(u)+o(c)},${.4*o(u)} h ${-o(c)} v ${-o(c)}`),x(D,"stroke-width",o(u)*.05)}),U(P,$)};gn(Zt,P=>{o(w)&&P(Ii)})}return G(k),G(b),W(()=>{x(k,"width",o(m)),x(k,"height",o(p)),x(k,"viewBox",`0 0 ${o(m)} ${o(p)}`),x(I,"width",o(m)),x(I,"height",o(p)),x(I,"fill",o(f)),x(I,"stroke",i()==="red"?o(g):o(v)),x(I,"stroke-width",o(u)*.2),x(te,"d",`M ${o(u)-o(c)},${o(u)-o(c)} h ${8*o(u)+2*o(c)} v ${9*o(u)+2*o(c)} h -${8*o(u)+2*o(c)} Z`),x(te,"stroke",o(d)),x(te,"stroke-width",o(u)*.08),x(z,"x1",o(u)),x(z,"y1",o(u)),x(z,"x2",o(u)),x(z,"y2",10*o(u)),x(z,"stroke",o(d)),x(z,"stroke-width",o(u)*.04),x(ae,"x1",o(u)*9),x(ae,"y1",o(u)),x(ae,"x2",o(u)*9),x(ae,"y2",10*o(u)),x(ae,"stroke",o(d)),x(ae,"stroke-width",o(u)*.04),x(H,"x",o(m)/2),x(H,"y",o(p)/2),x(H,"font-size",o(u)*.6),x(H,"fill",o(h)),x(Y,"stroke",o(d)),x(Y,"stroke-width",o(u)*.03),x(Ae,"d",`M ${o(u)*4},${o(u)} l ${o(u)*2} ${o(u)*2} m 0,${-2*o(u)} l ${-2*o(u)} ${2*o(u)}`),x(Nt,"d",`M ${o(u)*4},${8*o(u)} l ${o(u)*2} ${o(u)*2} m 0,${-2*o(u)} l ${-2*o(u)} ${2*o(u)}`),x(Re,"stroke",o(d)),x(Re,"stroke-width",o(u)*.02)}),Ut("click",k,B),U(e,b),Qe({get settings(){return n()},set settings(P){n(P),T()},get board(){return r()},set board(P){r(P),T()},get markedPos(){return s()},set markedPos(P){s(P),T()},get currentTurn(){return i()},set currentTurn(P){i(P),T()},get eventBus(){return a()},set eventBus(P){a(P),T()},get rotated(){return l()},set rotated(P){l(P),T()},$set:dt,$on:(P,$)=>ct(t,P,$)})}var Ea=ye('<button class="toolbar-btn svelte-1hvte9z"></button>'),Sa=ye('<div><!> <button aria-label="保存"></button></div>');function ki(e,t){if(new.target)return ft({component:ki,...e});Ze(t,!1);let n=C(t,"settings",12),r=C(t,"eventBus",12),s=C(t,"modified",12),i=C(t,"PGN",12),a=C(t,"isprotected",12),l=X("");const f=[{title:"重置",icon:"refresh-cw",event:"reset"},{title:"开局",icon:"arrow-left-to-line",event:"toStart"},{title:"回退",icon:"undo-dot",event:"undo"},{title:"前进",icon:"redo-dot",event:"redo"},{title:"终局",icon:"arrow-right-to-line",event:"toEnd"}];let d=X();function h(_){r().emit(_)}function g(_,w){return j.setIcon(_,w),{update(y){j.setIcon(_,y)}}}function v(_){j.setIcon(_,"save")}oe(()=>(F(s()),F(i())),()=>{A(l,s()?"unsaved":i().length>0?"saved":"empty")}),Wt(),Ct();var u=Sa(),c=K(u);be(c,1,()=>f,we,(_,w)=>{let y=()=>o(w).title,E=()=>o(w).icon,B=()=>o(w).event;var b=Ea();kr(b,(k,I)=>g==null?void 0:g(k,I),E),hn(()=>Ut("click",b,()=>h(B()))),W(()=>x(b,"aria-label",y())),U(_,b)});var m=L(c,2);let p;return an(m,_=>A(d,_),()=>o(d)),kr(m,_=>v==null?void 0:v(_)),hn(()=>Ut("click",m,()=>h("save"))),G(u),W(_=>{ce(u,1,`toolbar-container ${F(n()),V(()=>n().position)??""}`,"svelte-1hvte9z"),p=ce(m,1,`toolbar-btn ${o(l)??""}`,"svelte-1hvte9z",p,_)},[()=>({disabled:a()})]),U(e,u),Qe({get settings(){return n()},set settings(_){n(_),T()},get eventBus(){return r()},set eventBus(_){r(_),T()},get modified(){return s()},set modified(_){s(_),T()},get PGN(){return i()},set PGN(_){i(_),T()},get isprotected(){return a()},set isprotected(_){a(_),T()},$set:dt,$on:(_,w)=>ct(t,_,w)})}function Pa(e,t){if(!e||!t||!(t.scrollHeight>t.clientHeight))return;const r=e.getBoundingClientRect(),s=t.getBoundingClientRect(),i=r.top-s.top,a=t.scrollTop+i-t.clientHeight/2+e.offsetHeight/2;t.scrollTo({top:a,behavior:"smooth"})}var ka=(e,t)=>t().emit("clickstep",0),Ta=ye("<span> </span>"),Ca=ye('<li class="round svelte-13jscc"><span class="roundnum svelte-13jscc"></span> <span> </span> <!></li>'),Na=ye('<div><ul><li class="start svelte-13jscc"><span class="roundnum svelte-13jscc">0</span> <span> </span></li> <!></ul></div>');function Ti(e,t){if(new.target)return ft({component:Ti,...e});Ze(t,!0);let n=C(t,"settings",7),r=C(t,"currentStep",7),s=C(t,"moves",7),i=C(t,"eventBus",7),a=[],l;vn(()=>{r(),s(),(async()=>{await ci();const p=Math.floor(r()/2)+1,_=a[p];_&&Pa(_,l)})()});var f=Na(),d=K(f),h=K(d);let g;var v=L(K(h),2);let u;v.__click=[ka,i];var c=K(v,!0);G(v),G(h),an(h,p=>a[0]=p,()=>a==null?void 0:a[0]);var m=L(h,2);return be(m,17,s,we,(p,_,w)=>{var y=Gn(),E=sn(y);{var B=b=>{var k=Ca(),I=K(k);I.textContent=w/2+1;var te=L(I,2);let Pe;te.__click=()=>i().emit("clickstep",w+1);var ge=K(te,!0);G(te);var z=L(te,2);{var ae=H=>{var Y=Ta();let Ae;Y.__click=()=>i().emit("clickstep",w+2);var Nt=K(Y,!0);G(Y),W(Re=>{Ae=ce(Y,1,"move black svelte-13jscc",null,Ae,Re),bt(Nt,n().showPGNtxt?s()[w+1].WXF:"黑")},[()=>({active:r()===w+2})]),U(H,Y)};gn(z,H=>{s()[w+1]&&H(ae)})}G(k),an(k,(H,Y)=>a[Y/2+1]=H,H=>a==null?void 0:a[H/2+1],()=>[w]),W(H=>{Pe=ce(te,1,"move red svelte-13jscc",null,Pe,H),bt(ge,n().showPGNtxt?o(_).WXF:"红")},[()=>({active:r()===w+1})]),U(b,k)};gn(E,b=>{w%2===0&&b(B)})}U(p,y)}),G(d),an(d,p=>l=p,()=>l),G(f),W((p,_)=>{ce(f,1,`move-container ${n().position??""}`,"svelte-13jscc"),jn(f,`--height: ${11*n().cellSize}px;
    --width: ${10*n().cellSize}px;
    --fontsize: ${n().fontSize??""}px;`),ce(d,1,`move-list ${n().position??""}`,"svelte-13jscc"),g=jn(h,"",g,p),u=ce(v,1,"move svelte-13jscc",null,u,_),bt(c,n().showPGNtxt?"=== 开 局 ===":"开 局")},[()=>({display:n().position==="right"?"flex":"none"}),()=>({active:r()===0})]),U(e,f),Qe({get settings(){return n()},set settings(p){n(p),T()},get currentStep(){return r()},set currentStep(p){r(p),T()},get moves(){return s()},set moves(p){s(p),T()},get eventBus(){return i()},set eventBus(p){i(p),T()},$set:dt,$on:(p,_)=>ct(t,p,_)})}Ws(["click"]);var Ma=ye("<div><!> <!> <!></div>");function Ci(e,t){if(new.target)return ft({component:Ci,...e});Ze(t,!1);const n=X(),r=X(),s=X();let i=C(t,"settings",12),a=C(t,"board",12),l=C(t,"markedPos",12),f=C(t,"currentTurn",12),d=C(t,"currentStep",12),h=C(t,"eventBus",12),g=C(t,"modified",12),v=C(t,"PGN",12),u=C(t,"history",12),c=C(t,"options",12);ra(async()=>{await ci(),h().emit("ready")}),oe(()=>(F(g()),F(u()),F(v())),()=>{A(n,g()?u():v())}),oe(()=>F(c()),()=>{A(r,c().protected||!1)}),oe(()=>F(c()),()=>{A(s,c().rotated||!1)}),Wt(),Ct();var m=Ma(),p=K(m);vr(p,{get settings(){return i()},get board(){return a()},get markedPos(){return l()},get currentTurn(){return f()},get eventBus(){return h()},get rotated(){return o(s)}});var _=L(p,2);ki(_,{get settings(){return i()},get eventBus(){return h()},get modified(){return g()},get PGN(){return v()},get isprotected(){return o(r)}});var w=L(_,2);return Ti(w,{get settings(){return i()},get currentStep(){return d()},get moves(){return o(n)},get eventBus(){return h()}}),G(m),W(()=>ce(m,1,`XQ-container ${F(i()),V(()=>i().position)??""}`,"svelte-31705r")),U(e,m),Qe({get settings(){return i()},set settings(y){i(y),T()},get board(){return a()},set board(y){a(y),T()},get markedPos(){return l()},set markedPos(y){l(y),T()},get currentTurn(){return f()},set currentTurn(y){f(y),T()},get currentStep(){return d()},set currentStep(y){d(y),T()},get eventBus(){return h()},set eventBus(y){h(y),T()},get modified(){return g()},set modified(y){g(y),T()},get PGN(){return v()},set PGN(y){v(y),T()},get history(){return u()},set history(y){u(y),T()},get options(){return c()},set options(y){c(y),T()},$set:dt,$on:(y,E)=>ct(t,y,E)})}let Ba=class Ni{static init(t){t.BoardModule=new Ni(t)}constructor(t){const n=t.eventBus;n.on("load",()=>{t.modified=!1;const r=t.containerEl.createEl("div");t.Xiangqi=new Ci({target:r,props:{settings:t.settings,board:t.board,markedPos:t.markedPos,currentTurn:t.currentTurn,currentStep:t.currentStep,eventBus:t.eventBus,modified:t.modified,PGN:t.PGN,history:t.history,options:t.options}})}),n.on("ready",()=>{if(console.log(t.settings.autoJump),!!t.settings.autoJump)switch(t.settings.autoJump){case"never":break;case"always":n.emit("toEnd");break;case"auto":t.haveFEN||n.emit("toEnd");break}}),n.on("updateUI",r=>{t.Xiangqi.$set({settings:{...t.settings},board:t.board,markedPos:t.markedPos,currentTurn:t.currentTurn,currentStep:t.currentStep,modified:t.modified,history:[...t.history],options:{...t.options}})}),n.on("unload",()=>{t.Xiangqi.$destroy(),t.Xiangqi=null})}};at("board",Ba);function Aa(e,t,n){if(!n||Ra(e,t,n))return!1;const s=n[e.x][e.y],i=n[t.x][t.y];if(Mi(s,i))return!1;switch(s.toUpperCase()){case"R":return Ia(e,t,n);case"N":return Oa(e,t,n);case"B":return Da(e,t,n);case"A":return Fa(e,t,n);case"K":return La(e,t,n);case"C":return $a(e,t,n);case"P":return Ua(e,t,n);default:return!1}}function Ra(e,t,n){return e.x<0||e.x>8||e.y<0||e.y>9||t.x<0||t.x>8||t.y<0||t.y>9?"out-of-board":e.x===t.x&&e.y===t.y?"same-pos":n[e.x][e.y]?null:"no-piece"}function Mi(e,t){return t?e===e.toUpperCase()==(t===t.toUpperCase()):!1}function Ia(e,t,n){if(e.x!==t.x&&e.y!==t.y)return!1;if(e.x===t.x){const[r,s]=[e.y,t.y].sort((i,a)=>i-a);for(let i=r+1;i<s;i++)if(n[e.x][i])return!1}else{const[r,s]=[e.x,t.x].sort((i,a)=>i-a);for(let i=r+1;i<s;i++)if(n[i][e.y])return!1}return!0}function Oa(e,t,n){const r=t.x-e.x,s=t.y-e.y;if(!(Math.abs(r)===2&&Math.abs(s)===1||Math.abs(r)===1&&Math.abs(s)===2))return!1;if(Math.abs(r)===2){if(n[e.x+r/2][e.y])return!1}else if(n[e.x][e.y+s/2])return!1;return!0}function Da(e,t,n){const r=t.x-e.x,s=t.y-e.y;if(Math.abs(r)!==2||Math.abs(s)!==2)return!1;const i=n[e.x][e.y],a=i===i.toUpperCase();return!(a&&t.y<5||!a&&t.y>4||n[e.x+r/2][e.y+s/2])}function Fa(e,t,n){const r=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);if(r!==1||s!==1)return!1;const i=n[e.x][e.y];return i===i.toUpperCase()?t.x>=3&&t.x<=5&&t.y>=7&&t.y<=9:t.x>=3&&t.x<=5&&t.y>=0&&t.y<=2}function La(e,t,n){const r=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);if(r+s!==1)return!1;const i=n[e.x][e.y];if(i===i.toUpperCase()){if(!(t.x>=3&&t.x<=5&&t.y>=7&&t.y<=9))return!1}else if(!(t.x>=3&&t.x<=5&&t.y>=0&&t.y<=2))return!1;return!0}function $a(e,t,n){if(e.x!==t.x&&e.y!==t.y)return!1;let r=0;if(e.x===t.x){const[i,a]=[e.y,t.y].sort((l,f)=>l-f);for(let l=i+1;l<a;l++)n[e.x][l]&&r++}else{const[i,a]=[e.x,t.x].sort((l,f)=>l-f);for(let l=i+1;l<a;l++)n[l][e.y]&&r++}const s=n[t.x][t.y];if(s){const i=n[e.x][e.y];return Mi(i,s)?!1:r===1}else return r===0}function Ua(e,t,n){const r=n[e.x][e.y],s=r===r.toUpperCase(),i=t.x-e.x,a=t.y-e.y;if(Math.abs(i)+Math.abs(a)!==1)return!1;const l=s?e.y<=4:e.y>=5;return s?l?i===0&&a===-1||a===0&&Math.abs(i)===1:i===0&&a===-1:l?i===0&&a===1||a===0&&Math.abs(i)===1:i===0&&a===1}let Ga=class{static init(t){const n=t.eventBus;n.on("click",r=>{const s=t.board[r.x][r.y];if(!t.markedPos){if(s){const a=s===s.toUpperCase();(t.currentTurn==="red"&&a||t.currentTurn==="blue"&&!a)&&(t.markedPos=r,t.Xiangqi.$set({markedPos:{...t.markedPos}}))}return}if(Aa(t.markedPos,r,t.board)){const a={from:{...t.markedPos},to:{...r}};t.modified||(t.modifiedStep=t.currentStep),t.modified=!0,t.markedPos=null,n.emit("runmove",a)}else{if(s){const a=s===s.toUpperCase();if(t.currentTurn==="red"&&a||t.currentTurn==="blue"&&!a){t.markedPos=r,t.Xiangqi.$set({markedPos:t.markedPos});return}}t.markedPos=null,t.Xiangqi.$set({markedPos:t.markedPos})}})}};at("BoardClick",Ga);class qa{static init(t){const n=t.eventBus;n.on("load",()=>{t.modified=!1,t.history=[]}),n.on("edithistory",r=>{Xa(t,r)})}}function Xa(e,t){t.WXF=Or(t,e.board),t.captured=e.board[t.to.x][t.to.y];let{currentStep:n,history:r}=e;const s=t,i=r[n];i&&i.from.x===s.from.x&&i.from.y===s.from.y&&i.to.x===s.to.x&&(i.to.y,s.to.y),e.history.splice(n),e.history.push(s)}at("history",qa);class ja extends j.Modal{constructor(n,r,s,i="确认",a="取消"){super(n);ne(this,"resolvePromise");ne(this,"promise");this.title=r,this.message=s,this.confirmText=i,this.cancelText=a,this.resolvePromise=()=>{},this.promise=new Promise(l=>{this.resolvePromise=l})}onOpen(){const{contentEl:n}=this;n.createEl("h2",{text:this.title}),n.createEl("p",{text:this.message});const r=n.createDiv("modal-button-container"),s=r.createEl("button",{text:this.confirmText,cls:"mod-cta"});s.addEventListener("click",()=>{this.resolvePromise(!0),this.close()}),r.createEl("button",{text:this.cancelText}).addEventListener("click",()=>{this.resolvePromise(!1),this.close()}),s.focus(),this.scope.register([],"Enter",()=>{this.resolvePromise(!0),this.close()})}onClose(){const{contentEl:n}=this;n.empty()}}let Va=class{static init(t){const n=t.eventBus;n.on("runmove",r=>{n.emit("edithistory",r),Vn(t,r),n.emit("updateUI","runmove")}),n.on("undo",()=>{nn(t),n.emit("updateUI","undo")}),n.on("redo",()=>{rn(t),n.emit("updateUI","redo")}),n.on("toStart",()=>{for(;t.currentStep!=0;)nn(t);n.emit("updateUI","toStart")}),n.on("toEnd",()=>{const s=(t.modified?t.history.length:t.PGN.length)-t.currentStep;for(let i=0;i<s;i++)rn(t);n.emit("updateUI","toEnd")}),n.on("reset",()=>{if(t.modified){for(;t.currentStep!=0;)nn(t);t.modified=!1,t.history=[];for(let r=0;r<t.modifiedStep;r++)rn(t);t.modifiedStep=null,n.emit("updateUI","reset")}else n.emit("toStart")}),n.on("save",async()=>{let r="";if(t.history.length===0&&t.PGN.length===0){new j.Notice("历史记录和PGN记录为空，无需保存！");return}t.history.length===0&&t.PGN.length>0&&(r="当前PGN记录不为空，是否要清空？"),t.history.length>0&&t.PGN.length===0&&(r="当前PGN记录为空，是否要保存历史为PGN？"),t.history.length>0&&t.PGN.length>0&&(r="当前PGN记录不为空，是否要覆盖保存？");const s=new ja(t.plugin.app,"确认保存",r,"保存","取消");s.open(),await s.promise&&(await za(t),new j.Notice("保存成功！")),n.emit("updateUI","save")}),n.on("clickstep",r=>{const s=r-t.currentStep;if(s!==0){if(s>0)for(let i=0;i<s;i++)rn(t);else for(let i=0;i<-s;i++)nn(t);n.emit("updateUI")}})}};at("actions",Va);function Vn(e,t){const{from:n,to:r}=t;e.board[r.x][r.y]=e.board[n.x][n.y],e.board[n.x][n.y]="",e.currentStep++,e.currentTurn=e.currentTurn==="red"?"blue":"red"}function nn(e){if(e.markedPos=null,e.history.length===0)return;const t=e.history[e.currentStep-1];if(!t)return;const{from:n,to:r,captured:s}=t,i=e.board[r.x][r.y];e.board[n.x][n.y]=i,e.board[r.x][r.y]=null,s&&(e.board[r.x][r.y]=s),e.currentStep--,e.currentTurn=e.currentTurn==="red"?"blue":"red"}function rn(e){e.markedPos=null;const t=e.eventBus;if(!e.modified&&e.PGN.length>0){const n=e.PGN[e.currentStep];if(!n)return;t.emit("edithistory",n),Vn(e,n)}else{if(e.history.length<e.currentStep)return;const n=e.history[e.currentStep];if(!n)return;Vn(e,n)}}async function za(e){const t=e.plugin.app.workspace.getActiveViewOfType(j.MarkdownView);if(!t)return;const n=t.file;if(!n)return;const r=e.ctx.getSectionInfo(e.containerEl);if(!r)return;const{lineStart:s,lineEnd:i}=r,l=(await e.plugin.app.vault.read(n)).split(`
`);let f=l.slice(s,i+1);if(f.length<2)return;if(f=f.filter(h=>!/[A-Z]\d-[A-Z]\d/.test(h)),e.currentStep>0){const h=e.history.slice(0,e.currentStep).map(u=>Hi(u)),g=[];for(let u=0;u<h.length;u+=2){const c=`${Math.ceil((u+1)/2)}. ${h[u]} ${h[u+1]||""}`.trim();g.push(c)}const v=g.join(`
`);f.splice(f.length-1,0,v)}const d=[...l.slice(0,s),...f,...l.slice(i+1)].join(`
`);await e.plugin.app.vault.modify(n,d)}const Ha={init(e){e.eventBus.on("updateUI",()=>{e.settings.enableSpeech&&window.speechSynthesis&&e.currentStep>0&&e.history[e.currentStep-1]&&Ya(e.history[e.currentStep-1])})}};at("speech",Ha);function Ya(e){const{type:t,WXF:n}=e;if(!n||!t)return;const i=((t===t.toUpperCase()?"红：":"黑：")+n).replace(/卒/g,"族").replace(/將/g,"酱").replace(/将/g,"酱").replace(/相/g,"巷").replace(/仕/g,"市").replace(/炮/g,"泡").replace(/兵/g,"冰").replace(/傌/g,"马");if(!window.speechSynthesis)return;const a=new SpeechSynthesisUtterance(i);a.lang="zh-CN",window.speechSynthesis.cancel(),window.speechSynthesis.speak(a)}class Wa extends j.MarkdownRenderChild{constructor(n,r,s,i){super(n);ne(this,"settings");ne(this,"moduleRegistry");ne(this,"eventBus");this.containerEl=n,this.ctx=r,this.source=s,this.plugin=i,this.settings=this.plugin.settings}onload(){this.plugin.renderChildren.add(this),this.moduleRegistry=Gi(this),this.eventBus.emit("load","xq")}refresh(){this.eventBus.emit("updateUI")}onunload(){this.plugin.renderChildren.delete(this),this.eventBus.emit("unload"),qi(this)}}var Ka=ye("<button> </button>"),Za=ye("<div></div>");function Bi(e,t){if(new.target)return ft({component:Bi,...e});Ze(t,!1);const n=X(),r=X();let s=C(t,"settings",12),i=C(t,"board",12),a=C(t,"eventBus",12),l=C(t,"position",12,""),f=C(t,"selectedPiece",12);const d=v=>v===v.toUpperCase(),h={R:2,N:2,B:2,A:2,K:1,C:2,P:5,r:2,n:2,b:2,a:2,k:1,c:2,p:5};oe(()=>F(i()),()=>{A(n,i().flat().reduce((v,u)=>(u&&(v[u]=(v[u]||0)+1),v),{}))}),oe(()=>o(n),()=>{A(r,Object.fromEntries(Object.keys(h).map(v=>[v,h[v]-(o(n)[v]||0)])))}),Wt(),Ct();var g=Za();return be(g,5,()=>(F(Ce),V(()=>Object.entries(Ce))),we,(v,u)=>{var c=As(()=>ts(o(u),2));let m=()=>o(c)[0],p=()=>o(c)[1];var _=Ka();let w;var y=K(_,!0);G(_),W((E,B)=>{w=ce(_,1,E,"svelte-qrx9ds",w,B),bt(y,p())},[()=>(F(l()),m(),V(()=>`piece-btn ${l()} ${d(m())?"red-piece":"blue-piece"}`)),()=>({empty:o(r)[m()]===0,active:f()===m()})]),Ut("click",_,()=>a().emit("clickPieceBTN",m())),U(v,_)}),G(g),W(()=>{ce(g,1,`piece-btn-container ${l()}`,"svelte-qrx9ds"),jn(g,`--height: ${F(s()),V(()=>11*s().cellSize)??""}px;
    --width: ${F(s()),V(()=>10*s().cellSize)??""}px;`)}),U(e,g),Qe({get settings(){return s()},set settings(v){s(v),T()},get board(){return i()},set board(v){i(v),T()},get eventBus(){return a()},set eventBus(v){a(v),T()},get position(){return l()},set position(v){l(v),T()},get selectedPiece(){return f()},set selectedPiece(v){f(v),T()},$set:dt,$on:(v,u)=>ct(t,v,u)})}var Qa=ye("<button> </button>"),Ja=ye("<div></div>");function Ai(e,t){if(new.target)return ft({component:Ai,...e});Ze(t,!1);let n=C(t,"eventBus",12),r=C(t,"position",12,""),s=C(t,"currentTurn",12,"");const i=[{title:"先手",text:"先",action:"turn",color:!0},{title:"清空",text:"空",action:"empty"},{title:"填满",text:"满",action:"full"},{title:"保存",text:"存",action:"save"}];Ct();var a=Ja();return be(a,5,()=>i,we,(l,f)=>{let d=()=>o(f).title,h=()=>o(f).text,g=()=>o(f).action,v=()=>o(f).color;var u=Qa(),c=K(u,!0);G(u),W(()=>{x(u,"title",d()),ce(u,1,`toolbar-btn ${v()?s():""}`,"svelte-r1i62f"),bt(c,h())}),Ut("click",u,()=>n().emit("btn-click",g())),U(l,u)}),G(a),W(()=>ce(a,1,`getFENT-toolbar-container ${r()}`,"svelte-r1i62f")),U(e,a),Qe({get eventBus(){return n()},set eventBus(l){n(l),T()},get position(){return r()},set position(l){r(l),T()},get currentTurn(){return s()},set currentTurn(l){s(l),T()},$set:dt,$on:(l,f)=>ct(t,l,f)})}var el=ye("<div><!> <!> <!></div>");function Ri(e,t){if(new.target)return ft({component:Ri,...e});Ze(t,!1);const n=X();let r=C(t,"settings",12),s=C(t,"board",12),i=C(t,"markedPos",12),a=C(t,"selectedPiece",12),l=C(t,"currentTurn",12),f=C(t,"eventBus",12);oe(()=>F(r()),()=>{A(n,r().position)}),Wt(),Ct();var d=el(),h=K(d);vr(h,{get settings(){return r()},get board(){return s()},get markedPos(){return i()},get currentTurn(){return l()},get eventBus(){return f()},rotated:!1});var g=L(h,2);Bi(g,{get settings(){return r()},get board(){return s()},get eventBus(){return f()},get position(){return o(n)},get selectedPiece(){return a()}});var v=L(g,2);return Ai(v,{get eventBus(){return f()},get position(){return o(n)},get currentTurn(){return l()}}),G(d),W(()=>ce(d,1,`XQ-container ${F(r()),V(()=>r().position)??""}`,"svelte-31705r")),U(e,d),Qe({get settings(){return r()},set settings(u){r(u),T()},get board(){return s()},set board(u){s(u),T()},get markedPos(){return i()},set markedPos(u){i(u),T()},get selectedPiece(){return a()},set selectedPiece(u){a(u),T()},get currentTurn(){return l()},set currentTurn(u){l(u),T()},get eventBus(){return f()},set eventBus(u){f(u),T()},$set:dt,$on:(u,c)=>ct(t,u,c)})}class hr{static init(t){t.BoardModule=new hr(t)}constructor(t){const n=t.eventBus;n.on("load",()=>{t.modified=!1;const r=t.containerEl.createEl("div");t.Xiangqi=new Ri({target:r,props:{selectedPiece:t.selectedPiece,settings:t.settings,board:t.board,markedPos:t.markedPos,currentTurn:t.currentTurn,eventBus:t.eventBus}})}),n.on("updateUI",r=>{t.Xiangqi.$set({selectedPiece:t.selectedPiece,settings:{...t.settings},board:t.board,markedPos:t.markedPos,currentTurn:t.currentTurn})}),n.on("unload",()=>{t.Xiangqi.$destroy(),t.Xiangqi=null})}}jt("board",hr);class tl{static init(t){t.eventBus.on("click",r=>{const s=t.board[r.x][r.y];if(!t.markedPos&&!t.selectedPiece)s&&(t.markedPos=r,t.Xiangqi.$set({markedPos:{...t.markedPos}}));else if(t.markedPos&&!t.selectedPiece){const i=t.markedPos,a=r;t.board[a.x][a.y]=t.board[i.x][i.y],t.board[i.x][i.y]="",t.markedPos=null,t.Xiangqi.$set({board:[...t.board],markedPos:t.markedPos})}else t.selectedPiece&&(t.board[r.x][r.y]=t.selectedPiece,t.selectedPiece=null,t.Xiangqi.$set({board:[...t.board],selectedPiece:t.selectedPiece,markedPos:t.markedPos}))})}}jt("BoardClick",tl);class nl{static init(t){const n=t.eventBus;n.on("clickPieceBTN",r=>{t.markedPos=null,t.selectedPiece=r,t.eventBus.emit("updateUI")}),n.on("btn-click",r=>{switch(r){case"turn":t.currentTurn=t.currentTurn==="red"?"blue":"red";break;case"empty":t.board=Array.from({length:10},()=>Array(9).fill(null)),t.board[4][0]="k",t.board[4][9]="K";break;case"full":t.eventBus.emit("full");break;case"save":rl(t);break}n.emit("updateUI")})}}jt("actions",nl);async function rl(e){const t=il(e.board,e.currentTurn),n=e.plugin.app.workspace.getActiveViewOfType(j.MarkdownView);if(!n)return;const r=n.file;if(!r)return;const s=e.ctx.getSectionInfo(e.containerEl);if(!s)return;const{lineStart:i,lineEnd:a}=s,f=(await e.plugin.app.vault.read(r)).split(`
`);let d=f.slice(i,a+1);if(d.length<2)return;d[0]=d[0].replace(/^```xq\b.*$/,"```xiangqi"),d=[d[0],`[FEN "${t}"]`,"```"];const h=[...f.slice(0,i),...d,...f.slice(a+1)].join(`
`);await e.plugin.app.vault.modify(r,h),new j.Notice("FEN已保存到代码块")}function il(e,t){const n=[];for(let s=0;s<10;s++){let i="",a=0;for(let l=0;l<9;l++){const f=e[l][s];f?(a>0&&(i+=a,a=0),i+=f):a++}a>0&&(i+=a),n.push(i)}return`${n.join("/")} ${t==="red"?"w":"b"}`}class sl extends j.MarkdownRenderChild{constructor(n,r,s,i){super(n);ne(this,"settings");ne(this,"moduleRegistry");ne(this,"eventBus");this.containerEl=n,this.ctx=r,this.source=s,this.plugin=i,this.settings=this.plugin.settings}onload(){this.plugin.renderChildren.add(this),this.moduleRegistry=Xi(this),this.eventBus.emit("load","fen")}refresh(){this.eventBus.emit("updateUI")}onunload(){this.plugin.renderChildren.delete(this),this.eventBus.emit("unload"),ji(this)}}const Ar={position:"right",theme:"dark",autoTheme:!0,cellSize:50,fontSize:12,autoJump:"auto",enableSpeech:!0,showPGN:!0,showPGNtxt:!0,viewOnly:!1,rotated:!1};class al extends j.PluginSettingTab{constructor(n,r){super(n,r);ne(this,"plugin");this.plugin=r}display(){const n=this.plugin.settings;let{containerEl:r}=this;r.empty(),new j.Setting(r).setName("主题").setDesc("设置棋盘主题.").addDropdown(s=>{s.addOptions({light:"浅色",dark:"深色",auto:"跟随"}),s.setValue(n.autoTheme?"auto":n.theme).onChange(i=>{if(i==="auto"){n.autoTheme=!0;const a=()=>document.body.classList.contains("theme-dark");n.theme=a()?"dark":"light"}else n.autoTheme=!1,n.theme=i;this.plugin.refresh()})}),new j.Setting(r).setName("按钮布局").setDesc("设置按钮的位置.").addDropdown(s=>{s.addOptions({right:"右侧",bottom:"底部"}),s.setValue(n.position).onChange(i=>{n.position=i,this.plugin.refresh()})}),new j.Setting(r).setName("界面大小").setDesc("调整棋盘大小").addSlider(s=>{const i=s.sliderEl.parentElement,a=createEl("span",{text:Math.abs(n.cellSize).toString(),cls:"slider-value-label"});i.prepend(a),s.setLimits(15,100,1).setValue(n.cellSize).onChange(l=>{n.cellSize=l,a.textContent=l.toString(),this.plugin.refresh()}),s.sliderEl.addEventListener("input",()=>{const l=s.getValue();n.cellSize=l,a.textContent=l.toString()})}),r.createEl("h2",{text:"着法列表"}),new j.Setting(r).setName("启用着法列表").setDesc("是否显示棋谱").addToggle(s=>s.setValue(n.showPGN).onChange(i=>{n.showPGN=i,this.plugin.refresh()})),new j.Setting(r).setName("显示着法文字").setDesc("是否显示棋谱着法文字").addToggle(s=>s.setValue(n.showPGNtxt).onChange(i=>{n.showPGNtxt=i,this.plugin.refresh(),this.display()})),new j.Setting(r).setName("着法文字大小").setDesc("调整着法文字大小").addSlider(s=>{const i=s.sliderEl.parentElement,a=createEl("span",{text:Math.abs(n.fontSize).toString(),cls:"slider-value-label"});i.prepend(a),s.setLimits(10,25,1).setValue(n.fontSize).onChange(l=>{n.fontSize=l,a.textContent=l.toString(),this.plugin.refresh()}),s.sliderEl.addEventListener("input",()=>{const l=s.getValue();n.fontSize=l,a.textContent=l.toString()})}),new j.Setting(r).setName("开局跳转").setDesc("初始渲染时默认跳转至终局").addDropdown(s=>{s.addOptions({never:"从不",always:"始终",auto:"无FEN即正常开局时"}).setValue(n.autoJump).onChange(async i=>{n.autoJump=i})}),window.speechSynthesis&&new j.Setting(r).setName("朗读着法").setDesc("是否朗读棋谱走法").addToggle(s=>s.setValue(n.enableSpeech).onChange(i=>{n.enableSpeech=i}))}async hide(){this.plugin.refresh(),this.plugin.saveSettings()}}class ll extends j.Plugin{constructor(){super(...arguments);ne(this,"settings",Ar);ne(this,"renderChildren",new Set)}async onload(){await this.loadSettings(),this.addSettingTab(new al(this.app,this)),this.registerMarkdownCodeBlockProcessor("xiangqi",(n,r,s)=>{const i=new Wa(r,s,n,this);s.addChild(i)}),this.registerMarkdownCodeBlockProcessor("xq",(n,r,s)=>{const i=new sl(r,s,n,this);s.addChild(i)}),this.registerEvent(this.app.workspace.on("css-change",()=>{if(this.settings.autoTheme){const n=()=>document.body.classList.contains("theme-dark");this.settings.theme=n()?"dark":"light",this.refresh()}}))}refresh(){this.renderChildren.forEach(n=>{n.refresh()})}async loadSettings(){const n=await this.loadData();this.settings={...Ar,...n}}async saveSettings(){await this.saveData(this.settings)}}module.exports=ll;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2NvcmUvbW9kdWxlLXN5c3RlbS50cyIsIi4uL3NyYy9jb3JlL2V2ZW50LWJ1cy50cyIsIi4uL3NyYy90eXBlcy50cyIsIi4uL3NyYy91dGlscy9wYXJzZS50cyIsIi4uL3NyYy9tb2R1bGVzL1hpYW5ncWkvU291cmNlLnRzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2NvbnN0YW50cy5qcyIsIi4uL25vZGVfbW9kdWxlcy9lc20tZW52L2ZhbHNlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvc2hhcmVkL3V0aWxzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvZXF1YWxpdHkuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9zaGFyZWQvZXJyb3JzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2Vycm9ycy5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2ZsYWdzL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvY29uc3RhbnRzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2NvbnRleHQuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvd2FybmluZ3MuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2h5ZHJhdGlvbi5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9wcm94eS5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vb3BlcmF0aW9ucy5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9lcnJvci1oYW5kbGluZy5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vdGFzay5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vYmxvY2tzL2JvdW5kYXJ5LmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvZGVyaXZlZHMuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9hc3luYy5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2JhdGNoLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvc291cmNlcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9ydW50aW1lLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvZWZmZWN0cy5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vZWxlbWVudHMvYmluZGluZ3Mvc2hhcmVkLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9lbGVtZW50cy9ldmVudHMuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL3JlY29uY2lsZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL3RlbXBsYXRlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvdXRpbHMuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVuZGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvbGVnYWN5L2xlZ2FjeS1jbGllbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy92ZXJzaW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvZGlzY2xvc2UtdmVyc2lvbi5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2ZsYWdzL2xlZ2FjeS5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2luZGV4LWNsaWVudC5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vYmxvY2tzL2lmLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9ibG9ja3MvZWFjaC5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vZWxlbWVudHMvYWN0aW9ucy5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL3NoYXJlZC9hdHRyaWJ1dGVzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9lbGVtZW50cy9jbGFzcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vZWxlbWVudHMvc3R5bGUuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2VsZW1lbnRzL2F0dHJpYnV0ZXMuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2VsZW1lbnRzL2JpbmRpbmdzL3RoaXMuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2xlZ2FjeS9saWZlY3ljbGUuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2xlZ2FjeS9taXNjLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvc3RvcmUuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9wcm9wcy5qcyIsIi4uL3NyYy9saWIvdGhlbWVzLnRzIiwiLi4vc3JjL2xpYi9Cb2FyZC5zdmVsdGUiLCIuLi9zcmMvbGliL1hJYW5ncWkvVG9vbGJhci5zdmVsdGUiLCIuLi9zcmMvdXRpbHMvdXRpbHMudHMiLCIuLi9zcmMvbGliL1hJYW5ncWkvTW92ZUxpc3Quc3ZlbHRlIiwiLi4vc3JjL2xpYi9YSWFuZ3FpL1hpYW5ncWkuc3ZlbHRlIiwiLi4vc3JjL21vZHVsZXMvWGlhbmdxaS9DaGVzc0JvYXJkLnRzIiwiLi4vc3JjL3V0aWxzL3J1bGVzLnRzIiwiLi4vc3JjL21vZHVsZXMvWGlhbmdxaS9Cb2FyZENsaWNrLnRzIiwiLi4vc3JjL21vZHVsZXMvWGlhbmdxaS9IaXN0b3J5LnRzIiwiLi4vc3JjL3V0aWxzL2NvbmZpcm1Nb2RhbC50cyIsIi4uL3NyYy9tb2R1bGVzL1hpYW5ncWkvQWN0aW9ucy50cyIsIi4uL3NyYy9tb2R1bGVzL1hpYW5ncWkvU3BlYWtlci50cyIsIi4uL3NyYy9yZW5kZXJDaGlsZC9DaGVzc1JlbmRlckNoaWxkLnRzIiwiLi4vc3JjL2xpYi9HZW5GRU4vUGllY2VCVE5zLnN2ZWx0ZSIsIi4uL3NyYy9saWIvR2VuRkVOL1Rvb2xiYXIuc3ZlbHRlIiwiLi4vc3JjL2xpYi9HZW5GRU4vR2VuRkVOLnN2ZWx0ZSIsIi4uL3NyYy9tb2R1bGVzL0dlbkZFTi9GRU5Cb2FyZC50cyIsIi4uL3NyYy9tb2R1bGVzL0dlbkZFTi9Cb2FyZENsaWNrLnRzIiwiLi4vc3JjL21vZHVsZXMvR2VuRkVOL0FjdGlvbnMudHMiLCIuLi9zcmMvcmVuZGVyQ2hpbGQvR2VuRkVOUmVuZGVyQ2hpbGQudHMiLCIuLi9zcmMvc2V0dGluZ3MudHMiLCIuLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBDaGVzc01vZHVsZSA9IHtcbiAgICBpbml0KGhvc3Q6IG9iamVjdCk6IHZvaWQ7XG4gICAgZGVzdHJveT8oKTogdm9pZDtcbn07XG5cbmV4cG9ydCB0eXBlIE1vZHVsZVJlZ2lzdHJ5ID0gTWFwPHN0cmluZywgQ2hlc3NNb2R1bGU+O1xuXG4vLyDlt6XljoLlh73mlbDvvJrliJvlu7rmqKHlnZfns7vnu59cbmZ1bmN0aW9uIGNyZWF0ZU1vZHVsZVN5c3RlbSgpIHtcbiAgICBjb25zdCBtb2R1bGVNYXAgPSBuZXcgTWFwPHN0cmluZywgQ2hlc3NNb2R1bGU+KCk7XG4gICAgY29uc3QgcmVnaXN0cnlNYXAgPSBuZXcgV2Vha01hcDxvYmplY3QsIE1vZHVsZVJlZ2lzdHJ5PigpO1xuXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXIobmFtZTogc3RyaW5nLCBtb2R1bGU6IENoZXNzTW9kdWxlKSB7XG4gICAgICAgIGlmICghbW9kdWxlTWFwLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgbW9kdWxlTWFwLnNldChuYW1lLCBtb2R1bGUpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWdpc3RyeShob3N0OiBvYmplY3QpIHtcbiAgICAgICAgaWYgKHJlZ2lzdHJ5TWFwLmhhcyhob3N0KSkgcmV0dXJuIHJlZ2lzdHJ5TWFwLmdldChob3N0KTtcbiAgICAgICAgY29uc3QgcmVnaXN0cnkgPSBuZXcgTWFwPHN0cmluZywgQ2hlc3NNb2R1bGU+KCk7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIG1vZHVsZV0gb2YgbW9kdWxlTWFwKSB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG1vZHVsZS5pbml0KGhvc3QpO1xuICAgICAgICAgICAgcmVnaXN0cnkuc2V0KG5hbWUsIGluc3RhbmNlID8/IG1vZHVsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVnaXN0cnlNYXAuc2V0KGhvc3QsIHJlZ2lzdHJ5KTtcbiAgICAgICAgcmV0dXJuIHJlZ2lzdHJ5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlc3Ryb3lSZWdpc3RyeShob3N0OiBvYmplY3QpIHtcbiAgICAgICAgY29uc3QgcmVnaXN0cnkgPSByZWdpc3RyeU1hcC5nZXQoaG9zdCk7XG4gICAgICAgIGlmICghcmVnaXN0cnkpIHJldHVybjtcbiAgICAgICAgZm9yIChjb25zdCBtb2R1bGUgb2YgcmVnaXN0cnkudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKG1vZHVsZSBhcyBhbnkpLmRlc3Ryb3kgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIChtb2R1bGUgYXMgYW55KS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVnaXN0cnkuY2xlYXIoKTtcbiAgICAgICAgcmVnaXN0cnlNYXAuZGVsZXRlKGhvc3QpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHJlZ2lzdGVyLFxuICAgICAgICBjcmVhdGVSZWdpc3RyeSxcbiAgICAgICAgZGVzdHJveVJlZ2lzdHJ5LFxuICAgIH07XG59XG5cbi8vIOWunuS+i+WMliBYUSDmqKHlnZfns7vnu59cbmNvbnN0IFhRTW9kdWxlcyA9IGNyZWF0ZU1vZHVsZVN5c3RlbSgpO1xuXG4vLyDlr7zlh7ogWFEg5qih5Z2X55u45YWz5Ye95pWwXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJYUU1vZHVsZShuYW1lOiBzdHJpbmcsIG1vZHVsZTogQ2hlc3NNb2R1bGUpIHtcbiAgICBYUU1vZHVsZXMucmVnaXN0ZXIobmFtZSwgbW9kdWxlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVhRTW9kdWxlUmVnaXN0cnkoaG9zdDogb2JqZWN0KSB7XG4gICAgcmV0dXJuIFhRTW9kdWxlcy5jcmVhdGVSZWdpc3RyeShob3N0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lYUU1vZHVsZVJlZ2lzdHJ5KGhvc3Q6IG9iamVjdCkge1xuICAgIFhRTW9kdWxlcy5kZXN0cm95UmVnaXN0cnkoaG9zdCk7XG59XG5cbi8vIOWunuS+i+WMliBHZW5GRU4g5qih5Z2X57O757ufXG5jb25zdCBHZW5GRU5Nb2R1bGVzID0gY3JlYXRlTW9kdWxlU3lzdGVtKCk7XG5cbi8vIOWvvOWHuiBHZW5GRU4g5qih5Z2X55u45YWz5Ye95pWwXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJHZW5GRU5Nb2R1bGUobmFtZTogc3RyaW5nLCBtb2R1bGU6IENoZXNzTW9kdWxlKSB7XG4gICAgR2VuRkVOTW9kdWxlcy5yZWdpc3RlcihuYW1lLCBtb2R1bGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR2VuRkVOTW9kdWxlUmVnaXN0cnkoaG9zdDogb2JqZWN0KSB7XG4gICAgcmV0dXJuIEdlbkZFTk1vZHVsZXMuY3JlYXRlUmVnaXN0cnkoaG9zdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95R2VuRkVOTW9kdWxlUmVnaXN0cnkoaG9zdDogb2JqZWN0KSB7XG4gICAgR2VuRkVOTW9kdWxlcy5kZXN0cm95UmVnaXN0cnkoaG9zdCk7XG59XG4iLCJ0eXBlIEV2ZW50VHlwZSA9IHN0cmluZyB8IHN5bWJvbDtcbnR5cGUgSGFuZGxlcjxUID0gYW55PiA9IChwYXlsb2FkPzogVCkgPT4gdm9pZDtcbmltcG9ydCB7IHJlZ2lzdGVyWFFNb2R1bGUsIHJlZ2lzdGVyR2VuRkVOTW9kdWxlIH0gZnJvbSAnLi9tb2R1bGUtc3lzdGVtJztcblxuZXhwb3J0IGNsYXNzIEV2ZW50QnVzIHtcbiAgICBwcml2YXRlIGhhbmRsZXJzID0gbmV3IE1hcDxFdmVudFR5cGUsIFNldDxIYW5kbGVyPGFueT4+PigpO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGhvc3Q6IG9iamVjdCkgeyB9XG5cbiAgICBzdGF0aWMgaW5pdChob3N0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogdm9pZCB7XG4gICAgICAgIGhvc3QuZXZlbnRCdXMgPSBuZXcgRXZlbnRCdXMoaG9zdCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5jbGVhcigpO1xuICAgIH1cblxuICAgIG9uPFQgPSBhbnk+KGV2ZW50OiBFdmVudFR5cGUsIGhhbmRsZXI6IEhhbmRsZXI8VD4pIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhbmRsZXJzLmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGV2ZW50LCBuZXcgU2V0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuZ2V0KGV2ZW50KSEuYWRkKGhhbmRsZXIgYXMgSGFuZGxlcjxhbnk+KTtcbiAgICB9XG5cbiAgICBlbWl0KGV2ZW50OiBFdmVudFR5cGUsIHBheWxvYWQ/OiBhbnkpIHtcbiAgICAgICAgY29uc3Qgc2V0ID0gdGhpcy5oYW5kbGVycy5nZXQoZXZlbnQpO1xuICAgICAgICBpZiAoIXNldCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBoYXNQYXlsb2FkID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMjtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHNldCkge1xuICAgICAgICAgICAgaWYgKGhhc1BheWxvYWQpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKHBheWxvYWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvZmY8VCA9IGFueT4oZXZlbnQ6IEV2ZW50VHlwZSwgaGFuZGxlcjogSGFuZGxlcjxUPikge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmdldChldmVudCk/LmRlbGV0ZShoYW5kbGVyKTtcbiAgICB9XG59XG5cbnJlZ2lzdGVyWFFNb2R1bGUoJ2V2ZW50QnVzJywgRXZlbnRCdXMpO1xucmVnaXN0ZXJHZW5GRU5Nb2R1bGUoJ2V2ZW50QnVzJywgRXZlbnRCdXMpO1xuIiwiZXhwb3J0IGludGVyZmFjZSBJU2V0dGluZ3Mge1xuXHRwb3NpdGlvbjogXCJib3R0b21cIiB8IFwicmlnaHRcIjtcblx0dGhlbWU6IFwibGlnaHRcIiB8IFwiZGFya1wiO1xuXHRhdXRvVGhlbWU6IGJvb2xlYW47XG5cdGNlbGxTaXplOiBudW1iZXI7XG5cdGZvbnRTaXplOiBudW1iZXI7XG5cdGF1dG9KdW1wOiBcIm5ldmVyXCIgfCBcImFsd2F5c1wiIHwgXCJhdXRvXCI7XG5cdGVuYWJsZVNwZWVjaDogYm9vbGVhbjtcblx0c2hvd1BHTjogYm9vbGVhbjtcblx0c2hvd1BHTnR4dDogYm9vbGVhbjtcblx0dmlld09ubHk/OiBib29sZWFuO1xuXHRyb3RhdGVkPzogYm9vbGVhbjtcbn1cbmV4cG9ydCB0eXBlIElPcHRpb25zID0ge1xuXHRwcm90ZWN0ZWQ/OiBib29sZWFuO1xuXHRyb3RhdGVkPzogYm9vbGVhbjtcbn07XG5leHBvcnQgdHlwZSBJVHVybiA9IFwicmVkXCIgfCBcImJsdWVcIjtcblxuZXhwb3J0IGNvbnN0IFBJRUNFX0NIQVJTID0ge1xuXHQvLyDpu5HmlrkgKOWwj+WGmSlcblx0azogXCLlsIZcIixcblx0YTogXCLlo6tcIixcblx0YjogXCLosaFcIixcblx0cjogXCLovaZcIixcblx0bjogXCLpqaxcIixcblx0YzogXCLnoLJcIixcblx0cDogXCLljZJcIixcblx0Ly8g57qi5pa5ICjlpKflhpkpXG5cdEs6IFwi5biFXCIsXG5cdEE6IFwi5LuVXCIsXG5cdEI6IFwi55u4XCIsXG5cdFI6IFwi5L+lXCIsXG5cdE46IFwi5YKMXCIsXG5cdEM6IFwi54KuXCIsXG5cdFA6IFwi5YW1XCIsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgUGllY2VUeXBlID0ga2V5b2YgdHlwZW9mIFBJRUNFX0NIQVJTO1xuZXhwb3J0IHR5cGUgSUJvYXJkID0gKFBpZWNlVHlwZSB8IG51bGwpW11bXTtcbmV4cG9ydCB0eXBlIElQb3NpdGlvbiA9IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbmV4cG9ydCBpbnRlcmZhY2UgSVBpZWNlIHtcblx0dHlwZTogUGllY2VUeXBlO1xuXHRwb3NpdGlvbjogSVBvc2l0aW9uO1xuXHRwaWVjZUVsPzogRWxlbWVudDtcblx0aGlkZGVuPzogYm9vbGVhbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSU1vdmUge1xuXHR0eXBlPzogUGllY2VUeXBlO1xuXHRmcm9tOiBJUG9zaXRpb247XG5cdHRvOiBJUG9zaXRpb247XG5cdGNhcHR1cmVkPzogSVBpZWNlIHwgbnVsbDtcblx0SUNDUz86IHN0cmluZztcblx0V1hGPzogc3RyaW5nO1xufVxuZXhwb3J0IHR5cGUgSUhpc3RvcnkgPSBJTW92ZVtdO1xuIiwiaW1wb3J0IHR5cGUgeyBJQm9hcmQsIElNb3ZlLCBJT3B0aW9ucywgSVR1cm4sIFBpZWNlVHlwZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgUElFQ0VfQ0hBUlMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTb3VyY2Uoc291cmNlOiBzdHJpbmcpOiB7XG4gICAgaGF2ZUZFTjogYm9vbGVhbjtcbiAgICBib2FyZDogSUJvYXJkO1xuICAgIFBHTjogSU1vdmVbXTtcbiAgICBmaXJzdFR1cm46IElUdXJuO1xuICAgIG9wdGlvbnM6IElPcHRpb25zO1xufSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHBhcnNlT3B0aW9uKHNvdXJjZSk7XG4gICAgbGV0IGhhdmVGRU4gPSBmYWxzZTtcbiAgICBsZXQgZmVuID1cbiAgICAgICAgc291cmNlLm1hdGNoKFxuICAgICAgICAgICAgLyhbcm5iYWtjcFJOQkFLQ1AxLTldK1xcLyl7OX1bcm5iYWtjcFJOQkFLQ1AxLTldKyg/Olxccytbd2JdKT8vLFxuICAgICAgICApPy5bMF07XG4gICAgaWYgKCFmZW4pIHtcbiAgICAgICAgZmVuID0gXCJybmJha2FibnIvOS8xYzVjMS9wMXAxcDFwMXAvOS85L1AxUDFQMVAxUC8xQzVDMS85L1JOQkFLQUJOUlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGhhdmVGRU4gPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBib2FyZDogSUJvYXJkID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAgfSwgKCkgPT4gQXJyYXkoOSkuZmlsbChudWxsKSk7XG4gICAgY29uc3QgW3Bvc2l0aW9uLCB0dXJuXSA9IGZlbi50cmltKCkuc3BsaXQoL1xccysvKTtcblxuICAgIGNvbnN0IHJvd3MgPSBwb3NpdGlvbi5zcGxpdChcIi9cIik7XG4gICAgcm93cy5mb3JFYWNoKChyb3csIHkpID0+IHtcbiAgICAgICAgbGV0IHggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGNoYXIgb2Ygcm93KSB7XG4gICAgICAgICAgICBpZiAoL1sxLTldLy50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgeCArPSBwYXJzZUludChjaGFyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL1thLXpBLVpdLy50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgYm9hcmRbeF1beV0gPSBjaGFyIGFzIFBpZWNlVHlwZTtcbiAgICAgICAgICAgICAgICB4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBmaXJzdFR1cm4gPSB0dXJuID09PSBcImJcIiA/IFwiYmx1ZVwiIDogXCJyZWRcIjtcbiAgICAvLyAyLiDmj5Dlj5bmnIDlkI7kuIDmrrXotbDms5XvvIjljrvmjonms6jph4rlkozmjaLooYzvvIlcbiAgICBjb25zdCBQR05TdHJpbmcgPSBzb3VyY2UubWF0Y2goL1xcYltBLVpdXFxkLVtBLVpdXFxkXFxiL2cpIHx8IFtdO1xuICAgIGxldCB0bXBCb2FyZDogSUJvYXJkID0gYm9hcmQubWFwKChyb3cpID0+IFsuLi5yb3ddKTtcbiAgICBjb25zdCBQR04gPSBQR05TdHJpbmcubWFwKChzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgbW92ZSA9IHBhcnNlSUNDUyhzdHJpbmcsIHRtcEJvYXJkKTtcbiAgICAgICAgbW92ZS5XWEYgPSBnZXRXWEYobW92ZSwgdG1wQm9hcmQpO1xuICAgICAgICB0bXBCb2FyZFttb3ZlLnRvLnhdW21vdmUudG8ueV0gPSB0bXBCb2FyZFttb3ZlLmZyb20ueF1bbW92ZS5mcm9tLnldO1xuICAgICAgICB0bXBCb2FyZFttb3ZlLmZyb20ueF1bbW92ZS5mcm9tLnldID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIG1vdmU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGF2ZUZFTixcbiAgICAgICAgYm9hcmQsXG4gICAgICAgIFBHTixcbiAgICAgICAgZmlyc3RUdXJuLFxuICAgICAgICBvcHRpb25zXG4gICAgfTtcbn1cblxuLyoqXG4gKiDku47lrZfnrKbkuLLkuK3op6PmnpDpooTlrprkuYnnmoTpgInpobnvvIh2aWV3T25seS9yb3RhdGVkL3Nob3dQR07vvIlcbiAqIEBwYXJhbSBzb3VyY2Ug6L6T5YWl55qE5a2X56ym5LiyXG4gKiBAcmV0dXJucyDljIXlkKvlt7Lop6PmnpDpgInpobnnmoTlr7nosaHvvIjku4XljIXlkKvljLnphY3liLDnmoTpgInpobnvvIlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlT3B0aW9uKHNvdXJjZTogc3RyaW5nKTogSU9wdGlvbnMge1xuICAgIGNvbnN0IG9wdGlvbnM6IElPcHRpb25zID0ge307XG4gICAgY29uc3Qgb3B0aW9uUGF0dGVybnMgPSBbXG4gICAgICAgIHsga2V5OiBcInByb3RlY3RlZFwiLCByZWdleDogL1xcYihwcm90ZWN0ZWR8UClcXHMqWzrvvJpdXFxzKih0cnVlfGZhbHNlKVxccyovaSB9LFxuICAgICAgICB7IGtleTogXCJyb3RhdGVkXCIsIHJlZ2V4OiAvXFxiKHJvdGF0ZWR8cilcXHMqWzrvvJpdXFxzKih0cnVlfGZhbHNlKVxccyovaSB9LFxuICAgICAgICAvLyB7IGtleTogJ3Nob3dQR04nLCByZWdleDogL1xcYihzaG93UEdOfHMpXFxzKls677yaXVxccyoodHJ1ZXxmYWxzZSlcXHMqL2kgfVxuICAgIF07XG5cbiAgICBvcHRpb25QYXR0ZXJucy5mb3JFYWNoKCh7IGtleSwgcmVnZXggfSkgPT4ge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHNvdXJjZS5tYXRjaChyZWdleCk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgb3B0aW9uc1trZXkgYXMga2V5b2YgSU9wdGlvbnNdID0gbWF0Y2hbMl0udG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBvcHRpb25zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VJQ0NTKElDQ1M6IHN0cmluZywgdG1wQm9hcmQ6IElCb2FyZCk6IElNb3ZlIHtcbiAgICAvLyDop6PmnpAgUEdOIOWtl+espuS4suS4uiBJTW92ZSDmlbDnu4RcbiAgICAvLyDop6PmnpDotbDms5XvvIzkvovlpoIgXCJIMi1EMlwiIC0+IOi1t+eCueWSjOe7iOeCuVxuICAgIGNvbnN0IFtmcm9tU3RpbmcsIHRvU3RpbmddID0gSUNDUy5zcGxpdChcIi1cIik7XG4gICAgY29uc3QgZnJvbVggPSBmcm9tU3RpbmcuY2hhckNvZGVBdCgwKSAtIFwiQVwiLmNoYXJDb2RlQXQoMCk7XG4gICAgY29uc3QgZnJvbVkgPSA5IC0gcGFyc2VJbnQoZnJvbVN0aW5nWzFdKTsgLy8g5L+u5q2jIFkg5Z2Q5qCH77yM5LuO5LiL5b6A5LiK5pWwXG4gICAgY29uc3QgdG9YID0gdG9TdGluZy5jaGFyQ29kZUF0KDApIC0gXCJBXCIuY2hhckNvZGVBdCgwKTtcbiAgICBjb25zdCB0b1kgPSA5IC0gcGFyc2VJbnQodG9TdGluZ1sxXSk7IC8vIOS/ruatoyBZIOWdkOagh++8jOS7juS4i+W+gOS4iuaVsFxuICAgIGNvbnN0IGZyb20gPSB7IHg6IGZyb21YLCB5OiBmcm9tWSB9O1xuICAgIGNvbnN0IHRvID0geyB4OiB0b1gsIHk6IHRvWSB9O1xuICAgIGNvbnN0IHR5cGUgPSB0bXBCb2FyZFtmcm9tWF1bZnJvbVldO1xuICAgIGlmICghdHlwZSkge1xuICAgICAgICByZXR1cm4geyBmcm9tLCB0bywgSUNDUyB9O1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlLCBmcm9tLCB0bywgSUNDUyB9O1xufVxuLyoqXG4gKiDlsIYgeyBmcm9tOiB7IHgsIHkgfSwgdG86IHsgeCwgeSB9IH0g6L2s5o2i5Li6IFwiQTAtQjdcIiDmoLzlvI9cbiAqIEBwYXJhbSBtb3ZlIOWMheWQqyBmcm9tIOWSjCB0byDnmoTlr7nosaHvvIzkvovlpoIgeyBmcm9tOiB7IHg6IDAsIHk6IDAgfSwgdG86IHsgeDogMSwgeTogNyB9IH1cbiAqIEByZXR1cm5zIOi/lOWbniBcIkEwLUI3XCIg5qC85byP55qE5a2X56ym5LiyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJQ0NTKG1vdmU6IElNb3ZlKTogc3RyaW5nIHtcbiAgICAvLyDmoKHpqozovpPlhaVcbiAgICBpZiAoXG4gICAgICAgIG1vdmUuZnJvbS54ID09IG51bGwgfHxcbiAgICAgICAgbW92ZS5mcm9tLnkgPT0gbnVsbCB8fFxuICAgICAgICBtb3ZlLnRvLnggPT0gbnVsbCB8fFxuICAgICAgICBtb3ZlLnRvLnkgPT0gbnVsbFxuICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG1vdmU6IHggYW5kIHkgbXVzdCBiZSBudW1iZXJzXCIpO1xuICAgIH1cblxuICAgIC8vIOWwhiB4IOi9rOaNouS4uuWkp+WGmeWtl+avje+8iDA9QSwgMT1CLCAuLi4sIDc9SO+8iVxuICAgIGNvbnN0IHhUb0xldHRlciA9ICh4OiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgICAgICBpZiAoeCA8IDAgfHwgeCA+IDI1KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB4IG11c3QgYmUgYmV0d2VlbiAwIGFuZCAyNSwgZ290ICR7eH1gKTtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyB4KTsgLy8gNjUgPSAnQScg55qEIEFTQ0lJIOeggVxuICAgIH07XG5cbiAgICBjb25zdCBmcm9tU3RyID0gYCR7eFRvTGV0dGVyKG1vdmUuZnJvbS54KX0kezkgLSBtb3ZlLmZyb20ueX1gO1xuICAgIGNvbnN0IHRvU3RyID0gYCR7eFRvTGV0dGVyKG1vdmUudG8ueCl9JHs5IC0gbW92ZS50by55fWA7XG5cbiAgICByZXR1cm4gYCR7ZnJvbVN0cn0tJHt0b1N0cn1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V1hGKG1vdmU6IElNb3ZlLCB0bXBCb2FyZDogSUJvYXJkKTogc3RyaW5nIHtcblxuICAgIGNvbnN0IE1PVkVfVFlQRVMgPSB7XG4gICAgICAgIGhvcml6b250YWw6IFwi5bmzXCIsXG4gICAgICAgIGZvcndhcmQ6IFwi6L+bXCIsXG4gICAgICAgIGJhY2t3YXJkOiBcIumAgFwiLFxuICAgIH07XG5cbiAgICBjb25zdCBOVU1CRVJTX1JFRCA9IFtcIuS4gFwiLCBcIuS6jFwiLCBcIuS4iVwiLCBcIuWbm1wiLCBcIuS6lFwiLCBcIuWFrVwiLCBcIuS4g1wiLCBcIuWFq1wiLCBcIuS5nVwiXTtcbiAgICBjb25zdCBOVU1CRVJTX0JMVUUgPSBbXCIxXCIsIFwiMlwiLCBcIjNcIiwgXCI0XCIsIFwiNVwiLCBcIjZcIiwgXCI3XCIsIFwiOFwiLCBcIjlcIl07XG5cbiAgICBjb25zdCB7IGZyb20sIHRvIH0gPSBtb3ZlO1xuICAgIGNvbnN0IHBpZWNlID0gdG1wQm9hcmRbZnJvbS54XVtmcm9tLnldO1xuICAgIGlmICghcGllY2UpIHJldHVybiBcIlwiO1xuXG4gICAgY29uc3QgaXNSZWQgPSBwaWVjZSA9PT0gcGllY2UudG9VcHBlckNhc2UoKTtcblxuICAgIGNvbnN0IG51bWJlcnMgPSBpc1JlZCA/IE5VTUJFUlNfUkVEIDogTlVNQkVSU19CTFVFO1xuICAgIGNvbnN0IEJPQVJEOiBJQm9hcmQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA5IH0sICgpID0+IEFycmF5KDEwKS5maWxsKG51bGwpKTtcbiAgICBsZXQgZnJvbXggPSBmcm9tLng7XG4gICAgbGV0IGZyb215ID0gZnJvbS55O1xuICAgIGxldCB0b3ggPSB0by54O1xuICAgIGxldCB0b3kgPSB0by55O1xuICAgIGlmIChpc1JlZCkge1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDk7IHgrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCAxMDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgQk9BUkRbeF1beV0gPSB0bXBCb2FyZFs4IC0geF1bOSAtIHldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZyb214ID0gOCAtIGZyb20ueDtcbiAgICAgICAgZnJvbXkgPSA5IC0gZnJvbS55O1xuICAgICAgICB0b3ggPSA4IC0gdG8ueDtcbiAgICAgICAgdG95ID0gOSAtIHRvLnk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCA5OyB4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgMTA7IHkrKykge1xuICAgICAgICAgICAgICAgIEJPQVJEW3hdW3ldID0gdG1wQm9hcmRbeF1beV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDojrflj5botbflp4vkvY3nva7mj4/ov7DvvIjnuqLmlrnlkozpu5HmlrnnmoTlnZDmoIfns7vmmK/nm7jlj43nmoTvvIlcbiAgICBsZXQgcHJlID0gXCJcIjtcbiAgICBsZXQgc2FtZWNvbDogbnVtYmVyW10gPSBbXTtcbiAgICAvLyDmo4Dmn6XlkIzliJfmmK/lkKbmnInnm7jlkIzmo4vlrZBcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IDEwOyB5KyspIHtcbiAgICAgICAgaWYgKEJPQVJEW2Zyb214XVt5XSA9PT0gcGllY2UpIHtcbiAgICAgICAgICAgIHNhbWVjb2wucHVzaCh5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2FtZWNvbC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcHJlID0gUElFQ0VfQ0hBUlNbcGllY2VdICsgbnVtYmVyc1tmcm9teF07XG4gICAgfSBlbHNlIGlmIChzYW1lY29sLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHNhbWVjb2wuaW5kZXhPZihmcm9teSk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcHJlID0gXCLlkI5cIiArIFBJRUNFX0NIQVJTW3BpZWNlXTtcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gMSkge1xuICAgICAgICAgICAgcHJlID0gXCLliY1cIiArIFBJRUNFX0NIQVJTW3BpZWNlXTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2FtZWNvbC5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBzYW1lY29sLmluZGV4T2YoZnJvbXkpO1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHByZSA9IFwi5ZCOXCIgKyBQSUVDRV9DSEFSU1twaWVjZV07XG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDEpIHtcbiAgICAgICAgICAgIHByZSA9IFwi5LitXCIgKyBQSUVDRV9DSEFSU1twaWVjZV07XG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDIpIHtcbiAgICAgICAgICAgIHByZSA9IFwi5YmNXCIgKyBQSUVDRV9DSEFSU1twaWVjZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8g56Gu5a6a56e75Yqo57G75Z6L5ZKM6Led56a7XG4gICAgbGV0IG1vdmVUeXBlOiBzdHJpbmc7XG4gICAgbGV0IGRlc3Q6IHN0cmluZztcblxuICAgIGlmIChmcm9teCA9PT0gdG94KSB7XG4gICAgICAgIC8vIOe6teWQkeenu+WKqFxuICAgICAgICBjb25zdCBkZWx0YSA9IHRveSAtIGZyb215O1xuICAgICAgICBtb3ZlVHlwZSA9IGRlbHRhID4gMCA/IE1PVkVfVFlQRVMuZm9yd2FyZCA6IE1PVkVfVFlQRVMuYmFja3dhcmQ7XG4gICAgICAgIGRlc3QgPSBudW1iZXJzW01hdGguYWJzKGRlbHRhKSAtIDFdO1xuICAgIH0gZWxzZSBpZiAoZnJvbXkgPT09IHRveSkge1xuICAgICAgICAvLyDmqKrlkJHnp7vliqhcbiAgICAgICAgbW92ZVR5cGUgPSBNT1ZFX1RZUEVTLmhvcml6b250YWw7XG4gICAgICAgIGRlc3QgPSBudW1iZXJzW3RveF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbW92ZVR5cGUgPSBmcm9teSA8IHRveSA/IE1PVkVfVFlQRVMuZm9yd2FyZCA6IE1PVkVfVFlQRVMuYmFja3dhcmQ7XG4gICAgICAgIGRlc3QgPSBudW1iZXJzW3RveF07XG4gICAgfVxuICAgIHJldHVybiBgJHtwcmV9JHttb3ZlVHlwZX0ke2Rlc3R9YDtcbn1cbiIsImltcG9ydCB7IHJlZ2lzdGVyR2VuRkVOTW9kdWxlLCByZWdpc3RlclhRTW9kdWxlIH0gZnJvbSBcIi4uLy4uL2NvcmUvbW9kdWxlLXN5c3RlbVwiO1xuaW1wb3J0IHsgcGFyc2VTb3VyY2UgfSBmcm9tIFwiLi4vLi4vdXRpbHMvcGFyc2VcIjtcblxuZXhwb3J0IGNvbnN0IFNvdXJjZU1vZHVsZSA9IHtcblxuXHRpbml0KGhvc3Q6IGFueSkge1xuXHRcdGNvbnN0IGV2ZW50QnVzID0gaG9zdC5ldmVudEJ1cztcblx0XHRldmVudEJ1cy5vbignbG9hZCcsIChyZW5kZXJDaGlsZDogc3RyaW5nKSA9PiB7XG5cdFx0XHRzd2l0Y2ggKHJlbmRlckNoaWxkKSB7XG5cdFx0XHRcdGNhc2UgJ3hxJzpcblx0XHRcdFx0XHRjb25zdCB7IGhhdmVGRU4sIGJvYXJkLCBQR04sIGZpcnN0VHVybiwgb3B0aW9ucyB9ID0gcGFyc2VTb3VyY2UoaG9zdC5zb3VyY2UpXG5cdFx0XHRcdFx0aG9zdC5oYXZlRkVOID0gaGF2ZUZFTjtcblx0XHRcdFx0XHRob3N0LmJvYXJkID0gYm9hcmQ7XG5cdFx0XHRcdFx0aG9zdC5QR04gPSBQR047XG5cdFx0XHRcdFx0aG9zdC5jdXJyZW50VHVybiA9IGZpcnN0VHVybjtcblx0XHRcdFx0XHRob3N0LmN1cnJlbnRTdGVwID0gMDtcblx0XHRcdFx0XHRob3N0Lm9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdmZW4nOlxuXHRcdFx0XHRcdGhvc3QuYm9hcmQgPSBwYXJzZVNvdXJjZSgnJykuYm9hcmQ7XG5cdFx0XHRcdFx0aG9zdC5jdXJyZW50VHVybiA9ICdyZWQnO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRldmVudEJ1cy5vbignZnVsbCcsICgpID0+IHtcblx0XHRcdGhvc3QuYm9hcmQgPSBwYXJzZVNvdXJjZSgnJykuYm9hcmQ7XG5cdFx0XHRldmVudEJ1cy5lbWl0KCd1cGRhdGVVSScpO1xuXHRcdH0pXG5cdH1cbn1cblxucmVnaXN0ZXJYUU1vZHVsZSgnc291cmNlJywgU291cmNlTW9kdWxlKTtcbnJlZ2lzdGVyR2VuRkVOTW9kdWxlKCdzb3VyY2UnLCBTb3VyY2VNb2R1bGUpO1xuIiwiZXhwb3J0IGNvbnN0IERFUklWRUQgPSAxIDw8IDE7XG5leHBvcnQgY29uc3QgRUZGRUNUID0gMSA8PCAyO1xuZXhwb3J0IGNvbnN0IFJFTkRFUl9FRkZFQ1QgPSAxIDw8IDM7XG5leHBvcnQgY29uc3QgQkxPQ0tfRUZGRUNUID0gMSA8PCA0O1xuZXhwb3J0IGNvbnN0IEJSQU5DSF9FRkZFQ1QgPSAxIDw8IDU7XG5leHBvcnQgY29uc3QgUk9PVF9FRkZFQ1QgPSAxIDw8IDY7XG5leHBvcnQgY29uc3QgQk9VTkRBUllfRUZGRUNUID0gMSA8PCA3O1xuZXhwb3J0IGNvbnN0IFVOT1dORUQgPSAxIDw8IDg7XG5leHBvcnQgY29uc3QgRElTQ09OTkVDVEVEID0gMSA8PCA5O1xuZXhwb3J0IGNvbnN0IENMRUFOID0gMSA8PCAxMDtcbmV4cG9ydCBjb25zdCBESVJUWSA9IDEgPDwgMTE7XG5leHBvcnQgY29uc3QgTUFZQkVfRElSVFkgPSAxIDw8IDEyO1xuZXhwb3J0IGNvbnN0IElORVJUID0gMSA8PCAxMztcbmV4cG9ydCBjb25zdCBERVNUUk9ZRUQgPSAxIDw8IDE0O1xuZXhwb3J0IGNvbnN0IEVGRkVDVF9SQU4gPSAxIDw8IDE1O1xuLyoqICdUcmFuc3BhcmVudCcgZWZmZWN0cyBkbyBub3QgY3JlYXRlIGEgdHJhbnNpdGlvbiBib3VuZGFyeSAqL1xuZXhwb3J0IGNvbnN0IEVGRkVDVF9UUkFOU1BBUkVOVCA9IDEgPDwgMTY7XG5leHBvcnQgY29uc3QgSU5TUEVDVF9FRkZFQ1QgPSAxIDw8IDE3O1xuZXhwb3J0IGNvbnN0IEhFQURfRUZGRUNUID0gMSA8PCAxODtcbmV4cG9ydCBjb25zdCBFRkZFQ1RfUFJFU0VSVkVEID0gMSA8PCAxOTtcbmV4cG9ydCBjb25zdCBVU0VSX0VGRkVDVCA9IDEgPDwgMjA7XG5cbi8vIEZsYWdzIHVzZWQgZm9yIGFzeW5jXG5leHBvcnQgY29uc3QgUkVBQ1RJT05fSVNfVVBEQVRJTkcgPSAxIDw8IDIxO1xuZXhwb3J0IGNvbnN0IEFTWU5DID0gMSA8PCAyMjtcblxuZXhwb3J0IGNvbnN0IEVSUk9SX1ZBTFVFID0gMSA8PCAyMztcblxuZXhwb3J0IGNvbnN0IFNUQVRFX1NZTUJPTCA9IFN5bWJvbCgnJHN0YXRlJyk7XG5leHBvcnQgY29uc3QgTEVHQUNZX1BST1BTID0gU3ltYm9sKCdsZWdhY3kgcHJvcHMnKTtcbmV4cG9ydCBjb25zdCBMT0FESU5HX0FUVFJfU1lNQk9MID0gU3ltYm9sKCcnKTtcbmV4cG9ydCBjb25zdCBQUk9YWV9QQVRIX1NZTUJPTCA9IFN5bWJvbCgncHJveHkgcGF0aCcpO1xuXG4vKiogYWxsb3cgdXNlcnMgdG8gaWdub3JlIGFib3J0ZWQgc2lnbmFsIGVycm9ycyBpZiBgcmVhc29uLm5hbWUgPT09ICdTdGFsZVJlYWN0aW9uRXJyb3JgICovXG5leHBvcnQgY29uc3QgU1RBTEVfUkVBQ1RJT04gPSBuZXcgKGNsYXNzIFN0YWxlUmVhY3Rpb25FcnJvciBleHRlbmRzIEVycm9yIHtcblx0bmFtZSA9ICdTdGFsZVJlYWN0aW9uRXJyb3InO1xuXHRtZXNzYWdlID0gJ1RoZSByZWFjdGlvbiB0aGF0IGNhbGxlZCBgZ2V0QWJvcnRTaWduYWwoKWAgd2FzIHJlLXJ1biBvciBkZXN0cm95ZWQnO1xufSkoKTtcblxuZXhwb3J0IGNvbnN0IEVMRU1FTlRfTk9ERSA9IDE7XG5leHBvcnQgY29uc3QgVEVYVF9OT0RFID0gMztcbmV4cG9ydCBjb25zdCBDT01NRU5UX05PREUgPSA4O1xuZXhwb3J0IGNvbnN0IERPQ1VNRU5UX0ZSQUdNRU5UX05PREUgPSAxMTtcbiIsImV4cG9ydCBkZWZhdWx0IGZhbHNlO1xuIiwiLy8gU3RvcmUgdGhlIHJlZmVyZW5jZXMgdG8gZ2xvYmFscyBpbiBjYXNlIHNvbWVvbmUgdHJpZXMgdG8gbW9ua2V5IHBhdGNoIHRoZXNlLCBjYXVzaW5nIHRoZSBiZWxvd1xuLy8gdG8gZGUtb3B0ICh0aGlzIG9jY3VycyBvZnRlbiB3aGVuIHVzaW5nIHBvcHVsYXIgZXh0ZW5zaW9ucykuXG5leHBvcnQgdmFyIGlzX2FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmV4cG9ydCB2YXIgaW5kZXhfb2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZjtcbmV4cG9ydCB2YXIgYXJyYXlfZnJvbSA9IEFycmF5LmZyb207XG5leHBvcnQgdmFyIG9iamVjdF9rZXlzID0gT2JqZWN0LmtleXM7XG5leHBvcnQgdmFyIGRlZmluZV9wcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbmV4cG9ydCB2YXIgZ2V0X2Rlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuZXhwb3J0IHZhciBnZXRfZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbmV4cG9ydCB2YXIgb2JqZWN0X3Byb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG5leHBvcnQgdmFyIGFycmF5X3Byb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcbmV4cG9ydCB2YXIgZ2V0X3Byb3RvdHlwZV9vZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbmV4cG9ydCB2YXIgaXNfZXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGU7XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHRoaW5nXG4gKiBAcmV0dXJucyB7dGhpbmcgaXMgRnVuY3Rpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19mdW5jdGlvbih0aGluZykge1xuXHRyZXR1cm4gdHlwZW9mIHRoaW5nID09PSAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnQgY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuXG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgTUlUIExpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9MSUNFTlNFXG5cbi8qKlxuICogQHRlbXBsYXRlIFtUPWFueV1cbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybnMge3ZhbHVlIGlzIFByb21pc2VMaWtlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfcHJvbWlzZSh2YWx1ZSkge1xuXHRyZXR1cm4gdHlwZW9mIHZhbHVlPy50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKiogQHBhcmFtIHtGdW5jdGlvbn0gZm4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW4oZm4pIHtcblx0cmV0dXJuIGZuKCk7XG59XG5cbi8qKiBAcGFyYW0ge0FycmF5PCgpID0+IHZvaWQ+fSBhcnIgKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5fYWxsKGFycikge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHRcdGFycltpXSgpO1xuXHR9XG59XG5cbi8qKlxuICogVE9ETyByZXBsYWNlIHdpdGggUHJvbWlzZS53aXRoUmVzb2x2ZXJzIG9uY2Ugc3VwcG9ydGVkIHdpZGVseSBlbm91Z2hcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZlcnJlZCgpIHtcblx0LyoqIEB0eXBlIHsodmFsdWU6IFQpID0+IHZvaWR9ICovXG5cdHZhciByZXNvbHZlO1xuXG5cdC8qKiBAdHlwZSB7KHJlYXNvbjogYW55KSA9PiB2b2lkfSAqL1xuXHR2YXIgcmVqZWN0O1xuXG5cdC8qKiBAdHlwZSB7UHJvbWlzZTxUPn0gKi9cblx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcblx0XHRyZXNvbHZlID0gcmVzO1xuXHRcdHJlamVjdCA9IHJlajtcblx0fSk7XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRyZXR1cm4geyBwcm9taXNlLCByZXNvbHZlLCByZWplY3QgfTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtWfSB2YWx1ZVxuICogQHBhcmFtIHtWIHwgKCgpID0+IFYpfSBmYWxsYmFja1xuICogQHBhcmFtIHtib29sZWFufSBbbGF6eV1cbiAqIEByZXR1cm5zIHtWfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmFsbGJhY2sodmFsdWUsIGZhbGxiYWNrLCBsYXp5ID0gZmFsc2UpIHtcblx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWRcblx0XHQ/IGxhenlcblx0XHRcdD8gLyoqIEB0eXBlIHsoKSA9PiBWfSAqLyAoZmFsbGJhY2spKClcblx0XHRcdDogLyoqIEB0eXBlIHtWfSAqLyAoZmFsbGJhY2spXG5cdFx0OiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBXaGVuIGVuY291bnRlcmluZyBhIHNpdHVhdGlvbiBsaWtlIGBsZXQgW2EsIGIsIGNdID0gJGRlcml2ZWQoYmxhaCgpKWAsXG4gKiB3ZSBuZWVkIHRvIHN0YXNoIGFuIGludGVybWVkaWF0ZSB2YWx1ZSB0aGF0IGBhYCwgYGJgLCBhbmQgYGNgIGRlcml2ZVxuICogZnJvbSwgaW4gY2FzZSBpdCdzIGFuIGl0ZXJhYmxlXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtBcnJheUxpa2U8VD4gfCBJdGVyYWJsZTxUPn0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbl1cbiAqIEByZXR1cm5zIHtBcnJheTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvX2FycmF5KHZhbHVlLCBuKSB7XG5cdC8vIHJldHVybiBhcnJheXMgdW5jaGFuZ2VkXG5cdGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxuXG5cdC8vIGlmIHZhbHVlIGlzIG5vdCBpdGVyYWJsZSwgb3IgYG5gIGlzIHVuc3BlY2lmaWVkIChpbmRpY2F0ZXMgYSByZXN0XG5cdC8vIGVsZW1lbnQsIHdoaWNoIG1lYW5zIHdlJ3JlIG5vdCBjb25jZXJuZWQgYWJvdXQgdW5ib3VuZGVkIGl0ZXJhYmxlcylcblx0Ly8gY29udmVydCB0byBhbiBhcnJheSB3aXRoIGBBcnJheS5mcm9tYFxuXHRpZiAobiA9PT0gdW5kZWZpbmVkIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIHZhbHVlKSkge1xuXHRcdHJldHVybiBBcnJheS5mcm9tKHZhbHVlKTtcblx0fVxuXG5cdC8vIG90aGVyd2lzZSwgcG9wdWxhdGUgYW4gYXJyYXkgd2l0aCBgbmAgdmFsdWVzXG5cblx0LyoqIEB0eXBlIHtUW119ICovXG5cdGNvbnN0IGFycmF5ID0gW107XG5cblx0Zm9yIChjb25zdCBlbGVtZW50IG9mIHZhbHVlKSB7XG5cdFx0YXJyYXkucHVzaChlbGVtZW50KTtcblx0XHRpZiAoYXJyYXkubGVuZ3RoID09PSBuKSBicmVhaztcblx0fVxuXG5cdHJldHVybiBhcnJheTtcbn1cbiIsIi8qKiBAaW1wb3J0IHsgRXF1YWxzIH0gZnJvbSAnI2NsaWVudCcgKi9cblxuLyoqIEB0eXBlIHtFcXVhbHN9ICovXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZSA9PT0gdGhpcy52O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bn0gYVxuICogQHBhcmFtIHt1bmtub3dufSBiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVfbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYVxuXHRcdD8gYiA9PSBiXG5cdFx0OiBhICE9PSBiIHx8IChhICE9PSBudWxsICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JykgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogQHBhcmFtIHt1bmtub3dufSBhXG4gKiBAcGFyYW0ge3Vua25vd259IGJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT09IGI7XG59XG5cbi8qKiBAdHlwZSB7RXF1YWxzfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVfZXF1YWxzKHZhbHVlKSB7XG5cdHJldHVybiAhc2FmZV9ub3RfZXF1YWwodmFsdWUsIHRoaXMudik7XG59XG4iLCIvKiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGJ5IHNjcmlwdHMvcHJvY2Vzcy1tZXNzYWdlcy9pbmRleC5qcy4gRG8gbm90IGVkaXQhICovXG5cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuXG4vKipcbiAqIENhbm5vdCBhd2FpdCBvdXRzaWRlIGEgYDxzdmVsdGU6Ym91bmRhcnk+YCB3aXRoIGEgYHBlbmRpbmdgIHNuaXBwZXRcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0X291dHNpZGVfYm91bmRhcnkoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgYXdhaXRfb3V0c2lkZV9ib3VuZGFyeVxcbkNhbm5vdCBhd2FpdCBvdXRzaWRlIGEgXFxgPHN2ZWx0ZTpib3VuZGFyeT5cXGAgd2l0aCBhIFxcYHBlbmRpbmdcXGAgc25pcHBldFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2F3YWl0X291dHNpZGVfYm91bmRhcnlgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYXdhaXRfb3V0c2lkZV9ib3VuZGFyeWApO1xuXHR9XG59XG5cbi8qKlxuICogQ2Fubm90IHVzZSBge0ByZW5kZXIgY2hpbGRyZW4oLi4uKX1gIGlmIHRoZSBwYXJlbnQgY29tcG9uZW50IHVzZXMgYGxldDpgIGRpcmVjdGl2ZXMuIENvbnNpZGVyIHVzaW5nIGEgbmFtZWQgc25pcHBldCBpbnN0ZWFkXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkX2RlZmF1bHRfc25pcHBldCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBpbnZhbGlkX2RlZmF1bHRfc25pcHBldFxcbkNhbm5vdCB1c2UgXFxge0ByZW5kZXIgY2hpbGRyZW4oLi4uKX1cXGAgaWYgdGhlIHBhcmVudCBjb21wb25lbnQgdXNlcyBcXGBsZXQ6XFxgIGRpcmVjdGl2ZXMuIENvbnNpZGVyIHVzaW5nIGEgbmFtZWQgc25pcHBldCBpbnN0ZWFkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9kZWZhdWx0X3NuaXBwZXRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9kZWZhdWx0X3NuaXBwZXRgKTtcblx0fVxufVxuXG4vKipcbiAqIEEgc25pcHBldCBmdW5jdGlvbiB3YXMgcGFzc2VkIGludmFsaWQgYXJndW1lbnRzLiBTbmlwcGV0cyBzaG91bGQgb25seSBiZSBpbnN0YW50aWF0ZWQgdmlhIGB7QHJlbmRlciAuLi59YFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52YWxpZF9zbmlwcGV0X2FyZ3VtZW50cygpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBpbnZhbGlkX3NuaXBwZXRfYXJndW1lbnRzXFxuQSBzbmlwcGV0IGZ1bmN0aW9uIHdhcyBwYXNzZWQgaW52YWxpZCBhcmd1bWVudHMuIFNuaXBwZXRzIHNob3VsZCBvbmx5IGJlIGluc3RhbnRpYXRlZCB2aWEgXFxge0ByZW5kZXIgLi4ufVxcYFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2ludmFsaWRfc25pcHBldF9hcmd1bWVudHNgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9zbmlwcGV0X2FyZ3VtZW50c2ApO1xuXHR9XG59XG5cbi8qKlxuICogYCVuYW1lJSguLi4pYCBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnQobmFtZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudFxcblxcYCR7bmFtZX0oLi4uKVxcYCBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb25cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBBdHRlbXB0ZWQgdG8gcmVuZGVyIGEgc25pcHBldCB3aXRob3V0IGEgYHtAcmVuZGVyfWAgYmxvY2suIFRoaXMgd291bGQgY2F1c2UgdGhlIHNuaXBwZXQgY29kZSB0byBiZSBzdHJpbmdpZmllZCBpbnN0ZWFkIG9mIGl0cyBjb250ZW50IGJlaW5nIHJlbmRlcmVkIHRvIHRoZSBET00uIFRvIGZpeCB0aGlzLCBjaGFuZ2UgYHtzbmlwcGV0fWAgdG8gYHtAcmVuZGVyIHNuaXBwZXQoKX1gLlxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc25pcHBldF93aXRob3V0X3JlbmRlcl90YWcoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc25pcHBldF93aXRob3V0X3JlbmRlcl90YWdcXG5BdHRlbXB0ZWQgdG8gcmVuZGVyIGEgc25pcHBldCB3aXRob3V0IGEgXFxge0ByZW5kZXJ9XFxgIGJsb2NrLiBUaGlzIHdvdWxkIGNhdXNlIHRoZSBzbmlwcGV0IGNvZGUgdG8gYmUgc3RyaW5naWZpZWQgaW5zdGVhZCBvZiBpdHMgY29udGVudCBiZWluZyByZW5kZXJlZCB0byB0aGUgRE9NLiBUbyBmaXggdGhpcywgY2hhbmdlIFxcYHtzbmlwcGV0fVxcYCB0byBcXGB7QHJlbmRlciBzbmlwcGV0KCl9XFxgLlxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3NuaXBwZXRfd2l0aG91dF9yZW5kZXJfdGFnYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3NuaXBwZXRfd2l0aG91dF9yZW5kZXJfdGFnYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgJW5hbWUlYCBpcyBub3QgYSBzdG9yZSB3aXRoIGEgYHN1YnNjcmliZWAgbWV0aG9kXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVfaW52YWxpZF9zaGFwZShuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc3RvcmVfaW52YWxpZF9zaGFwZVxcblxcYCR7bmFtZX1cXGAgaXMgbm90IGEgc3RvcmUgd2l0aCBhIFxcYHN1YnNjcmliZVxcYCBtZXRob2RcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zdG9yZV9pbnZhbGlkX3NoYXBlYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0b3JlX2ludmFsaWRfc2hhcGVgKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBgdGhpc2AgcHJvcCBvbiBgPHN2ZWx0ZTplbGVtZW50PmAgbXVzdCBiZSBhIHN0cmluZywgaWYgZGVmaW5lZFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3ZlbHRlX2VsZW1lbnRfaW52YWxpZF90aGlzX3ZhbHVlKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHN2ZWx0ZV9lbGVtZW50X2ludmFsaWRfdGhpc192YWx1ZVxcblRoZSBcXGB0aGlzXFxgIHByb3Agb24gXFxgPHN2ZWx0ZTplbGVtZW50PlxcYCBtdXN0IGJlIGEgc3RyaW5nLCBpZiBkZWZpbmVkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3ZlbHRlX2VsZW1lbnRfaW52YWxpZF90aGlzX3ZhbHVlYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N2ZWx0ZV9lbGVtZW50X2ludmFsaWRfdGhpc192YWx1ZWApO1xuXHR9XG59IiwiLyogVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBieSBzY3JpcHRzL3Byb2Nlc3MtbWVzc2FnZXMvaW5kZXguanMuIERvIG5vdCBlZGl0ISAqL1xuXG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcblxuZXhwb3J0ICogIGZyb20gJy4uL3NoYXJlZC9lcnJvcnMuanMnO1xuXG4vKipcbiAqIENhbm5vdCBjcmVhdGUgYSBgJGRlcml2ZWQoLi4uKWAgd2l0aCBhbiBgYXdhaXRgIGV4cHJlc3Npb24gb3V0c2lkZSBvZiBhbiBlZmZlY3QgdHJlZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXN5bmNfZGVyaXZlZF9vcnBoYW4oKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgYXN5bmNfZGVyaXZlZF9vcnBoYW5cXG5DYW5ub3QgY3JlYXRlIGEgXFxgJGRlcml2ZWQoLi4uKVxcYCB3aXRoIGFuIFxcYGF3YWl0XFxgIGV4cHJlc3Npb24gb3V0c2lkZSBvZiBhbiBlZmZlY3QgdHJlZVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2FzeW5jX2Rlcml2ZWRfb3JwaGFuYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2FzeW5jX2Rlcml2ZWRfb3JwaGFuYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBVc2luZyBgYmluZDp2YWx1ZWAgdG9nZXRoZXIgd2l0aCBhIGNoZWNrYm94IGlucHV0IGlzIG5vdCBhbGxvd2VkLiBVc2UgYGJpbmQ6Y2hlY2tlZGAgaW5zdGVhZFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZF9pbnZhbGlkX2NoZWNrYm94X3ZhbHVlKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGJpbmRfaW52YWxpZF9jaGVja2JveF92YWx1ZVxcblVzaW5nIFxcYGJpbmQ6dmFsdWVcXGAgdG9nZXRoZXIgd2l0aCBhIGNoZWNrYm94IGlucHV0IGlzIG5vdCBhbGxvd2VkLiBVc2UgXFxgYmluZDpjaGVja2VkXFxgIGluc3RlYWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9iaW5kX2ludmFsaWRfY2hlY2tib3hfdmFsdWVgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYmluZF9pbnZhbGlkX2NoZWNrYm94X3ZhbHVlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDb21wb25lbnQgJWNvbXBvbmVudCUgaGFzIGFuIGV4cG9ydCBuYW1lZCBgJWtleSVgIHRoYXQgYSBjb25zdW1lciBjb21wb25lbnQgaXMgdHJ5aW5nIHRvIGFjY2VzcyB1c2luZyBgYmluZDola2V5JWAsIHdoaWNoIGlzIGRpc2FsbG93ZWQuIEluc3RlYWQsIHVzZSBgYmluZDp0aGlzYCAoZS5nLiBgPCVuYW1lJSBiaW5kOnRoaXM9e2NvbXBvbmVudH0gLz5gKSBhbmQgdGhlbiBhY2Nlc3MgdGhlIHByb3BlcnR5IG9uIHRoZSBib3VuZCBjb21wb25lbnQgaW5zdGFuY2UgKGUuZy4gYGNvbXBvbmVudC4la2V5JWApXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50XG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZF9pbnZhbGlkX2V4cG9ydChjb21wb25lbnQsIGtleSwgbmFtZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGJpbmRfaW52YWxpZF9leHBvcnRcXG5Db21wb25lbnQgJHtjb21wb25lbnR9IGhhcyBhbiBleHBvcnQgbmFtZWQgXFxgJHtrZXl9XFxgIHRoYXQgYSBjb25zdW1lciBjb21wb25lbnQgaXMgdHJ5aW5nIHRvIGFjY2VzcyB1c2luZyBcXGBiaW5kOiR7a2V5fVxcYCwgd2hpY2ggaXMgZGlzYWxsb3dlZC4gSW5zdGVhZCwgdXNlIFxcYGJpbmQ6dGhpc1xcYCAoZS5nLiBcXGA8JHtuYW1lfSBiaW5kOnRoaXM9e2NvbXBvbmVudH0gLz5cXGApIGFuZCB0aGVuIGFjY2VzcyB0aGUgcHJvcGVydHkgb24gdGhlIGJvdW5kIGNvbXBvbmVudCBpbnN0YW5jZSAoZS5nLiBcXGBjb21wb25lbnQuJHtrZXl9XFxgKVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2JpbmRfaW52YWxpZF9leHBvcnRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYmluZF9pbnZhbGlkX2V4cG9ydGApO1xuXHR9XG59XG5cbi8qKlxuICogQSBjb21wb25lbnQgaXMgYXR0ZW1wdGluZyB0byBiaW5kIHRvIGEgbm9uLWJpbmRhYmxlIHByb3BlcnR5IGAla2V5JWAgYmVsb25naW5nIHRvICVjb21wb25lbnQlIChpLmUuIGA8JW5hbWUlIGJpbmQ6JWtleSU9ey4uLn0+YCkuIFRvIG1hcmsgYSBwcm9wZXJ0eSBhcyBiaW5kYWJsZTogYGxldCB7ICVrZXklID0gJGJpbmRhYmxlKCkgfSA9ICRwcm9wcygpYFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRfbm90X2JpbmRhYmxlKGtleSwgY29tcG9uZW50LCBuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgYmluZF9ub3RfYmluZGFibGVcXG5BIGNvbXBvbmVudCBpcyBhdHRlbXB0aW5nIHRvIGJpbmQgdG8gYSBub24tYmluZGFibGUgcHJvcGVydHkgXFxgJHtrZXl9XFxgIGJlbG9uZ2luZyB0byAke2NvbXBvbmVudH0gKGkuZS4gXFxgPCR7bmFtZX0gYmluZDoke2tleX09ey4uLn0+XFxgKS4gVG8gbWFyayBhIHByb3BlcnR5IGFzIGJpbmRhYmxlOiBcXGBsZXQgeyAke2tleX0gPSAkYmluZGFibGUoKSB9ID0gJHByb3BzKClcXGBcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9iaW5kX25vdF9iaW5kYWJsZWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9iaW5kX25vdF9iaW5kYWJsZWApO1xuXHR9XG59XG5cbi8qKlxuICogQ2FsbGluZyBgJW1ldGhvZCVgIG9uIGEgY29tcG9uZW50IGluc3RhbmNlIChvZiAlY29tcG9uZW50JSkgaXMgbm8gbG9uZ2VyIHZhbGlkIGluIFN2ZWx0ZSA1XG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb25lbnRfYXBpX2NoYW5nZWQobWV0aG9kLCBjb21wb25lbnQpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBjb21wb25lbnRfYXBpX2NoYW5nZWRcXG5DYWxsaW5nIFxcYCR7bWV0aG9kfVxcYCBvbiBhIGNvbXBvbmVudCBpbnN0YW5jZSAob2YgJHtjb21wb25lbnR9KSBpcyBubyBsb25nZXIgdmFsaWQgaW4gU3ZlbHRlIDVcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9jb21wb25lbnRfYXBpX2NoYW5nZWRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvY29tcG9uZW50X2FwaV9jaGFuZ2VkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBBdHRlbXB0ZWQgdG8gaW5zdGFudGlhdGUgJWNvbXBvbmVudCUgd2l0aCBgbmV3ICVuYW1lJWAsIHdoaWNoIGlzIG5vIGxvbmdlciB2YWxpZCBpbiBTdmVsdGUgNS4gSWYgdGhpcyBjb21wb25lbnQgaXMgbm90IHVuZGVyIHlvdXIgY29udHJvbCwgc2V0IHRoZSBgY29tcGF0aWJpbGl0eS5jb21wb25lbnRBcGlgIGNvbXBpbGVyIG9wdGlvbiB0byBgNGAgdG8ga2VlcCBpdCB3b3JraW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudF9hcGlfaW52YWxpZF9uZXcoY29tcG9uZW50LCBuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgY29tcG9uZW50X2FwaV9pbnZhbGlkX25ld1xcbkF0dGVtcHRlZCB0byBpbnN0YW50aWF0ZSAke2NvbXBvbmVudH0gd2l0aCBcXGBuZXcgJHtuYW1lfVxcYCwgd2hpY2ggaXMgbm8gbG9uZ2VyIHZhbGlkIGluIFN2ZWx0ZSA1LiBJZiB0aGlzIGNvbXBvbmVudCBpcyBub3QgdW5kZXIgeW91ciBjb250cm9sLCBzZXQgdGhlIFxcYGNvbXBhdGliaWxpdHkuY29tcG9uZW50QXBpXFxgIGNvbXBpbGVyIG9wdGlvbiB0byBcXGA0XFxgIHRvIGtlZXAgaXQgd29ya2luZy5cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9jb21wb25lbnRfYXBpX2ludmFsaWRfbmV3YCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2NvbXBvbmVudF9hcGlfaW52YWxpZF9uZXdgKTtcblx0fVxufVxuXG4vKipcbiAqIEEgZGVyaXZlZCB2YWx1ZSBjYW5ub3QgcmVmZXJlbmNlIGl0c2VsZiByZWN1cnNpdmVseVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZF9yZWZlcmVuY2VzX3NlbGYoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZGVyaXZlZF9yZWZlcmVuY2VzX3NlbGZcXG5BIGRlcml2ZWQgdmFsdWUgY2Fubm90IHJlZmVyZW5jZSBpdHNlbGYgcmVjdXJzaXZlbHlcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9kZXJpdmVkX3JlZmVyZW5jZXNfc2VsZmApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9kZXJpdmVkX3JlZmVyZW5jZXNfc2VsZmApO1xuXHR9XG59XG5cbi8qKlxuICogS2V5ZWQgZWFjaCBibG9jayBoYXMgZHVwbGljYXRlIGtleSBgJXZhbHVlJWAgYXQgaW5kZXhlcyAlYSUgYW5kICViJVxuICogQHBhcmFtIHtzdHJpbmd9IGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBiXG4gKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZCB8IG51bGx9IFt2YWx1ZV1cbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhY2hfa2V5X2R1cGxpY2F0ZShhLCBiLCB2YWx1ZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGVhY2hfa2V5X2R1cGxpY2F0ZVxcbiR7dmFsdWVcblx0XHRcdD8gYEtleWVkIGVhY2ggYmxvY2sgaGFzIGR1cGxpY2F0ZSBrZXkgXFxgJHt2YWx1ZX1cXGAgYXQgaW5kZXhlcyAke2F9IGFuZCAke2J9YFxuXHRcdFx0OiBgS2V5ZWQgZWFjaCBibG9jayBoYXMgZHVwbGljYXRlIGtleSBhdCBpbmRleGVzICR7YX0gYW5kICR7Yn1gfVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2VhY2hfa2V5X2R1cGxpY2F0ZWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9lYWNoX2tleV9kdXBsaWNhdGVgKTtcblx0fVxufVxuXG4vKipcbiAqIGAlcnVuZSVgIGNhbm5vdCBiZSB1c2VkIGluc2lkZSBhbiBlZmZlY3QgY2xlYW51cCBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHJ1bmVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdF9pbl90ZWFyZG93bihydW5lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZWZmZWN0X2luX3RlYXJkb3duXFxuXFxgJHtydW5lfVxcYCBjYW5ub3QgYmUgdXNlZCBpbnNpZGUgYW4gZWZmZWN0IGNsZWFudXAgZnVuY3Rpb25cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3RfaW5fdGVhcmRvd25gKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X2luX3RlYXJkb3duYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBFZmZlY3QgY2Fubm90IGJlIGNyZWF0ZWQgaW5zaWRlIGEgYCRkZXJpdmVkYCB2YWx1ZSB0aGF0IHdhcyBub3QgaXRzZWxmIGNyZWF0ZWQgaW5zaWRlIGFuIGVmZmVjdFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0X2luX3Vub3duZWRfZGVyaXZlZCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBlZmZlY3RfaW5fdW5vd25lZF9kZXJpdmVkXFxuRWZmZWN0IGNhbm5vdCBiZSBjcmVhdGVkIGluc2lkZSBhIFxcYCRkZXJpdmVkXFxgIHZhbHVlIHRoYXQgd2FzIG5vdCBpdHNlbGYgY3JlYXRlZCBpbnNpZGUgYW4gZWZmZWN0XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X2luX3Vub3duZWRfZGVyaXZlZGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3RfaW5fdW5vd25lZF9kZXJpdmVkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgJXJ1bmUlYCBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBhbiBlZmZlY3QgKGUuZy4gZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbilcbiAqIEBwYXJhbSB7c3RyaW5nfSBydW5lXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3Rfb3JwaGFuKHJ1bmUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBlZmZlY3Rfb3JwaGFuXFxuXFxgJHtydW5lfVxcYCBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBhbiBlZmZlY3QgKGUuZy4gZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbilcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3Rfb3JwaGFuYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF9vcnBoYW5gKTtcblx0fVxufVxuXG4vKipcbiAqIGAkZWZmZWN0LnBlbmRpbmcoKWAgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBhbiBlZmZlY3Qgb3IgZGVyaXZlZFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0X3BlbmRpbmdfb3V0c2lkZV9yZWFjdGlvbigpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBlZmZlY3RfcGVuZGluZ19vdXRzaWRlX3JlYWN0aW9uXFxuXFxgJGVmZmVjdC5wZW5kaW5nKClcXGAgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBhbiBlZmZlY3Qgb3IgZGVyaXZlZFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF9wZW5kaW5nX291dHNpZGVfcmVhY3Rpb25gKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X3BlbmRpbmdfb3V0c2lkZV9yZWFjdGlvbmApO1xuXHR9XG59XG5cbi8qKlxuICogTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWQuIFRoaXMgdHlwaWNhbGx5IGluZGljYXRlcyB0aGF0IGFuIGVmZmVjdCByZWFkcyBhbmQgd3JpdGVzIHRoZSBzYW1lIHBpZWNlIG9mIHN0YXRlXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3RfdXBkYXRlX2RlcHRoX2V4Y2VlZGVkKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGVmZmVjdF91cGRhdGVfZGVwdGhfZXhjZWVkZWRcXG5NYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZC4gVGhpcyB0eXBpY2FsbHkgaW5kaWNhdGVzIHRoYXQgYW4gZWZmZWN0IHJlYWRzIGFuZCB3cml0ZXMgdGhlIHNhbWUgcGllY2Ugb2Ygc3RhdGVcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3RfdXBkYXRlX2RlcHRoX2V4Y2VlZGVkYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF91cGRhdGVfZGVwdGhfZXhjZWVkZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIENhbm5vdCB1c2UgYGZsdXNoU3luY2AgaW5zaWRlIGFuIGVmZmVjdFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hfc3luY19pbl9lZmZlY3QoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZmx1c2hfc3luY19pbl9lZmZlY3RcXG5DYW5ub3QgdXNlIFxcYGZsdXNoU3luY1xcYCBpbnNpZGUgYW4gZWZmZWN0XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZmx1c2hfc3luY19pbl9lZmZlY3RgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZmx1c2hfc3luY19pbl9lZmZlY3RgKTtcblx0fVxufVxuXG4vKipcbiAqIGBnZXRBYm9ydFNpZ25hbCgpYCBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIGFuIGVmZmVjdCBvciBkZXJpdmVkXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYWJvcnRfc2lnbmFsX291dHNpZGVfcmVhY3Rpb24oKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZ2V0X2Fib3J0X3NpZ25hbF9vdXRzaWRlX3JlYWN0aW9uXFxuXFxgZ2V0QWJvcnRTaWduYWwoKVxcYCBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIGFuIGVmZmVjdCBvciBkZXJpdmVkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZ2V0X2Fib3J0X3NpZ25hbF9vdXRzaWRlX3JlYWN0aW9uYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2dldF9hYm9ydF9zaWduYWxfb3V0c2lkZV9yZWFjdGlvbmApO1xuXHR9XG59XG5cbi8qKlxuICogRmFpbGVkIHRvIGh5ZHJhdGUgdGhlIGFwcGxpY2F0aW9uXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRpb25fZmFpbGVkKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGh5ZHJhdGlvbl9mYWlsZWRcXG5GYWlsZWQgdG8gaHlkcmF0ZSB0aGUgYXBwbGljYXRpb25cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRpb25fZmFpbGVkYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGlvbl9mYWlsZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIENvdWxkIG5vdCBge0ByZW5kZXJ9YCBzbmlwcGV0IGR1ZSB0byB0aGUgZXhwcmVzc2lvbiBiZWluZyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuIENvbnNpZGVyIHVzaW5nIG9wdGlvbmFsIGNoYWluaW5nIGB7QHJlbmRlciBzbmlwcGV0Py4oKX1gXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkX3NuaXBwZXQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgaW52YWxpZF9zbmlwcGV0XFxuQ291bGQgbm90IFxcYHtAcmVuZGVyfVxcYCBzbmlwcGV0IGR1ZSB0byB0aGUgZXhwcmVzc2lvbiBiZWluZyBcXGBudWxsXFxgIG9yIFxcYHVuZGVmaW5lZFxcYC4gQ29uc2lkZXIgdXNpbmcgb3B0aW9uYWwgY2hhaW5pbmcgXFxge0ByZW5kZXIgc25pcHBldD8uKCl9XFxgXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9zbmlwcGV0YCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2ludmFsaWRfc25pcHBldGApO1xuXHR9XG59XG5cbi8qKlxuICogYCVuYW1lJSguLi4pYCBjYW5ub3QgYmUgdXNlZCBpbiBydW5lcyBtb2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlmZWN5Y2xlX2xlZ2FjeV9vbmx5KG5hbWUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBsaWZlY3ljbGVfbGVnYWN5X29ubHlcXG5cXGAke25hbWV9KC4uLilcXGAgY2Fubm90IGJlIHVzZWQgaW4gcnVuZXMgbW9kZVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2xpZmVjeWNsZV9sZWdhY3lfb25seWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9saWZlY3ljbGVfbGVnYWN5X29ubHlgKTtcblx0fVxufVxuXG4vKipcbiAqIENhbm5vdCBkbyBgYmluZDola2V5JT17dW5kZWZpbmVkfWAgd2hlbiBgJWtleSVgIGhhcyBhIGZhbGxiYWNrIHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9wc19pbnZhbGlkX3ZhbHVlKGtleSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHByb3BzX2ludmFsaWRfdmFsdWVcXG5DYW5ub3QgZG8gXFxgYmluZDoke2tleX09e3VuZGVmaW5lZH1cXGAgd2hlbiBcXGAke2tleX1cXGAgaGFzIGEgZmFsbGJhY2sgdmFsdWVcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9wcm9wc19pbnZhbGlkX3ZhbHVlYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3Byb3BzX2ludmFsaWRfdmFsdWVgKTtcblx0fVxufVxuXG4vKipcbiAqIFJlc3QgZWxlbWVudCBwcm9wZXJ0aWVzIG9mIGAkcHJvcHMoKWAgc3VjaCBhcyBgJXByb3BlcnR5JWAgYXJlIHJlYWRvbmx5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3BzX3Jlc3RfcmVhZG9ubHkocHJvcGVydHkpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBwcm9wc19yZXN0X3JlYWRvbmx5XFxuUmVzdCBlbGVtZW50IHByb3BlcnRpZXMgb2YgXFxgJHByb3BzKClcXGAgc3VjaCBhcyBcXGAke3Byb3BlcnR5fVxcYCBhcmUgcmVhZG9ubHlcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9wcm9wc19yZXN0X3JlYWRvbmx5YCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3Byb3BzX3Jlc3RfcmVhZG9ubHlgKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBgJXJ1bmUlYCBydW5lIGlzIG9ubHkgYXZhaWxhYmxlIGluc2lkZSBgLnN2ZWx0ZWAgYW5kIGAuc3ZlbHRlLmpzL3RzYCBmaWxlc1xuICogQHBhcmFtIHtzdHJpbmd9IHJ1bmVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ1bmVfb3V0c2lkZV9zdmVsdGUocnVuZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHJ1bmVfb3V0c2lkZV9zdmVsdGVcXG5UaGUgXFxgJHtydW5lfVxcYCBydW5lIGlzIG9ubHkgYXZhaWxhYmxlIGluc2lkZSBcXGAuc3ZlbHRlXFxgIGFuZCBcXGAuc3ZlbHRlLmpzL3RzXFxgIGZpbGVzXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvcnVuZV9vdXRzaWRlX3N2ZWx0ZWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9ydW5lX291dHNpZGVfc3ZlbHRlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgc2V0Q29udGV4dGAgbXVzdCBiZSBjYWxsZWQgd2hlbiBhIGNvbXBvbmVudCBmaXJzdCBpbml0aWFsaXplcywgbm90IGluIGEgc3Vic2VxdWVudCBlZmZlY3Qgb3IgYWZ0ZXIgYW4gYGF3YWl0YCBleHByZXNzaW9uXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY29udGV4dF9hZnRlcl9pbml0KCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHNldF9jb250ZXh0X2FmdGVyX2luaXRcXG5cXGBzZXRDb250ZXh0XFxgIG11c3QgYmUgY2FsbGVkIHdoZW4gYSBjb21wb25lbnQgZmlyc3QgaW5pdGlhbGl6ZXMsIG5vdCBpbiBhIHN1YnNlcXVlbnQgZWZmZWN0IG9yIGFmdGVyIGFuIFxcYGF3YWl0XFxgIGV4cHJlc3Npb25cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zZXRfY29udGV4dF9hZnRlcl9pbml0YCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3NldF9jb250ZXh0X2FmdGVyX2luaXRgKTtcblx0fVxufVxuXG4vKipcbiAqIFByb3BlcnR5IGRlc2NyaXB0b3JzIGRlZmluZWQgb24gYCRzdGF0ZWAgb2JqZWN0cyBtdXN0IGNvbnRhaW4gYHZhbHVlYCBhbmQgYWx3YXlzIGJlIGBlbnVtZXJhYmxlYCwgYGNvbmZpZ3VyYWJsZWAgYW5kIGB3cml0YWJsZWAuXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZV9kZXNjcmlwdG9yc19maXhlZCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBzdGF0ZV9kZXNjcmlwdG9yc19maXhlZFxcblByb3BlcnR5IGRlc2NyaXB0b3JzIGRlZmluZWQgb24gXFxgJHN0YXRlXFxgIG9iamVjdHMgbXVzdCBjb250YWluIFxcYHZhbHVlXFxgIGFuZCBhbHdheXMgYmUgXFxgZW51bWVyYWJsZVxcYCwgXFxgY29uZmlndXJhYmxlXFxgIGFuZCBcXGB3cml0YWJsZVxcYC5cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV9kZXNjcmlwdG9yc19maXhlZGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV9kZXNjcmlwdG9yc19maXhlZGApO1xuXHR9XG59XG5cbi8qKlxuICogQ2Fubm90IHNldCBwcm90b3R5cGUgb2YgYCRzdGF0ZWAgb2JqZWN0XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZV9wcm90b3R5cGVfZml4ZWQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc3RhdGVfcHJvdG90eXBlX2ZpeGVkXFxuQ2Fubm90IHNldCBwcm90b3R5cGUgb2YgXFxgJHN0YXRlXFxgIG9iamVjdFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0YXRlX3Byb3RvdHlwZV9maXhlZGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV9wcm90b3R5cGVfZml4ZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIFVwZGF0aW5nIHN0YXRlIGluc2lkZSBgJGRlcml2ZWQoLi4uKWAsIGAkaW5zcGVjdCguLi4pYCBvciBhIHRlbXBsYXRlIGV4cHJlc3Npb24gaXMgZm9yYmlkZGVuLiBJZiB0aGUgdmFsdWUgc2hvdWxkIG5vdCBiZSByZWFjdGl2ZSwgZGVjbGFyZSBpdCB3aXRob3V0IGAkc3RhdGVgXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZV91bnNhZmVfbXV0YXRpb24oKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc3RhdGVfdW5zYWZlX211dGF0aW9uXFxuVXBkYXRpbmcgc3RhdGUgaW5zaWRlIFxcYCRkZXJpdmVkKC4uLilcXGAsIFxcYCRpbnNwZWN0KC4uLilcXGAgb3IgYSB0ZW1wbGF0ZSBleHByZXNzaW9uIGlzIGZvcmJpZGRlbi4gSWYgdGhlIHZhbHVlIHNob3VsZCBub3QgYmUgcmVhY3RpdmUsIGRlY2xhcmUgaXQgd2l0aG91dCBcXGAkc3RhdGVcXGBcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV91bnNhZmVfbXV0YXRpb25gKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfdW5zYWZlX211dGF0aW9uYCk7XG5cdH1cbn0iLCJleHBvcnQgbGV0IGFzeW5jX21vZGVfZmxhZyA9IGZhbHNlO1xuZXhwb3J0IGxldCBsZWdhY3lfbW9kZV9mbGFnID0gZmFsc2U7XG5leHBvcnQgbGV0IHRyYWNpbmdfbW9kZV9mbGFnID0gZmFsc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVfYXN5bmNfbW9kZV9mbGFnKCkge1xuXHRhc3luY19tb2RlX2ZsYWcgPSB0cnVlO1xufVxuXG4vKiogT05MWSBVU0UgVEhJUyBEVVJJTkcgVEVTVElORyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVfYXN5bmNfbW9kZV9mbGFnKCkge1xuXHRhc3luY19tb2RlX2ZsYWcgPSBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZV9sZWdhY3lfbW9kZV9mbGFnKCkge1xuXHRsZWdhY3lfbW9kZV9mbGFnID0gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZV90cmFjaW5nX21vZGVfZmxhZygpIHtcblx0dHJhY2luZ19tb2RlX2ZsYWcgPSB0cnVlO1xufVxuIiwiZXhwb3J0IGNvbnN0IEVBQ0hfSVRFTV9SRUFDVElWRSA9IDE7XG5leHBvcnQgY29uc3QgRUFDSF9JTkRFWF9SRUFDVElWRSA9IDEgPDwgMTtcbi8qKiBTZWUgRWFjaEJsb2NrIGludGVyZmFjZSBtZXRhZGF0YS5pc19jb250cm9sbGVkIGZvciBhbiBleHBsYW5hdGlvbiB3aGF0IHRoaXMgaXMgKi9cbmV4cG9ydCBjb25zdCBFQUNIX0lTX0NPTlRST0xMRUQgPSAxIDw8IDI7XG5leHBvcnQgY29uc3QgRUFDSF9JU19BTklNQVRFRCA9IDEgPDwgMztcbmV4cG9ydCBjb25zdCBFQUNIX0lURU1fSU1NVVRBQkxFID0gMSA8PCA0O1xuXG5leHBvcnQgY29uc3QgUFJPUFNfSVNfSU1NVVRBQkxFID0gMTtcbmV4cG9ydCBjb25zdCBQUk9QU19JU19SVU5FUyA9IDEgPDwgMTtcbmV4cG9ydCBjb25zdCBQUk9QU19JU19VUERBVEVEID0gMSA8PCAyO1xuZXhwb3J0IGNvbnN0IFBST1BTX0lTX0JJTkRBQkxFID0gMSA8PCAzO1xuZXhwb3J0IGNvbnN0IFBST1BTX0lTX0xBWllfSU5JVElBTCA9IDEgPDwgNDtcblxuZXhwb3J0IGNvbnN0IFRSQU5TSVRJT05fSU4gPSAxO1xuZXhwb3J0IGNvbnN0IFRSQU5TSVRJT05fT1VUID0gMSA8PCAxO1xuZXhwb3J0IGNvbnN0IFRSQU5TSVRJT05fR0xPQkFMID0gMSA8PCAyO1xuXG5leHBvcnQgY29uc3QgVEVNUExBVEVfRlJBR01FTlQgPSAxO1xuZXhwb3J0IGNvbnN0IFRFTVBMQVRFX1VTRV9JTVBPUlRfTk9ERSA9IDEgPDwgMTtcbmV4cG9ydCBjb25zdCBURU1QTEFURV9VU0VfU1ZHID0gMSA8PCAyO1xuZXhwb3J0IGNvbnN0IFRFTVBMQVRFX1VTRV9NQVRITUwgPSAxIDw8IDM7XG5cbmV4cG9ydCBjb25zdCBIWURSQVRJT05fU1RBUlQgPSAnWyc7XG4vKiogdXNlZCB0byBpbmRpY2F0ZSB0aGF0IGFuIGB7OmVsc2V9Li4uYCBibG9jayB3YXMgcmVuZGVyZWQgKi9cbmV4cG9ydCBjb25zdCBIWURSQVRJT05fU1RBUlRfRUxTRSA9ICdbISc7XG5leHBvcnQgY29uc3QgSFlEUkFUSU9OX0VORCA9ICddJztcbmV4cG9ydCBjb25zdCBIWURSQVRJT05fRVJST1IgPSB7fTtcblxuZXhwb3J0IGNvbnN0IEVMRU1FTlRfSVNfTkFNRVNQQUNFRCA9IDE7XG5leHBvcnQgY29uc3QgRUxFTUVOVF9QUkVTRVJWRV9BVFRSSUJVVEVfQ0FTRSA9IDEgPDwgMTtcblxuZXhwb3J0IGNvbnN0IFVOSU5JVElBTElaRUQgPSBTeW1ib2woKTtcblxuLy8gRGV2LXRpbWUgY29tcG9uZW50IHByb3BlcnRpZXNcbmV4cG9ydCBjb25zdCBGSUxFTkFNRSA9IFN5bWJvbCgnZmlsZW5hbWUnKTtcbmV4cG9ydCBjb25zdCBITVIgPSBTeW1ib2woJ2htcicpO1xuXG5leHBvcnQgY29uc3QgTkFNRVNQQUNFX0hUTUwgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG5leHBvcnQgY29uc3QgTkFNRVNQQUNFX1NWRyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5leHBvcnQgY29uc3QgTkFNRVNQQUNFX01BVEhNTCA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MJztcblxuLy8gd2UgdXNlIGEgbGlzdCBvZiBpZ25vcmFibGUgcnVudGltZSB3YXJuaW5ncyBiZWNhdXNlIG5vdCBldmVyeSBydW50aW1lIHdhcm5pbmdcbi8vIGNhbiBiZSBpZ25vcmVkIGFuZCB3ZSB3YW50IHRvIGtlZXAgdGhlIHZhbGlkYXRpb24gZm9yIHN2ZWx0ZS1pZ25vcmUgaW4gcGxhY2VcbmV4cG9ydCBjb25zdCBJR05PUkFCTEVfUlVOVElNRV9XQVJOSU5HUyA9IC8qKiBAdHlwZSB7Y29uc3R9ICovIChbXG5cdCdhd2FpdF93YXRlcmZhbGwnLFxuXHQnYXdhaXRfcmVhY3Rpdml0eV9sb3NzJyxcblx0J3N0YXRlX3NuYXBzaG90X3VuY2xvbmVhYmxlJyxcblx0J2JpbmRpbmdfcHJvcGVydHlfbm9uX3JlYWN0aXZlJyxcblx0J2h5ZHJhdGlvbl9hdHRyaWJ1dGVfY2hhbmdlZCcsXG5cdCdoeWRyYXRpb25faHRtbF9jaGFuZ2VkJyxcblx0J293bmVyc2hpcF9pbnZhbGlkX2JpbmRpbmcnLFxuXHQnb3duZXJzaGlwX2ludmFsaWRfbXV0YXRpb24nXG5dKTtcblxuLyoqXG4gKiBXaGl0ZXNwYWNlIGluc2lkZSBvbmUgb2YgdGhlc2UgZWxlbWVudHMgd2lsbCBub3QgcmVzdWx0IGluXG4gKiBhIHdoaXRlc3BhY2Ugbm9kZSBiZWluZyBjcmVhdGVkIGluIGFueSBjaXJjdW1zdGFuY2VzLiAoVGhpc1xuICogbGlzdCBpcyBhbG1vc3QgY2VydGFpbmx5IHZlcnkgaW5jb21wbGV0ZSlcbiAqIFRPRE8gdGhpcyBpcyBjdXJyZW50bHkgdW51c2VkXG4gKi9cbmV4cG9ydCBjb25zdCBFTEVNRU5UU19XSVRIT1VUX1RFWFQgPSBbJ2F1ZGlvJywgJ2RhdGFsaXN0JywgJ2RsJywgJ29wdGdyb3VwJywgJ3NlbGVjdCcsICd2aWRlbyddO1xuXG5leHBvcnQgY29uc3QgQVRUQUNITUVOVF9LRVkgPSAnQGF0dGFjaCc7XG4iLCIvKiogQGltcG9ydCB7IENvbXBvbmVudENvbnRleHQsIERldlN0YWNrRW50cnksIEVmZmVjdCB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgYWN0aXZlX2VmZmVjdCwgYWN0aXZlX3JlYWN0aW9uIH0gZnJvbSAnLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGNyZWF0ZV91c2VyX2VmZmVjdCB9IGZyb20gJy4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGFzeW5jX21vZGVfZmxhZywgbGVnYWN5X21vZGVfZmxhZyB9IGZyb20gJy4uL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IEZJTEVOQU1FIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IEJSQU5DSF9FRkZFQ1QsIEVGRkVDVF9SQU4gfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbi8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dCB8IG51bGx9ICovXG5leHBvcnQgbGV0IGNvbXBvbmVudF9jb250ZXh0ID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7Q29tcG9uZW50Q29udGV4dCB8IG51bGx9IGNvbnRleHQgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY29tcG9uZW50X2NvbnRleHQoY29udGV4dCkge1xuXHRjb21wb25lbnRfY29udGV4dCA9IGNvbnRleHQ7XG59XG5cbi8qKiBAdHlwZSB7RGV2U3RhY2tFbnRyeSB8IG51bGx9ICovXG5leHBvcnQgbGV0IGRldl9zdGFjayA9IG51bGw7XG5cbi8qKiBAcGFyYW0ge0RldlN0YWNrRW50cnkgfCBudWxsfSBzdGFjayAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kZXZfc3RhY2soc3RhY2spIHtcblx0ZGV2X3N0YWNrID0gc3RhY2s7XG59XG5cbi8qKlxuICogRXhlY3V0ZSBhIGNhbGxiYWNrIHdpdGggYSBuZXcgZGV2IHN0YWNrIGVudHJ5XG4gKiBAcGFyYW0geygpID0+IGFueX0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBleGVjdXRlXG4gKiBAcGFyYW0ge0RldlN0YWNrRW50cnlbJ3R5cGUnXX0gdHlwZSAtIFR5cGUgb2YgYmxvY2svY29tcG9uZW50XG4gKiBAcGFyYW0ge2FueX0gY29tcG9uZW50IC0gQ29tcG9uZW50IGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gbGluZSAtIExpbmUgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gY29sdW1uIC0gQ29sdW1uIG51bWJlclxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbYWRkaXRpb25hbF0gLSBBbnkgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGFkZCB0byB0aGUgZGV2IHN0YWNrIGVudHJ5XG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX3N2ZWx0ZV9tZXRhKGNhbGxiYWNrLCB0eXBlLCBjb21wb25lbnQsIGxpbmUsIGNvbHVtbiwgYWRkaXRpb25hbCkge1xuXHRjb25zdCBwYXJlbnQgPSBkZXZfc3RhY2s7XG5cblx0ZGV2X3N0YWNrID0ge1xuXHRcdHR5cGUsXG5cdFx0ZmlsZTogY29tcG9uZW50W0ZJTEVOQU1FXSxcblx0XHRsaW5lLFxuXHRcdGNvbHVtbixcblx0XHRwYXJlbnQsXG5cdFx0Li4uYWRkaXRpb25hbFxuXHR9O1xuXG5cdHRyeSB7XG5cdFx0cmV0dXJuIGNhbGxiYWNrKCk7XG5cdH0gZmluYWxseSB7XG5cdFx0ZGV2X3N0YWNrID0gcGFyZW50O1xuXHR9XG59XG5cbi8qKlxuICogVGhlIGN1cnJlbnQgY29tcG9uZW50IGZ1bmN0aW9uLiBEaWZmZXJlbnQgZnJvbSBjdXJyZW50IGNvbXBvbmVudCBjb250ZXh0OlxuICogYGBgaHRtbFxuICogPCEtLSBBcHAuc3ZlbHRlIC0tPlxuICogPEZvbz5cbiAqICAgPEJhciAvPiA8IS0tIGNvbnRleHQgPT0gRm9vLnN2ZWx0ZSwgZnVuY3Rpb24gPT0gQXBwLnN2ZWx0ZSAtLT5cbiAqIDwvRm9vPlxuICogYGBgXG4gKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dFsnZnVuY3Rpb24nXX1cbiAqL1xuZXhwb3J0IGxldCBkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24gPSBudWxsO1xuXG4vKiogQHBhcmFtIHtDb21wb25lbnRDb250ZXh0WydmdW5jdGlvbiddfSBmbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24oZm4pIHtcblx0ZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uID0gZm47XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb250ZXh0IHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBga2V5YC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcblx0Y29uc3QgY29udGV4dF9tYXAgPSBnZXRfb3JfaW5pdF9jb250ZXh0X21hcCgnZ2V0Q29udGV4dCcpO1xuXHRjb25zdCByZXN1bHQgPSAvKiogQHR5cGUge1R9ICovIChjb250ZXh0X21hcC5nZXQoa2V5KSk7XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQXNzb2NpYXRlcyBhbiBhcmJpdHJhcnkgYGNvbnRleHRgIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudCBhbmQgdGhlIHNwZWNpZmllZCBga2V5YFxuICogYW5kIHJldHVybnMgdGhhdCBvYmplY3QuIFRoZSBjb250ZXh0IGlzIHRoZW4gYXZhaWxhYmxlIHRvIGNoaWxkcmVuIG9mIHRoZSBjb21wb25lbnRcbiAqIChpbmNsdWRpbmcgc2xvdHRlZCBjb250ZW50KSB3aXRoIGBnZXRDb250ZXh0YC5cbiAqXG4gKiBMaWtlIGxpZmVjeWNsZSBmdW5jdGlvbnMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHthbnl9IGtleVxuICogQHBhcmFtIHtUfSBjb250ZXh0XG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENvbnRleHQoa2V5LCBjb250ZXh0KSB7XG5cdGNvbnN0IGNvbnRleHRfbWFwID0gZ2V0X29yX2luaXRfY29udGV4dF9tYXAoJ3NldENvbnRleHQnKTtcblxuXHRpZiAoYXN5bmNfbW9kZV9mbGFnKSB7XG5cdFx0dmFyIGZsYWdzID0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KS5mO1xuXHRcdHZhciB2YWxpZCA9ICFhY3RpdmVfcmVhY3Rpb24gJiYgKGZsYWdzICYgQlJBTkNIX0VGRkVDVCkgIT09IDAgJiYgKGZsYWdzICYgRUZGRUNUX1JBTikgPT09IDA7XG5cblx0XHRpZiAoIXZhbGlkKSB7XG5cdFx0XHRlLnNldF9jb250ZXh0X2FmdGVyX2luaXQoKTtcblx0XHR9XG5cdH1cblxuXHRjb250ZXh0X21hcC5zZXQoa2V5LCBjb250ZXh0KTtcblx0cmV0dXJuIGNvbnRleHQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBnaXZlbiBga2V5YCBoYXMgYmVlbiBzZXQgaW4gdGhlIGNvbnRleHQgb2YgYSBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0NvbnRleHQoa2V5KSB7XG5cdGNvbnN0IGNvbnRleHRfbWFwID0gZ2V0X29yX2luaXRfY29udGV4dF9tYXAoJ2hhc0NvbnRleHQnKTtcblx0cmV0dXJuIGNvbnRleHRfbWFwLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgd2hvbGUgY29udGV4dCBtYXAgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLiBVc2VmdWwsIGZvciBleGFtcGxlLCBpZiB5b3VcbiAqIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGEgY29tcG9uZW50IGFuZCB3YW50IHRvIHBhc3MgdGhlIGV4aXN0aW5nIGNvbnRleHQgdG8gaXQuXG4gKlxuICogQHRlbXBsYXRlIHtNYXA8YW55LCBhbnk+fSBbVD1NYXA8YW55LCBhbnk+XVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxDb250ZXh0cygpIHtcblx0Y29uc3QgY29udGV4dF9tYXAgPSBnZXRfb3JfaW5pdF9jb250ZXh0X21hcCgnZ2V0QWxsQ29udGV4dHMnKTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VH0gKi8gKGNvbnRleHRfbWFwKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHVua25vd24+fSBwcm9wc1xuICogQHBhcmFtIHthbnl9IHJ1bmVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1c2gocHJvcHMsIHJ1bmVzID0gZmFsc2UsIGZuKSB7XG5cdGNvbXBvbmVudF9jb250ZXh0ID0ge1xuXHRcdHA6IGNvbXBvbmVudF9jb250ZXh0LFxuXHRcdGM6IG51bGwsXG5cdFx0ZTogbnVsbCxcblx0XHRzOiBwcm9wcyxcblx0XHR4OiBudWxsLFxuXHRcdGw6IGxlZ2FjeV9tb2RlX2ZsYWcgJiYgIXJ1bmVzID8geyBzOiBudWxsLCB1OiBudWxsLCAkOiBbXSB9IDogbnVsbFxuXHR9O1xuXG5cdGlmIChERVYpIHtcblx0XHQvLyBjb21wb25lbnQgZnVuY3Rpb25cblx0XHRjb21wb25lbnRfY29udGV4dC5mdW5jdGlvbiA9IGZuO1xuXHRcdGRldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbiA9IGZuO1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBUXG4gKiBAcGFyYW0ge1R9IFtjb21wb25lbnRdXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvcChjb21wb25lbnQpIHtcblx0dmFyIGNvbnRleHQgPSAvKiogQHR5cGUge0NvbXBvbmVudENvbnRleHR9ICovIChjb21wb25lbnRfY29udGV4dCk7XG5cdHZhciBlZmZlY3RzID0gY29udGV4dC5lO1xuXG5cdGlmIChlZmZlY3RzICE9PSBudWxsKSB7XG5cdFx0Y29udGV4dC5lID0gbnVsbDtcblxuXHRcdGZvciAodmFyIGZuIG9mIGVmZmVjdHMpIHtcblx0XHRcdGNyZWF0ZV91c2VyX2VmZmVjdChmbik7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNvbXBvbmVudCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Y29udGV4dC54ID0gY29tcG9uZW50O1xuXHR9XG5cblx0Y29tcG9uZW50X2NvbnRleHQgPSBjb250ZXh0LnA7XG5cblx0aWYgKERFVikge1xuXHRcdGRldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbiA9IGNvbXBvbmVudF9jb250ZXh0Py5mdW5jdGlvbiA/PyBudWxsO1xuXHR9XG5cblx0cmV0dXJuIGNvbXBvbmVudCA/PyAvKiogQHR5cGUge1R9ICovICh7fSk7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19ydW5lcygpIHtcblx0cmV0dXJuICFsZWdhY3lfbW9kZV9mbGFnIHx8IChjb21wb25lbnRfY29udGV4dCAhPT0gbnVsbCAmJiBjb21wb25lbnRfY29udGV4dC5sID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge01hcDx1bmtub3duLCB1bmtub3duPn1cbiAqL1xuZnVuY3Rpb24gZ2V0X29yX2luaXRfY29udGV4dF9tYXAobmFtZSkge1xuXHRpZiAoY29tcG9uZW50X2NvbnRleHQgPT09IG51bGwpIHtcblx0XHRlLmxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudChuYW1lKTtcblx0fVxuXG5cdHJldHVybiAoY29tcG9uZW50X2NvbnRleHQuYyA/Pz0gbmV3IE1hcChnZXRfcGFyZW50X2NvbnRleHQoY29tcG9uZW50X2NvbnRleHQpIHx8IHVuZGVmaW5lZCkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29tcG9uZW50Q29udGV4dH0gY29tcG9uZW50X2NvbnRleHRcbiAqIEByZXR1cm5zIHtNYXA8dW5rbm93biwgdW5rbm93bj4gfCBudWxsfVxuICovXG5mdW5jdGlvbiBnZXRfcGFyZW50X2NvbnRleHQoY29tcG9uZW50X2NvbnRleHQpIHtcblx0bGV0IHBhcmVudCA9IGNvbXBvbmVudF9jb250ZXh0LnA7XG5cdHdoaWxlIChwYXJlbnQgIT09IG51bGwpIHtcblx0XHRjb25zdCBjb250ZXh0X21hcCA9IHBhcmVudC5jO1xuXHRcdGlmIChjb250ZXh0X21hcCAhPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIGNvbnRleHRfbWFwO1xuXHRcdH1cblx0XHRwYXJlbnQgPSBwYXJlbnQucDtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn1cbiIsIi8qIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgc2NyaXB0cy9wcm9jZXNzLW1lc3NhZ2VzL2luZGV4LmpzLiBEbyBub3QgZWRpdCEgKi9cblxuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5cbnZhciBib2xkID0gJ2ZvbnQtd2VpZ2h0OiBib2xkJztcbnZhciBub3JtYWwgPSAnZm9udC13ZWlnaHQ6IG5vcm1hbCc7XG5cbi8qKlxuICogQXNzaWdubWVudCB0byBgJXByb3BlcnR5JWAgcHJvcGVydHkgKCVsb2NhdGlvbiUpIHdpbGwgZXZhbHVhdGUgdG8gdGhlIHJpZ2h0LWhhbmQgc2lkZSwgbm90IHRoZSB2YWx1ZSBvZiBgJXByb3BlcnR5JWAgZm9sbG93aW5nIHRoZSBhc3NpZ25tZW50LiBUaGlzIG1heSByZXN1bHQgaW4gdW5leHBlY3RlZCBiZWhhdmlvdXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWdubWVudF92YWx1ZV9zdGFsZShwcm9wZXJ0eSwgbG9jYXRpb24pIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBhc3NpZ25tZW50X3ZhbHVlX3N0YWxlXFxuJWNBc3NpZ25tZW50IHRvIFxcYCR7cHJvcGVydHl9XFxgIHByb3BlcnR5ICgke2xvY2F0aW9ufSkgd2lsbCBldmFsdWF0ZSB0byB0aGUgcmlnaHQtaGFuZCBzaWRlLCBub3QgdGhlIHZhbHVlIG9mIFxcYCR7cHJvcGVydHl9XFxgIGZvbGxvd2luZyB0aGUgYXNzaWdubWVudC4gVGhpcyBtYXkgcmVzdWx0IGluIHVuZXhwZWN0ZWQgYmVoYXZpb3VyLlxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2Fzc2lnbm1lbnRfdmFsdWVfc3RhbGVgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYXNzaWdubWVudF92YWx1ZV9zdGFsZWApO1xuXHR9XG59XG5cbi8qKlxuICogRGV0ZWN0ZWQgcmVhY3Rpdml0eSBsb3NzIHdoZW4gcmVhZGluZyBgJW5hbWUlYC4gVGhpcyBoYXBwZW5zIHdoZW4gc3RhdGUgaXMgcmVhZCBpbiBhbiBhc3luYyBmdW5jdGlvbiBhZnRlciBhbiBlYXJsaWVyIGBhd2FpdGBcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhd2FpdF9yZWFjdGl2aXR5X2xvc3MobmFtZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGF3YWl0X3JlYWN0aXZpdHlfbG9zc1xcbiVjRGV0ZWN0ZWQgcmVhY3Rpdml0eSBsb3NzIHdoZW4gcmVhZGluZyBcXGAke25hbWV9XFxgLiBUaGlzIGhhcHBlbnMgd2hlbiBzdGF0ZSBpcyByZWFkIGluIGFuIGFzeW5jIGZ1bmN0aW9uIGFmdGVyIGFuIGVhcmxpZXIgXFxgYXdhaXRcXGBcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9hd2FpdF9yZWFjdGl2aXR5X2xvc3NgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYXdhaXRfcmVhY3Rpdml0eV9sb3NzYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBBbiBhc3luYyBkZXJpdmVkLCBgJW5hbWUlYCAoJWxvY2F0aW9uJSkgd2FzIG5vdCByZWFkIGltbWVkaWF0ZWx5IGFmdGVyIGl0IHJlc29sdmVkLiBUaGlzIG9mdGVuIGluZGljYXRlcyBhbiB1bm5lY2Vzc2FyeSB3YXRlcmZhbGwsIHdoaWNoIGNhbiBzbG93IGRvd24geW91ciBhcHBcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0X3dhdGVyZmFsbChuYW1lLCBsb2NhdGlvbikge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGF3YWl0X3dhdGVyZmFsbFxcbiVjQW4gYXN5bmMgZGVyaXZlZCwgXFxgJHtuYW1lfVxcYCAoJHtsb2NhdGlvbn0pIHdhcyBub3QgcmVhZCBpbW1lZGlhdGVseSBhZnRlciBpdCByZXNvbHZlZC4gVGhpcyBvZnRlbiBpbmRpY2F0ZXMgYW4gdW5uZWNlc3Nhcnkgd2F0ZXJmYWxsLCB3aGljaCBjYW4gc2xvdyBkb3duIHlvdXIgYXBwXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYXdhaXRfd2F0ZXJmYWxsYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2F3YWl0X3dhdGVyZmFsbGApO1xuXHR9XG59XG5cbi8qKlxuICogYCViaW5kaW5nJWAgKCVsb2NhdGlvbiUpIGlzIGJpbmRpbmcgdG8gYSBub24tcmVhY3RpdmUgcHJvcGVydHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBiaW5kaW5nXG4gKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZCB8IG51bGx9IFtsb2NhdGlvbl1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRpbmdfcHJvcGVydHlfbm9uX3JlYWN0aXZlKGJpbmRpbmcsIGxvY2F0aW9uKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRgJWNbc3ZlbHRlXSBiaW5kaW5nX3Byb3BlcnR5X25vbl9yZWFjdGl2ZVxcbiVjJHtsb2NhdGlvblxuXHRcdFx0XHQ/IGBcXGAke2JpbmRpbmd9XFxgICgke2xvY2F0aW9ufSkgaXMgYmluZGluZyB0byBhIG5vbi1yZWFjdGl2ZSBwcm9wZXJ0eWBcblx0XHRcdFx0OiBgXFxgJHtiaW5kaW5nfVxcYCBpcyBiaW5kaW5nIHRvIGEgbm9uLXJlYWN0aXZlIHByb3BlcnR5YH1cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9iaW5kaW5nX3Byb3BlcnR5X25vbl9yZWFjdGl2ZWAsXG5cdFx0XHRib2xkLFxuXHRcdFx0bm9ybWFsXG5cdFx0KTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2JpbmRpbmdfcHJvcGVydHlfbm9uX3JlYWN0aXZlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBZb3VyIGBjb25zb2xlLiVtZXRob2QlYCBjb250YWluZWQgYCRzdGF0ZWAgcHJveGllcy4gQ29uc2lkZXIgdXNpbmcgYCRpbnNwZWN0KC4uLilgIG9yIGAkc3RhdGUuc25hcHNob3QoLi4uKWAgaW5zdGVhZFxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uc29sZV9sb2dfc3RhdGUobWV0aG9kKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gY29uc29sZV9sb2dfc3RhdGVcXG4lY1lvdXIgXFxgY29uc29sZS4ke21ldGhvZH1cXGAgY29udGFpbmVkIFxcYCRzdGF0ZVxcYCBwcm94aWVzLiBDb25zaWRlciB1c2luZyBcXGAkaW5zcGVjdCguLi4pXFxgIG9yIFxcYCRzdGF0ZS5zbmFwc2hvdCguLi4pXFxgIGluc3RlYWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9jb25zb2xlX2xvZ19zdGF0ZWAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9jb25zb2xlX2xvZ19zdGF0ZWApO1xuXHR9XG59XG5cbi8qKlxuICogJWhhbmRsZXIlIHNob3VsZCBiZSBhIGZ1bmN0aW9uLiBEaWQgeW91IG1lYW4gdG8gJXN1Z2dlc3Rpb24lP1xuICogQHBhcmFtIHtzdHJpbmd9IGhhbmRsZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdWdnZXN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBldmVudF9oYW5kbGVyX2ludmFsaWQoaGFuZGxlciwgc3VnZ2VzdGlvbikge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGV2ZW50X2hhbmRsZXJfaW52YWxpZFxcbiVjJHtoYW5kbGVyfSBzaG91bGQgYmUgYSBmdW5jdGlvbi4gRGlkIHlvdSBtZWFuIHRvICR7c3VnZ2VzdGlvbn0/XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZXZlbnRfaGFuZGxlcl9pbnZhbGlkYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2V2ZW50X2hhbmRsZXJfaW52YWxpZGApO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIGAlYXR0cmlidXRlJWAgYXR0cmlidXRlIG9uIGAlaHRtbCVgIGNoYW5nZWQgaXRzIHZhbHVlIGJldHdlZW4gc2VydmVyIGFuZCBjbGllbnQgcmVuZGVycy4gVGhlIGNsaWVudCB2YWx1ZSwgYCV2YWx1ZSVgLCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIHRoZSBzZXJ2ZXIgdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGlvbl9hdHRyaWJ1dGVfY2hhbmdlZChhdHRyaWJ1dGUsIGh0bWwsIHZhbHVlKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gaHlkcmF0aW9uX2F0dHJpYnV0ZV9jaGFuZ2VkXFxuJWNUaGUgXFxgJHthdHRyaWJ1dGV9XFxgIGF0dHJpYnV0ZSBvbiBcXGAke2h0bWx9XFxgIGNoYW5nZWQgaXRzIHZhbHVlIGJldHdlZW4gc2VydmVyIGFuZCBjbGllbnQgcmVuZGVycy4gVGhlIGNsaWVudCB2YWx1ZSwgXFxgJHt2YWx1ZX1cXGAsIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgdGhlIHNlcnZlciB2YWx1ZVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGlvbl9hdHRyaWJ1dGVfY2hhbmdlZGAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRpb25fYXR0cmlidXRlX2NoYW5nZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSB2YWx1ZSBvZiBhbiBge0BodG1sIC4uLn1gIGJsb2NrICVsb2NhdGlvbiUgY2hhbmdlZCBiZXR3ZWVuIHNlcnZlciBhbmQgY2xpZW50IHJlbmRlcnMuIFRoZSBjbGllbnQgdmFsdWUgd2lsbCBiZSBpZ25vcmVkIGluIGZhdm91ciBvZiB0aGUgc2VydmVyIHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZCB8IG51bGx9IFtsb2NhdGlvbl1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGlvbl9odG1sX2NoYW5nZWQobG9jYXRpb24pIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGAlY1tzdmVsdGVdIGh5ZHJhdGlvbl9odG1sX2NoYW5nZWRcXG4lYyR7bG9jYXRpb25cblx0XHRcdFx0PyBgVGhlIHZhbHVlIG9mIGFuIFxcYHtAaHRtbCAuLi59XFxgIGJsb2NrICR7bG9jYXRpb259IGNoYW5nZWQgYmV0d2VlbiBzZXJ2ZXIgYW5kIGNsaWVudCByZW5kZXJzLiBUaGUgY2xpZW50IHZhbHVlIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgdGhlIHNlcnZlciB2YWx1ZWBcblx0XHRcdFx0OiAnVGhlIHZhbHVlIG9mIGFuIGB7QGh0bWwgLi4ufWAgYmxvY2sgY2hhbmdlZCBiZXR3ZWVuIHNlcnZlciBhbmQgY2xpZW50IHJlbmRlcnMuIFRoZSBjbGllbnQgdmFsdWUgd2lsbCBiZSBpZ25vcmVkIGluIGZhdm91ciBvZiB0aGUgc2VydmVyIHZhbHVlJ31cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRpb25faHRtbF9jaGFuZ2VkYCxcblx0XHRcdGJvbGQsXG5cdFx0XHRub3JtYWxcblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0aW9uX2h0bWxfY2hhbmdlZGApO1xuXHR9XG59XG5cbi8qKlxuICogSHlkcmF0aW9uIGZhaWxlZCBiZWNhdXNlIHRoZSBpbml0aWFsIFVJIGRvZXMgbm90IG1hdGNoIHdoYXQgd2FzIHJlbmRlcmVkIG9uIHRoZSBzZXJ2ZXIuIFRoZSBlcnJvciBvY2N1cnJlZCBuZWFyICVsb2NhdGlvbiVcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbH0gW2xvY2F0aW9uXVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0aW9uX21pc21hdGNoKGxvY2F0aW9uKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRgJWNbc3ZlbHRlXSBoeWRyYXRpb25fbWlzbWF0Y2hcXG4lYyR7bG9jYXRpb25cblx0XHRcdFx0PyBgSHlkcmF0aW9uIGZhaWxlZCBiZWNhdXNlIHRoZSBpbml0aWFsIFVJIGRvZXMgbm90IG1hdGNoIHdoYXQgd2FzIHJlbmRlcmVkIG9uIHRoZSBzZXJ2ZXIuIFRoZSBlcnJvciBvY2N1cnJlZCBuZWFyICR7bG9jYXRpb259YFxuXHRcdFx0XHQ6ICdIeWRyYXRpb24gZmFpbGVkIGJlY2F1c2UgdGhlIGluaXRpYWwgVUkgZG9lcyBub3QgbWF0Y2ggd2hhdCB3YXMgcmVuZGVyZWQgb24gdGhlIHNlcnZlcid9XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0aW9uX21pc21hdGNoYCxcblx0XHRcdGJvbGQsXG5cdFx0XHRub3JtYWxcblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0aW9uX21pc21hdGNoYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgYHJlbmRlcmAgZnVuY3Rpb24gcGFzc2VkIHRvIGBjcmVhdGVSYXdTbmlwcGV0YCBzaG91bGQgcmV0dXJuIEhUTUwgZm9yIGEgc2luZ2xlIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRfcmF3X3NuaXBwZXRfcmVuZGVyKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGludmFsaWRfcmF3X3NuaXBwZXRfcmVuZGVyXFxuJWNUaGUgXFxgcmVuZGVyXFxgIGZ1bmN0aW9uIHBhc3NlZCB0byBcXGBjcmVhdGVSYXdTbmlwcGV0XFxgIHNob3VsZCByZXR1cm4gSFRNTCBmb3IgYSBzaW5nbGUgZWxlbWVudFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2ludmFsaWRfcmF3X3NuaXBwZXRfcmVuZGVyYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2ludmFsaWRfcmF3X3NuaXBwZXRfcmVuZGVyYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBEZXRlY3RlZCBhIG1pZ3JhdGVkIGAkOmAgcmVhY3RpdmUgYmxvY2sgaW4gYCVmaWxlbmFtZSVgIHRoYXQgYm90aCBhY2Nlc3NlcyBhbmQgdXBkYXRlcyB0aGUgc2FtZSByZWFjdGl2ZSB2YWx1ZS4gVGhpcyBtYXkgY2F1c2UgcmVjdXJzaXZlIHVwZGF0ZXMgd2hlbiBjb252ZXJ0ZWQgdG8gYW4gYCRlZmZlY3RgLlxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZWdhY3lfcmVjdXJzaXZlX3JlYWN0aXZlX2Jsb2NrKGZpbGVuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gbGVnYWN5X3JlY3Vyc2l2ZV9yZWFjdGl2ZV9ibG9ja1xcbiVjRGV0ZWN0ZWQgYSBtaWdyYXRlZCBcXGAkOlxcYCByZWFjdGl2ZSBibG9jayBpbiBcXGAke2ZpbGVuYW1lfVxcYCB0aGF0IGJvdGggYWNjZXNzZXMgYW5kIHVwZGF0ZXMgdGhlIHNhbWUgcmVhY3RpdmUgdmFsdWUuIFRoaXMgbWF5IGNhdXNlIHJlY3Vyc2l2ZSB1cGRhdGVzIHdoZW4gY29udmVydGVkIHRvIGFuIFxcYCRlZmZlY3RcXGAuXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbGVnYWN5X3JlY3Vyc2l2ZV9yZWFjdGl2ZV9ibG9ja2AsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9sZWdhY3lfcmVjdXJzaXZlX3JlYWN0aXZlX2Jsb2NrYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBUcmllZCB0byB1bm1vdW50IGEgY29tcG9uZW50IHRoYXQgd2FzIG5vdCBtb3VudGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaWZlY3ljbGVfZG91YmxlX3VubW91bnQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gbGlmZWN5Y2xlX2RvdWJsZV91bm1vdW50XFxuJWNUcmllZCB0byB1bm1vdW50IGEgY29tcG9uZW50IHRoYXQgd2FzIG5vdCBtb3VudGVkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbGlmZWN5Y2xlX2RvdWJsZV91bm1vdW50YCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2xpZmVjeWNsZV9kb3VibGVfdW5tb3VudGApO1xuXHR9XG59XG5cbi8qKlxuICogJXBhcmVudCUgcGFzc2VkIHByb3BlcnR5IGAlcHJvcCVgIHRvICVjaGlsZCUgd2l0aCBgYmluZDpgLCBidXQgaXRzIHBhcmVudCBjb21wb25lbnQgJW93bmVyJSBkaWQgbm90IGRlY2xhcmUgYCVwcm9wJWAgYXMgYSBiaW5kaW5nLiBDb25zaWRlciBjcmVhdGluZyBhIGJpbmRpbmcgYmV0d2VlbiAlb3duZXIlIGFuZCAlcGFyZW50JSAoZS5nLiBgYmluZDolcHJvcCU9ey4uLn1gIGluc3RlYWQgb2YgYCVwcm9wJT17Li4ufWApXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHBhcmFtIHtzdHJpbmd9IGNoaWxkXG4gKiBAcGFyYW0ge3N0cmluZ30gb3duZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG93bmVyc2hpcF9pbnZhbGlkX2JpbmRpbmcocGFyZW50LCBwcm9wLCBjaGlsZCwgb3duZXIpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBvd25lcnNoaXBfaW52YWxpZF9iaW5kaW5nXFxuJWMke3BhcmVudH0gcGFzc2VkIHByb3BlcnR5IFxcYCR7cHJvcH1cXGAgdG8gJHtjaGlsZH0gd2l0aCBcXGBiaW5kOlxcYCwgYnV0IGl0cyBwYXJlbnQgY29tcG9uZW50ICR7b3duZXJ9IGRpZCBub3QgZGVjbGFyZSBcXGAke3Byb3B9XFxgIGFzIGEgYmluZGluZy4gQ29uc2lkZXIgY3JlYXRpbmcgYSBiaW5kaW5nIGJldHdlZW4gJHtvd25lcn0gYW5kICR7cGFyZW50fSAoZS5nLiBcXGBiaW5kOiR7cHJvcH09ey4uLn1cXGAgaW5zdGVhZCBvZiBcXGAke3Byb3B9PXsuLi59XFxgKVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL293bmVyc2hpcF9pbnZhbGlkX2JpbmRpbmdgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvb3duZXJzaGlwX2ludmFsaWRfYmluZGluZ2ApO1xuXHR9XG59XG5cbi8qKlxuICogTXV0YXRpbmcgdW5ib3VuZCBwcm9wcyAoYCVuYW1lJWAsIGF0ICVsb2NhdGlvbiUpIGlzIHN0cm9uZ2x5IGRpc2NvdXJhZ2VkLiBDb25zaWRlciB1c2luZyBgYmluZDolcHJvcCU9ey4uLn1gIGluICVwYXJlbnQlIChvciB1c2luZyBhIGNhbGxiYWNrKSBpbnN0ZWFkXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gb3duZXJzaGlwX2ludmFsaWRfbXV0YXRpb24obmFtZSwgbG9jYXRpb24sIHByb3AsIHBhcmVudCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIG93bmVyc2hpcF9pbnZhbGlkX211dGF0aW9uXFxuJWNNdXRhdGluZyB1bmJvdW5kIHByb3BzIChcXGAke25hbWV9XFxgLCBhdCAke2xvY2F0aW9ufSkgaXMgc3Ryb25nbHkgZGlzY291cmFnZWQuIENvbnNpZGVyIHVzaW5nIFxcYGJpbmQ6JHtwcm9wfT17Li4ufVxcYCBpbiAke3BhcmVudH0gKG9yIHVzaW5nIGEgY2FsbGJhY2spIGluc3RlYWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9vd25lcnNoaXBfaW52YWxpZF9tdXRhdGlvbmAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9vd25lcnNoaXBfaW52YWxpZF9tdXRhdGlvbmApO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIGB2YWx1ZWAgcHJvcGVydHkgb2YgYSBgPHNlbGVjdCBtdWx0aXBsZT5gIGVsZW1lbnQgc2hvdWxkIGJlIGFuIGFycmF5LCBidXQgaXQgcmVjZWl2ZWQgYSBub24tYXJyYXkgdmFsdWUuIFRoZSBzZWxlY3Rpb24gd2lsbCBiZSBrZXB0IGFzIGlzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX2ludmFsaWRfdmFsdWUoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gc2VsZWN0X211bHRpcGxlX2ludmFsaWRfdmFsdWVcXG4lY1RoZSBcXGB2YWx1ZVxcYCBwcm9wZXJ0eSBvZiBhIFxcYDxzZWxlY3QgbXVsdGlwbGU+XFxgIGVsZW1lbnQgc2hvdWxkIGJlIGFuIGFycmF5LCBidXQgaXQgcmVjZWl2ZWQgYSBub24tYXJyYXkgdmFsdWUuIFRoZSBzZWxlY3Rpb24gd2lsbCBiZSBrZXB0IGFzIGlzLlxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3NlbGVjdF9tdWx0aXBsZV9pbnZhbGlkX3ZhbHVlYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3NlbGVjdF9tdWx0aXBsZV9pbnZhbGlkX3ZhbHVlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZWFjdGl2ZSBgJHN0YXRlKC4uLilgIHByb3hpZXMgYW5kIHRoZSB2YWx1ZXMgdGhleSBwcm94eSBoYXZlIGRpZmZlcmVudCBpZGVudGl0aWVzLiBCZWNhdXNlIG9mIHRoaXMsIGNvbXBhcmlzb25zIHdpdGggYCVvcGVyYXRvciVgIHdpbGwgcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcGVyYXRvclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhdGVfcHJveHlfZXF1YWxpdHlfbWlzbWF0Y2gob3BlcmF0b3IpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBzdGF0ZV9wcm94eV9lcXVhbGl0eV9taXNtYXRjaFxcbiVjUmVhY3RpdmUgXFxgJHN0YXRlKC4uLilcXGAgcHJveGllcyBhbmQgdGhlIHZhbHVlcyB0aGV5IHByb3h5IGhhdmUgZGlmZmVyZW50IGlkZW50aXRpZXMuIEJlY2F1c2Ugb2YgdGhpcywgY29tcGFyaXNvbnMgd2l0aCBcXGAke29wZXJhdG9yfVxcYCB3aWxsIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfcHJveHlfZXF1YWxpdHlfbWlzbWF0Y2hgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfcHJveHlfZXF1YWxpdHlfbWlzbWF0Y2hgKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBgc2xpZGVgIHRyYW5zaXRpb24gZG9lcyBub3Qgd29yayBjb3JyZWN0bHkgZm9yIGVsZW1lbnRzIHdpdGggYGRpc3BsYXk6ICV2YWx1ZSVgXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25fc2xpZGVfZGlzcGxheSh2YWx1ZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIHRyYW5zaXRpb25fc2xpZGVfZGlzcGxheVxcbiVjVGhlIFxcYHNsaWRlXFxgIHRyYW5zaXRpb24gZG9lcyBub3Qgd29yayBjb3JyZWN0bHkgZm9yIGVsZW1lbnRzIHdpdGggXFxgZGlzcGxheTogJHt2YWx1ZX1cXGBcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS90cmFuc2l0aW9uX3NsaWRlX2Rpc3BsYXlgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvdHJhbnNpdGlvbl9zbGlkZV9kaXNwbGF5YCk7XG5cdH1cbn0iLCIvKiogQGltcG9ydCB7IFRlbXBsYXRlTm9kZSB9IGZyb20gJyNjbGllbnQnICovXG5cbmltcG9ydCB7IENPTU1FTlRfTk9ERSB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7XG5cdEhZRFJBVElPTl9FTkQsXG5cdEhZRFJBVElPTl9FUlJPUixcblx0SFlEUkFUSU9OX1NUQVJULFxuXHRIWURSQVRJT05fU1RBUlRfRUxTRVxufSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0ICogYXMgdyBmcm9tICcuLi93YXJuaW5ncy5qcyc7XG5pbXBvcnQgeyBnZXRfbmV4dF9zaWJsaW5nIH0gZnJvbSAnLi9vcGVyYXRpb25zLmpzJztcblxuLyoqXG4gKiBVc2UgdGhpcyB2YXJpYWJsZSB0byBndWFyZCBldmVyeXRoaW5nIHJlbGF0ZWQgdG8gaHlkcmF0aW9uIGNvZGUgc28gaXQgY2FuIGJlIHRyZWVzaGFrZW4gb3V0XG4gKiBpZiB0aGUgdXNlciBkb2Vzbid0IHVzZSB0aGUgYGh5ZHJhdGVgIG1ldGhvZCBhbmQgdGhlc2UgY29kZSBwYXRocyBhcmUgdGhlcmVmb3JlIG5vdCBuZWVkZWQuXG4gKi9cbmV4cG9ydCBsZXQgaHlkcmF0aW5nID0gZmFsc2U7XG5cbi8qKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2h5ZHJhdGluZyh2YWx1ZSkge1xuXHRoeWRyYXRpbmcgPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBUaGUgbm9kZSB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBoeWRyYXRlZC4gVGhpcyBzdGFydHMgb3V0IGFzIHRoZSBmaXJzdCBub2RlIGluc2lkZSB0aGUgb3BlbmluZ1xuICogPCEtLVstLT4gY29tbWVudCwgYW5kIHVwZGF0ZXMgZWFjaCB0aW1lIGEgY29tcG9uZW50IGNhbGxzIGAkLmNoaWxkKC4uLilgIG9yIGAkLnNpYmxpbmcoLi4uKWAuXG4gKiBXaGVuIGVudGVyaW5nIGEgYmxvY2sgKGUuZy4gYHsjaWYgLi4ufWApLCBgaHlkcmF0ZV9ub2RlYCBpcyB0aGUgYmxvY2sgb3BlbmluZyBjb21tZW50OyBieSB0aGVcbiAqIHRpbWUgd2UgbGVhdmUgdGhlIGJsb2NrIGl0IGlzIHRoZSBjbG9zaW5nIGNvbW1lbnQsIHdoaWNoIHNlcnZlcyBhcyB0aGUgYmxvY2sncyBhbmNob3IuXG4gKiBAdHlwZSB7VGVtcGxhdGVOb2RlfVxuICovXG5leHBvcnQgbGV0IGh5ZHJhdGVfbm9kZTtcblxuLyoqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBub2RlICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2h5ZHJhdGVfbm9kZShub2RlKSB7XG5cdGlmIChub2RlID09PSBudWxsKSB7XG5cdFx0dy5oeWRyYXRpb25fbWlzbWF0Y2goKTtcblx0XHR0aHJvdyBIWURSQVRJT05fRVJST1I7XG5cdH1cblxuXHRyZXR1cm4gKGh5ZHJhdGVfbm9kZSA9IG5vZGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZV9uZXh0KCkge1xuXHRyZXR1cm4gc2V0X2h5ZHJhdGVfbm9kZSgvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9uZXh0X3NpYmxpbmcoaHlkcmF0ZV9ub2RlKSkpO1xufVxuXG4vKiogQHBhcmFtIHtUZW1wbGF0ZU5vZGV9IG5vZGUgKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldChub2RlKSB7XG5cdGlmICghaHlkcmF0aW5nKSByZXR1cm47XG5cblx0Ly8gSWYgdGhlIG5vZGUgaGFzIHJlbWFpbmluZyBzaWJsaW5ncywgc29tZXRoaW5nIGhhcyBnb25lIHdyb25nXG5cdGlmIChnZXRfbmV4dF9zaWJsaW5nKGh5ZHJhdGVfbm9kZSkgIT09IG51bGwpIHtcblx0XHR3Lmh5ZHJhdGlvbl9taXNtYXRjaCgpO1xuXHRcdHRocm93IEhZRFJBVElPTl9FUlJPUjtcblx0fVxuXG5cdGh5ZHJhdGVfbm9kZSA9IG5vZGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZV90ZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuXHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBUZW1wbGF0ZU5vZGUgZG9lc24ndCBpbmNsdWRlIERvY3VtZW50RnJhZ21lbnQsIGJ1dCBpdCdzIGFjdHVhbGx5IGZpbmVcblx0XHRoeWRyYXRlX25vZGUgPSB0ZW1wbGF0ZS5jb250ZW50O1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXh0KGNvdW50ID0gMSkge1xuXHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0dmFyIGkgPSBjb3VudDtcblx0XHR2YXIgbm9kZSA9IGh5ZHJhdGVfbm9kZTtcblxuXHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdG5vZGUgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9uZXh0X3NpYmxpbmcobm9kZSkpO1xuXHRcdH1cblxuXHRcdGh5ZHJhdGVfbm9kZSA9IG5vZGU7XG5cdH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBub2RlcyBzdGFydGluZyBhdCBgaHlkcmF0ZV9ub2RlYCB1cCB1bnRpbCB0aGUgbmV4dCBoeWRyYXRpb24gZW5kIGNvbW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZV9ub2RlcygpIHtcblx0dmFyIGRlcHRoID0gMDtcblx0dmFyIG5vZGUgPSBoeWRyYXRlX25vZGU7XG5cblx0d2hpbGUgKHRydWUpIHtcblx0XHRpZiAobm9kZS5ub2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFKSB7XG5cdFx0XHR2YXIgZGF0YSA9IC8qKiBAdHlwZSB7Q29tbWVudH0gKi8gKG5vZGUpLmRhdGE7XG5cblx0XHRcdGlmIChkYXRhID09PSBIWURSQVRJT05fRU5EKSB7XG5cdFx0XHRcdGlmIChkZXB0aCA9PT0gMCkgcmV0dXJuIG5vZGU7XG5cdFx0XHRcdGRlcHRoIC09IDE7XG5cdFx0XHR9IGVsc2UgaWYgKGRhdGEgPT09IEhZRFJBVElPTl9TVEFSVCB8fCBkYXRhID09PSBIWURSQVRJT05fU1RBUlRfRUxTRSkge1xuXHRcdFx0XHRkZXB0aCArPSAxO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBuZXh0ID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfbmV4dF9zaWJsaW5nKG5vZGUpKTtcblx0XHRub2RlLnJlbW92ZSgpO1xuXHRcdG5vZGUgPSBuZXh0O1xuXHR9XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBub2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkX2h5ZHJhdGlvbl9pbnN0cnVjdGlvbihub2RlKSB7XG5cdGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlICE9PSBDT01NRU5UX05PREUpIHtcblx0XHR3Lmh5ZHJhdGlvbl9taXNtYXRjaCgpO1xuXHRcdHRocm93IEhZRFJBVElPTl9FUlJPUjtcblx0fVxuXG5cdHJldHVybiAvKiogQHR5cGUge0NvbW1lbnR9ICovIChub2RlKS5kYXRhO1xufVxuIiwiLyoqIEBpbXBvcnQgeyBTb3VyY2UgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQge1xuXHRnZXQsXG5cdGFjdGl2ZV9lZmZlY3QsXG5cdHVwZGF0ZV92ZXJzaW9uLFxuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdHNldF91cGRhdGVfdmVyc2lvbixcblx0c2V0X2FjdGl2ZV9yZWFjdGlvblxufSBmcm9tICcuL3J1bnRpbWUuanMnO1xuaW1wb3J0IHtcblx0YXJyYXlfcHJvdG90eXBlLFxuXHRnZXRfZGVzY3JpcHRvcixcblx0Z2V0X3Byb3RvdHlwZV9vZixcblx0aXNfYXJyYXksXG5cdG9iamVjdF9wcm90b3R5cGVcbn0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdHN0YXRlIGFzIHNvdXJjZSxcblx0c2V0LFxuXHRpbmNyZW1lbnQsXG5cdGZsdXNoX2luc3BlY3RfZWZmZWN0cyxcblx0c2V0X2luc3BlY3RfZWZmZWN0c19kZWZlcnJlZFxufSBmcm9tICcuL3JlYWN0aXZpdHkvc291cmNlcy5qcyc7XG5pbXBvcnQgeyBQUk9YWV9QQVRIX1NZTUJPTCwgU1RBVEVfU1lNQk9MIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHsgVU5JTklUSUFMSVpFRCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGdldF9zdGFjaywgdGFnIH0gZnJvbSAnLi9kZXYvdHJhY2luZy5qcyc7XG5pbXBvcnQgeyB0cmFjaW5nX21vZGVfZmxhZyB9IGZyb20gJy4uL2ZsYWdzL2luZGV4LmpzJztcblxuLy8gVE9ETyBtb3ZlIGFsbCByZWdleGVzIGludG8gc2hhcmVkIG1vZHVsZT9cbmNvbnN0IHJlZ2V4X2lzX3ZhbGlkX2lkZW50aWZpZXIgPSAvXlthLXpBLVpfJF1bYS16QS1aXyQwLTldKiQvO1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IHZhbHVlXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3h5KHZhbHVlKSB7XG5cdC8vIGlmIG5vbi1wcm94eWFibGUsIG9yIGlzIGFscmVhZHkgYSBwcm94eSwgcmV0dXJuIGB2YWx1ZWBcblx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgdmFsdWUgPT09IG51bGwgfHwgU1RBVEVfU1lNQk9MIGluIHZhbHVlKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cblx0Y29uc3QgcHJvdG90eXBlID0gZ2V0X3Byb3RvdHlwZV9vZih2YWx1ZSk7XG5cblx0aWYgKHByb3RvdHlwZSAhPT0gb2JqZWN0X3Byb3RvdHlwZSAmJiBwcm90b3R5cGUgIT09IGFycmF5X3Byb3RvdHlwZSkge1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxuXG5cdC8qKiBAdHlwZSB7TWFwPGFueSwgU291cmNlPGFueT4+fSAqL1xuXHR2YXIgc291cmNlcyA9IG5ldyBNYXAoKTtcblx0dmFyIGlzX3Byb3hpZWRfYXJyYXkgPSBpc19hcnJheSh2YWx1ZSk7XG5cdHZhciB2ZXJzaW9uID0gc291cmNlKDApO1xuXG5cdHZhciBzdGFjayA9IERFViAmJiB0cmFjaW5nX21vZGVfZmxhZyA/IGdldF9zdGFjaygnQ3JlYXRlZEF0JykgOiBudWxsO1xuXHR2YXIgcGFyZW50X3ZlcnNpb24gPSB1cGRhdGVfdmVyc2lvbjtcblxuXHQvKipcblx0ICogRXhlY3V0ZXMgdGhlIHByb3h5IGluIHRoZSBjb250ZXh0IG9mIHRoZSByZWFjdGlvbiBpdCB3YXMgb3JpZ2luYWxseSBjcmVhdGVkIGluLCBpZiBhbnlcblx0ICogQHRlbXBsYXRlIFRcblx0ICogQHBhcmFtIHsoKSA9PiBUfSBmblxuXHQgKi9cblx0dmFyIHdpdGhfcGFyZW50ID0gKGZuKSA9PiB7XG5cdFx0aWYgKHVwZGF0ZV92ZXJzaW9uID09PSBwYXJlbnRfdmVyc2lvbikge1xuXHRcdFx0cmV0dXJuIGZuKCk7XG5cdFx0fVxuXG5cdFx0Ly8gY2hpbGQgc291cmNlIGlzIGJlaW5nIGNyZWF0ZWQgYWZ0ZXIgdGhlIGluaXRpYWwgcHJveHkg4oCUXG5cdFx0Ly8gcHJldmVudCBpdCBmcm9tIGJlaW5nIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCByZWFjdGlvblxuXHRcdHZhciByZWFjdGlvbiA9IGFjdGl2ZV9yZWFjdGlvbjtcblx0XHR2YXIgdmVyc2lvbiA9IHVwZGF0ZV92ZXJzaW9uO1xuXG5cdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihudWxsKTtcblx0XHRzZXRfdXBkYXRlX3ZlcnNpb24ocGFyZW50X3ZlcnNpb24pO1xuXG5cdFx0dmFyIHJlc3VsdCA9IGZuKCk7XG5cblx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHJlYWN0aW9uKTtcblx0XHRzZXRfdXBkYXRlX3ZlcnNpb24odmVyc2lvbik7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdGlmIChpc19wcm94aWVkX2FycmF5KSB7XG5cdFx0Ly8gV2UgbmVlZCB0byBjcmVhdGUgdGhlIGxlbmd0aCBzb3VyY2UgZWFnZXJseSB0byBlbnN1cmUgdGhhdFxuXHRcdC8vIG11dGF0aW9ucyB0byB0aGUgYXJyYXkgYXJlIHByb3Blcmx5IHN5bmNlZCB3aXRoIG91ciBwcm94eVxuXHRcdHNvdXJjZXMuc2V0KCdsZW5ndGgnLCBzb3VyY2UoLyoqIEB0eXBlIHthbnlbXX0gKi8gKHZhbHVlKS5sZW5ndGgsIHN0YWNrKSk7XG5cdFx0aWYgKERFVikge1xuXHRcdFx0dmFsdWUgPSAvKiogQHR5cGUge2FueX0gKi8gKGluc3BlY3RhYmxlX2FycmF5KC8qKiBAdHlwZSB7YW55W119ICovICh2YWx1ZSkpKTtcblx0XHR9XG5cdH1cblxuXHQvKiogVXNlZCBpbiBkZXYgZm9yICRpbnNwZWN0LnRyYWNlKCkgKi9cblx0dmFyIHBhdGggPSAnJztcblxuXHQvKiogQHBhcmFtIHtzdHJpbmd9IG5ld19wYXRoICovXG5cdGZ1bmN0aW9uIHVwZGF0ZV9wYXRoKG5ld19wYXRoKSB7XG5cdFx0cGF0aCA9IG5ld19wYXRoO1xuXG5cdFx0dGFnKHZlcnNpb24sIGAke3BhdGh9IHZlcnNpb25gKTtcblxuXHRcdC8vIHJlbmFtZSBhbGwgY2hpbGQgc291cmNlcyBhbmQgY2hpbGQgcHJveGllc1xuXHRcdGZvciAoY29uc3QgW3Byb3AsIHNvdXJjZV0gb2Ygc291cmNlcykge1xuXHRcdFx0dGFnKHNvdXJjZSwgZ2V0X2xhYmVsKHBhdGgsIHByb3ApKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbmV3IFByb3h5KC8qKiBAdHlwZSB7YW55fSAqLyAodmFsdWUpLCB7XG5cdFx0ZGVmaW5lUHJvcGVydHkoXywgcHJvcCwgZGVzY3JpcHRvcikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHQhKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgfHxcblx0XHRcdFx0ZGVzY3JpcHRvci5jb25maWd1cmFibGUgPT09IGZhbHNlIHx8XG5cdFx0XHRcdGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9PT0gZmFsc2UgfHxcblx0XHRcdFx0ZGVzY3JpcHRvci53cml0YWJsZSA9PT0gZmFsc2Vcblx0XHRcdCkge1xuXHRcdFx0XHQvLyB3ZSBkaXNhbGxvdyBub24tYmFzaWMgZGVzY3JpcHRvcnMsIGJlY2F1c2UgdW5sZXNzIHRoZXkgYXJlIGFwcGxpZWQgdG8gdGhlXG5cdFx0XHRcdC8vIHRhcmdldCBvYmplY3Qg4oCUIHdoaWNoIHdlIGF2b2lkLCBzbyB0aGF0IHN0YXRlIGNhbiBiZSBmb3JrZWQg4oCUIHdlIHdpbGwgcnVuXG5cdFx0XHRcdC8vIGFmb3VsIG9mIHRoZSB2YXJpb3VzIGludmFyaWFudHNcblx0XHRcdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJveHkvUHJveHkvZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yI2ludmFyaWFudHNcblx0XHRcdFx0ZS5zdGF0ZV9kZXNjcmlwdG9yc19maXhlZCgpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIHMgPSBzb3VyY2VzLmdldChwcm9wKTtcblx0XHRcdGlmIChzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cyA9IHdpdGhfcGFyZW50KCgpID0+IHtcblx0XHRcdFx0XHR2YXIgcyA9IHNvdXJjZShkZXNjcmlwdG9yLnZhbHVlLCBzdGFjayk7XG5cdFx0XHRcdFx0c291cmNlcy5zZXQocHJvcCwgcyk7XG5cdFx0XHRcdFx0aWYgKERFViAmJiB0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRcdHRhZyhzLCBnZXRfbGFiZWwocGF0aCwgcHJvcCkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gcztcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZXQocywgZGVzY3JpcHRvci52YWx1ZSwgdHJ1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHRkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApIHtcblx0XHRcdHZhciBzID0gc291cmNlcy5nZXQocHJvcCk7XG5cblx0XHRcdGlmIChzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aWYgKHByb3AgaW4gdGFyZ2V0KSB7XG5cdFx0XHRcdFx0Y29uc3QgcyA9IHdpdGhfcGFyZW50KCgpID0+IHNvdXJjZShVTklOSVRJQUxJWkVELCBzdGFjaykpO1xuXHRcdFx0XHRcdHNvdXJjZXMuc2V0KHByb3AsIHMpO1xuXHRcdFx0XHRcdGluY3JlbWVudCh2ZXJzaW9uKTtcblxuXHRcdFx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0XHRcdHRhZyhzLCBnZXRfbGFiZWwocGF0aCwgcHJvcCkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2V0KHMsIFVOSU5JVElBTElaRUQpO1xuXHRcdFx0XHRpbmNyZW1lbnQodmVyc2lvbik7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHRnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuXHRcdFx0aWYgKHByb3AgPT09IFNUQVRFX1NZTUJPTCkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChERVYgJiYgcHJvcCA9PT0gUFJPWFlfUEFUSF9TWU1CT0wpIHtcblx0XHRcdFx0cmV0dXJuIHVwZGF0ZV9wYXRoO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcyA9IHNvdXJjZXMuZ2V0KHByb3ApO1xuXHRcdFx0dmFyIGV4aXN0cyA9IHByb3AgaW4gdGFyZ2V0O1xuXG5cdFx0XHQvLyBjcmVhdGUgYSBzb3VyY2UsIGJ1dCBvbmx5IGlmIGl0J3MgYW4gb3duIHByb3BlcnR5IGFuZCBub3QgYSBwcm90b3R5cGUgcHJvcGVydHlcblx0XHRcdGlmIChzID09PSB1bmRlZmluZWQgJiYgKCFleGlzdHMgfHwgZ2V0X2Rlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKT8ud3JpdGFibGUpKSB7XG5cdFx0XHRcdHMgPSB3aXRoX3BhcmVudCgoKSA9PiB7XG5cdFx0XHRcdFx0dmFyIHAgPSBwcm94eShleGlzdHMgPyB0YXJnZXRbcHJvcF0gOiBVTklOSVRJQUxJWkVEKTtcblx0XHRcdFx0XHR2YXIgcyA9IHNvdXJjZShwLCBzdGFjayk7XG5cblx0XHRcdFx0XHRpZiAoREVWKSB7XG5cdFx0XHRcdFx0XHR0YWcocywgZ2V0X2xhYmVsKHBhdGgsIHByb3ApKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gcztcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0c291cmNlcy5zZXQocHJvcCwgcyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dmFyIHYgPSBnZXQocyk7XG5cdFx0XHRcdHJldHVybiB2ID09PSBVTklOSVRJQUxJWkVEID8gdW5kZWZpbmVkIDogdjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpO1xuXHRcdH0sXG5cblx0XHRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKSB7XG5cdFx0XHR2YXIgZGVzY3JpcHRvciA9IFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcCk7XG5cblx0XHRcdGlmIChkZXNjcmlwdG9yICYmICd2YWx1ZScgaW4gZGVzY3JpcHRvcikge1xuXHRcdFx0XHR2YXIgcyA9IHNvdXJjZXMuZ2V0KHByb3ApO1xuXHRcdFx0XHRpZiAocykgZGVzY3JpcHRvci52YWx1ZSA9IGdldChzKTtcblx0XHRcdH0gZWxzZSBpZiAoZGVzY3JpcHRvciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHZhciBzb3VyY2UgPSBzb3VyY2VzLmdldChwcm9wKTtcblx0XHRcdFx0dmFyIHZhbHVlID0gc291cmNlPy52O1xuXG5cdFx0XHRcdGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gVU5JTklUSUFMSVpFRCkge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0dmFsdWUsXG5cdFx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRlc2NyaXB0b3I7XG5cdFx0fSxcblxuXHRcdGhhcyh0YXJnZXQsIHByb3ApIHtcblx0XHRcdGlmIChwcm9wID09PSBTVEFURV9TWU1CT0wpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzID0gc291cmNlcy5nZXQocHJvcCk7XG5cdFx0XHR2YXIgaGFzID0gKHMgIT09IHVuZGVmaW5lZCAmJiBzLnYgIT09IFVOSU5JVElBTElaRUQpIHx8IFJlZmxlY3QuaGFzKHRhcmdldCwgcHJvcCk7XG5cblx0XHRcdGlmIChcblx0XHRcdFx0cyAhPT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdChhY3RpdmVfZWZmZWN0ICE9PSBudWxsICYmICghaGFzIHx8IGdldF9kZXNjcmlwdG9yKHRhcmdldCwgcHJvcCk/LndyaXRhYmxlKSlcblx0XHRcdCkge1xuXHRcdFx0XHRpZiAocyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cyA9IHdpdGhfcGFyZW50KCgpID0+IHtcblx0XHRcdFx0XHRcdHZhciBwID0gaGFzID8gcHJveHkodGFyZ2V0W3Byb3BdKSA6IFVOSU5JVElBTElaRUQ7XG5cdFx0XHRcdFx0XHR2YXIgcyA9IHNvdXJjZShwLCBzdGFjayk7XG5cblx0XHRcdFx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0XHRcdFx0dGFnKHMsIGdldF9sYWJlbChwYXRoLCBwcm9wKSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBzO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0c291cmNlcy5zZXQocHJvcCwgcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgdmFsdWUgPSBnZXQocyk7XG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gVU5JTklUSUFMSVpFRCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaGFzO1xuXHRcdH0sXG5cblx0XHRzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcblx0XHRcdHZhciBzID0gc291cmNlcy5nZXQocHJvcCk7XG5cdFx0XHR2YXIgaGFzID0gcHJvcCBpbiB0YXJnZXQ7XG5cblx0XHRcdC8vIHZhcmlhYmxlLmxlbmd0aCA9IHZhbHVlIC0+IGNsZWFyIGFsbCBzaWduYWxzIHdpdGggaW5kZXggPj0gdmFsdWVcblx0XHRcdGlmIChpc19wcm94aWVkX2FycmF5ICYmIHByb3AgPT09ICdsZW5ndGgnKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSB2YWx1ZTsgaSA8IC8qKiBAdHlwZSB7U291cmNlPG51bWJlcj59ICovIChzKS52OyBpICs9IDEpIHtcblx0XHRcdFx0XHR2YXIgb3RoZXJfcyA9IHNvdXJjZXMuZ2V0KGkgKyAnJyk7XG5cdFx0XHRcdFx0aWYgKG90aGVyX3MgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0c2V0KG90aGVyX3MsIFVOSU5JVElBTElaRUQpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaSBpbiB0YXJnZXQpIHtcblx0XHRcdFx0XHRcdC8vIElmIHRoZSBpdGVtIGV4aXN0cyBpbiB0aGUgb3JpZ2luYWwsIHdlIG5lZWQgdG8gY3JlYXRlIGEgdW5pbml0aWFsaXplZCBzb3VyY2UsXG5cdFx0XHRcdFx0XHQvLyBlbHNlIGEgbGF0ZXIgcmVhZCBvZiB0aGUgcHJvcGVydHkgd291bGQgcmVzdWx0IGluIGEgc291cmNlIGJlaW5nIGNyZWF0ZWQgd2l0aFxuXHRcdFx0XHRcdFx0Ly8gdGhlIHZhbHVlIG9mIHRoZSBvcmlnaW5hbCBpdGVtIGF0IHRoYXQgaW5kZXguXG5cdFx0XHRcdFx0XHRvdGhlcl9zID0gd2l0aF9wYXJlbnQoKCkgPT4gc291cmNlKFVOSU5JVElBTElaRUQsIHN0YWNrKSk7XG5cdFx0XHRcdFx0XHRzb3VyY2VzLnNldChpICsgJycsIG90aGVyX3MpO1xuXG5cdFx0XHRcdFx0XHRpZiAoREVWKSB7XG5cdFx0XHRcdFx0XHRcdHRhZyhvdGhlcl9zLCBnZXRfbGFiZWwocGF0aCwgaSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB3ZSBoYXZlbid0IHlldCBjcmVhdGVkIGEgc291cmNlIGZvciB0aGlzIHByb3BlcnR5LCB3ZSBuZWVkIHRvIGVuc3VyZVxuXHRcdFx0Ly8gd2UgZG8gc28gb3RoZXJ3aXNlIGlmIHdlIHJlYWQgaXQgbGF0ZXIsIHRoZW4gdGhlIHdyaXRlIHdvbid0IGJlIHRyYWNrZWQgYW5kXG5cdFx0XHQvLyB0aGUgaGV1cmlzdGljcyBvZiBlZmZlY3RzIHdpbGwgYmUgZGlmZmVyZW50IHZzIGlmIHdlIGhhZCByZWFkIHRoZSBwcm94aWVkXG5cdFx0XHQvLyBvYmplY3QgcHJvcGVydHkgYmVmb3JlIHdyaXRpbmcgdG8gdGhhdCBwcm9wZXJ0eS5cblx0XHRcdGlmIChzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aWYgKCFoYXMgfHwgZ2V0X2Rlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKT8ud3JpdGFibGUpIHtcblx0XHRcdFx0XHRzID0gd2l0aF9wYXJlbnQoKCkgPT4gc291cmNlKHVuZGVmaW5lZCwgc3RhY2spKTtcblx0XHRcdFx0XHRzZXQocywgcHJveHkodmFsdWUpKTtcblxuXHRcdFx0XHRcdHNvdXJjZXMuc2V0KHByb3AsIHMpO1xuXG5cdFx0XHRcdFx0aWYgKERFVikge1xuXHRcdFx0XHRcdFx0dGFnKHMsIGdldF9sYWJlbChwYXRoLCBwcm9wKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYXMgPSBzLnYgIT09IFVOSU5JVElBTElaRUQ7XG5cblx0XHRcdFx0dmFyIHAgPSB3aXRoX3BhcmVudCgoKSA9PiBwcm94eSh2YWx1ZSkpO1xuXHRcdFx0XHRzZXQocywgcCk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBkZXNjcmlwdG9yID0gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKTtcblxuXHRcdFx0Ly8gU2V0IHRoZSBuZXcgdmFsdWUgYmVmb3JlIHVwZGF0aW5nIGFueSBzaWduYWxzIHNvIHRoYXQgYW55IGxpc3RlbmVycyBnZXQgdGhlIG5ldyB2YWx1ZVxuXHRcdFx0aWYgKGRlc2NyaXB0b3I/LnNldCkge1xuXHRcdFx0XHRkZXNjcmlwdG9yLnNldC5jYWxsKHJlY2VpdmVyLCB2YWx1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghaGFzKSB7XG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgbXV0YXRlZCBhbiBhcnJheSBkaXJlY3RseSwgd2UgbWlnaHQgbmVlZCB0b1xuXHRcdFx0XHQvLyBzaWduYWwgdGhhdCBsZW5ndGggaGFzIGFsc28gY2hhbmdlZC4gRG8gaXQgYmVmb3JlIHVwZGF0aW5nIG1ldGFkYXRhXG5cdFx0XHRcdC8vIHRvIGVuc3VyZSB0aGF0IGl0ZXJhdGluZyBvdmVyIHRoZSBhcnJheSBhcyBhIHJlc3VsdCBvZiBhIG1ldGFkYXRhIHVwZGF0ZVxuXHRcdFx0XHQvLyB3aWxsIG5vdCBjYXVzZSB0aGUgbGVuZ3RoIHRvIGJlIG91dCBvZiBzeW5jLlxuXHRcdFx0XHRpZiAoaXNfcHJveGllZF9hcnJheSAmJiB0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHR2YXIgbHMgPSAvKiogQHR5cGUge1NvdXJjZTxudW1iZXI+fSAqLyAoc291cmNlcy5nZXQoJ2xlbmd0aCcpKTtcblx0XHRcdFx0XHR2YXIgbiA9IE51bWJlcihwcm9wKTtcblxuXHRcdFx0XHRcdGlmIChOdW1iZXIuaXNJbnRlZ2VyKG4pICYmIG4gPj0gbHMudikge1xuXHRcdFx0XHRcdFx0c2V0KGxzLCBuICsgMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aW5jcmVtZW50KHZlcnNpb24pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0b3duS2V5cyh0YXJnZXQpIHtcblx0XHRcdGdldCh2ZXJzaW9uKTtcblxuXHRcdFx0dmFyIG93bl9rZXlzID0gUmVmbGVjdC5vd25LZXlzKHRhcmdldCkuZmlsdGVyKChrZXkpID0+IHtcblx0XHRcdFx0dmFyIHNvdXJjZSA9IHNvdXJjZXMuZ2V0KGtleSk7XG5cdFx0XHRcdHJldHVybiBzb3VyY2UgPT09IHVuZGVmaW5lZCB8fCBzb3VyY2UudiAhPT0gVU5JTklUSUFMSVpFRDtcblx0XHRcdH0pO1xuXG5cdFx0XHRmb3IgKHZhciBba2V5LCBzb3VyY2VdIG9mIHNvdXJjZXMpIHtcblx0XHRcdFx0aWYgKHNvdXJjZS52ICE9PSBVTklOSVRJQUxJWkVEICYmICEoa2V5IGluIHRhcmdldCkpIHtcblx0XHRcdFx0XHRvd25fa2V5cy5wdXNoKGtleSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG93bl9rZXlzO1xuXHRcdH0sXG5cblx0XHRzZXRQcm90b3R5cGVPZigpIHtcblx0XHRcdGUuc3RhdGVfcHJvdG90eXBlX2ZpeGVkKCk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICogQHBhcmFtIHtzdHJpbmcgfCBzeW1ib2x9IHByb3BcbiAqL1xuZnVuY3Rpb24gZ2V0X2xhYmVsKHBhdGgsIHByb3ApIHtcblx0aWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykgcmV0dXJuIGAke3BhdGh9W1N5bWJvbCgke3Byb3AuZGVzY3JpcHRpb24gPz8gJyd9KV1gO1xuXHRpZiAocmVnZXhfaXNfdmFsaWRfaWRlbnRpZmllci50ZXN0KHByb3ApKSByZXR1cm4gYCR7cGF0aH0uJHtwcm9wfWA7XG5cdHJldHVybiAvXlxcZCskLy50ZXN0KHByb3ApID8gYCR7cGF0aH1bJHtwcm9wfV1gIDogYCR7cGF0aH1bJyR7cHJvcH0nXWA7XG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfcHJveGllZF92YWx1ZSh2YWx1ZSkge1xuXHR0cnkge1xuXHRcdGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIFNUQVRFX1NZTUJPTCBpbiB2YWx1ZSkge1xuXHRcdFx0cmV0dXJuIHZhbHVlW1NUQVRFX1NZTUJPTF07XG5cdFx0fVxuXHR9IGNhdGNoIHtcblx0XHQvLyB0aGUgYWJvdmUgaWYgY2hlY2sgY2FuIHRocm93IGFuIGVycm9yIGlmIHRoZSB2YWx1ZSBpbiBxdWVzdGlvblxuXHRcdC8vIGlzIHRoZSBjb250ZW50V2luZG93IG9mIGFuIGlmcmFtZSBvbiBhbm90aGVyIGRvbWFpbiwgaW4gd2hpY2hcblx0XHQvLyBjYXNlIHdlIHdhbnQgdG8ganVzdCByZXR1cm4gdGhlIHZhbHVlIChiZWNhdXNlIGl0J3MgZGVmaW5pdGVseVxuXHRcdC8vIG5vdCBhIHByb3hpZWQgdmFsdWUpIHNvIHdlIGRvbid0IGJyZWFrIGFueSBKYXZhU2NyaXB0IGludGVyYWN0aW5nXG5cdFx0Ly8gd2l0aCB0aGF0IGlmcmFtZSAoc3VjaCBhcyB2YXJpb3VzIHBheW1lbnQgY29tcGFuaWVzIGNsaWVudCBzaWRlXG5cdFx0Ly8gSmF2YVNjcmlwdCBsaWJyYXJpZXMgaW50ZXJhY3Rpbmcgd2l0aCB0aGVpciBpZnJhbWVzIG9uIHRoZSBzYW1lXG5cdFx0Ly8gZG9tYWluKVxuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBhXG4gKiBAcGFyYW0ge2FueX0gYlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXMoYSwgYikge1xuXHRyZXR1cm4gT2JqZWN0LmlzKGdldF9wcm94aWVkX3ZhbHVlKGEpLCBnZXRfcHJveGllZF92YWx1ZShiKSk7XG59XG5cbmNvbnN0IEFSUkFZX01VVEFUSU5HX01FVEhPRFMgPSBuZXcgU2V0KFtcblx0J2NvcHlXaXRoaW4nLFxuXHQnZmlsbCcsXG5cdCdwb3AnLFxuXHQncHVzaCcsXG5cdCdyZXZlcnNlJyxcblx0J3NoaWZ0Jyxcblx0J3NvcnQnLFxuXHQnc3BsaWNlJyxcblx0J3Vuc2hpZnQnXG5dKTtcblxuLyoqXG4gKiBXcmFwIGFycmF5IG11dGF0aW5nIG1ldGhvZHMgc28gJGluc3BlY3QgaXMgdHJpZ2dlcmVkIG9ubHkgb25jZSBhbmRcbiAqIHRvIHByZXZlbnQgbG9nZ2luZyBhbiBhcnJheSBpbiBpbnRlcm1lZGlhdGUgc3RhdGUgKGUuZy4gd2l0aCBhbiBlbXB0eSBzbG90KVxuICogQHBhcmFtIHthbnlbXX0gYXJyYXlcbiAqL1xuZnVuY3Rpb24gaW5zcGVjdGFibGVfYXJyYXkoYXJyYXkpIHtcblx0cmV0dXJuIG5ldyBQcm94eShhcnJheSwge1xuXHRcdGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG5cdFx0XHR2YXIgdmFsdWUgPSBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcblx0XHRcdGlmICghQVJSQVlfTVVUQVRJTkdfTUVUSE9EUy5oYXMoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwcm9wKSkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvKipcblx0XHRcdCAqIEB0aGlzIHthbnlbXX1cblx0XHRcdCAqIEBwYXJhbSB7YW55W119IGFyZ3Ncblx0XHRcdCAqL1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG5cdFx0XHRcdHNldF9pbnNwZWN0X2VmZmVjdHNfZGVmZXJyZWQoKTtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHRcdFx0XHRmbHVzaF9pbnNwZWN0X2VmZmVjdHMoKTtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdH07XG5cdFx0fVxuXHR9KTtcbn1cbiIsIi8qKiBAaW1wb3J0IHsgRWZmZWN0LCBUZW1wbGF0ZU5vZGUgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgaHlkcmF0ZV9ub2RlLCBoeWRyYXRpbmcsIHNldF9oeWRyYXRlX25vZGUgfSBmcm9tICcuL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7IGluaXRfYXJyYXlfcHJvdG90eXBlX3dhcm5pbmdzIH0gZnJvbSAnLi4vZGV2L2VxdWFsaXR5LmpzJztcbmltcG9ydCB7IGdldF9kZXNjcmlwdG9yLCBpc19leHRlbnNpYmxlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IGFjdGl2ZV9lZmZlY3QgfSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGFzeW5jX21vZGVfZmxhZyB9IGZyb20gJy4uLy4uL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IFRFWFRfTk9ERSwgRUZGRUNUX1JBTiB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcblxuLy8gZXhwb3J0IHRoZXNlIGZvciByZWZlcmVuY2UgaW4gdGhlIGNvbXBpbGVkIGNvZGUsIG1ha2luZyBnbG9iYWwgbmFtZSBkZWR1cGxpY2F0aW9uIHVubmVjZXNzYXJ5XG4vKiogQHR5cGUge1dpbmRvd30gKi9cbmV4cG9ydCB2YXIgJHdpbmRvdztcblxuLyoqIEB0eXBlIHtEb2N1bWVudH0gKi9cbmV4cG9ydCB2YXIgJGRvY3VtZW50O1xuXG4vKiogQHR5cGUge2Jvb2xlYW59ICovXG5leHBvcnQgdmFyIGlzX2ZpcmVmb3g7XG5cbi8qKiBAdHlwZSB7KCkgPT4gTm9kZSB8IG51bGx9ICovXG52YXIgZmlyc3RfY2hpbGRfZ2V0dGVyO1xuLyoqIEB0eXBlIHsoKSA9PiBOb2RlIHwgbnVsbH0gKi9cbnZhciBuZXh0X3NpYmxpbmdfZ2V0dGVyO1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlc2UgbGF6aWx5IHRvIGF2b2lkIGlzc3VlcyB3aGVuIHVzaW5nIHRoZSBydW50aW1lIGluIGEgc2VydmVyIGNvbnRleHRcbiAqIHdoZXJlIHRoZXNlIGdsb2JhbHMgYXJlIG5vdCBhdmFpbGFibGUgd2hpbGUgYXZvaWRpbmcgYSBzZXBhcmF0ZSBzZXJ2ZXIgZW50cnkgcG9pbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfb3BlcmF0aW9ucygpIHtcblx0aWYgKCR3aW5kb3cgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdCR3aW5kb3cgPSB3aW5kb3c7XG5cdCRkb2N1bWVudCA9IGRvY3VtZW50O1xuXHRpc19maXJlZm94ID0gL0ZpcmVmb3gvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cblx0dmFyIGVsZW1lbnRfcHJvdG90eXBlID0gRWxlbWVudC5wcm90b3R5cGU7XG5cdHZhciBub2RlX3Byb3RvdHlwZSA9IE5vZGUucHJvdG90eXBlO1xuXHR2YXIgdGV4dF9wcm90b3R5cGUgPSBUZXh0LnByb3RvdHlwZTtcblxuXHQvLyBAdHMtaWdub3JlXG5cdGZpcnN0X2NoaWxkX2dldHRlciA9IGdldF9kZXNjcmlwdG9yKG5vZGVfcHJvdG90eXBlLCAnZmlyc3RDaGlsZCcpLmdldDtcblx0Ly8gQHRzLWlnbm9yZVxuXHRuZXh0X3NpYmxpbmdfZ2V0dGVyID0gZ2V0X2Rlc2NyaXB0b3Iobm9kZV9wcm90b3R5cGUsICduZXh0U2libGluZycpLmdldDtcblxuXHRpZiAoaXNfZXh0ZW5zaWJsZShlbGVtZW50X3Byb3RvdHlwZSkpIHtcblx0XHQvLyB0aGUgZm9sbG93aW5nIGFzc2lnbm1lbnRzIGltcHJvdmUgcGVyZiBvZiBsb29rdXBzIG9uIERPTSBub2Rlc1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50X3Byb3RvdHlwZS5fX2NsaWNrID0gdW5kZWZpbmVkO1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50X3Byb3RvdHlwZS5fX2NsYXNzTmFtZSA9IHVuZGVmaW5lZDtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudF9wcm90b3R5cGUuX19hdHRyaWJ1dGVzID0gbnVsbDtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudF9wcm90b3R5cGUuX19zdHlsZSA9IHVuZGVmaW5lZDtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudF9wcm90b3R5cGUuX19lID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0aWYgKGlzX2V4dGVuc2libGUodGV4dF9wcm90b3R5cGUpKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdHRleHRfcHJvdG90eXBlLl9fdCA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudF9wcm90b3R5cGUuX19zdmVsdGVfbWV0YSA9IG51bGw7XG5cblx0XHRpbml0X2FycmF5X3Byb3RvdHlwZV93YXJuaW5ncygpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJucyB7VGV4dH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV90ZXh0KHZhbHVlID0gJycpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge05vZGV9IE5cbiAqIEBwYXJhbSB7Tn0gbm9kZVxuICogQHJldHVybnMge05vZGUgfCBudWxsfVxuICovXG4vKkBfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfZmlyc3RfY2hpbGQobm9kZSkge1xuXHRyZXR1cm4gZmlyc3RfY2hpbGRfZ2V0dGVyLmNhbGwobm9kZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtOb2RlfSBOXG4gKiBAcGFyYW0ge059IG5vZGVcbiAqIEByZXR1cm5zIHtOb2RlIHwgbnVsbH1cbiAqL1xuLypAX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X25leHRfc2libGluZyhub2RlKSB7XG5cdHJldHVybiBuZXh0X3NpYmxpbmdfZ2V0dGVyLmNhbGwobm9kZSk7XG59XG5cbi8qKlxuICogRG9uJ3QgbWFyayB0aGlzIGFzIHNpZGUtZWZmZWN0LWZyZWUsIGh5ZHJhdGlvbiBuZWVkcyB0byB3YWxrIGFsbCBub2Rlc1xuICogQHRlbXBsYXRlIHtOb2RlfSBOXG4gKiBAcGFyYW0ge059IG5vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNfdGV4dFxuICogQHJldHVybnMge05vZGUgfCBudWxsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hpbGQobm9kZSwgaXNfdGV4dCkge1xuXHRpZiAoIWh5ZHJhdGluZykge1xuXHRcdHJldHVybiBnZXRfZmlyc3RfY2hpbGQobm9kZSk7XG5cdH1cblxuXHR2YXIgY2hpbGQgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9maXJzdF9jaGlsZChoeWRyYXRlX25vZGUpKTtcblxuXHQvLyBDaGlsZCBjYW4gYmUgbnVsbCBpZiB3ZSBoYXZlIGFuIGVsZW1lbnQgd2l0aCBhIHNpbmdsZSBjaGlsZCwgbGlrZSBgPHA+e3RleHR9PC9wPmAsIHdoZXJlIGB0ZXh0YCBpcyBlbXB0eVxuXHRpZiAoY2hpbGQgPT09IG51bGwpIHtcblx0XHRjaGlsZCA9IGh5ZHJhdGVfbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVfdGV4dCgpKTtcblx0fSBlbHNlIGlmIChpc190ZXh0ICYmIGNoaWxkLm5vZGVUeXBlICE9PSBURVhUX05PREUpIHtcblx0XHR2YXIgdGV4dCA9IGNyZWF0ZV90ZXh0KCk7XG5cdFx0Y2hpbGQ/LmJlZm9yZSh0ZXh0KTtcblx0XHRzZXRfaHlkcmF0ZV9ub2RlKHRleHQpO1xuXHRcdHJldHVybiB0ZXh0O1xuXHR9XG5cblx0c2V0X2h5ZHJhdGVfbm9kZShjaGlsZCk7XG5cdHJldHVybiBjaGlsZDtcbn1cblxuLyoqXG4gKiBEb24ndCBtYXJrIHRoaXMgYXMgc2lkZS1lZmZlY3QtZnJlZSwgaHlkcmF0aW9uIG5lZWRzIHRvIHdhbGsgYWxsIG5vZGVzXG4gKiBAcGFyYW0ge0RvY3VtZW50RnJhZ21lbnQgfCBUZW1wbGF0ZU5vZGVbXX0gZnJhZ21lbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNfdGV4dFxuICogQHJldHVybnMge05vZGUgfCBudWxsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlyc3RfY2hpbGQoZnJhZ21lbnQsIGlzX3RleHQpIHtcblx0aWYgKCFoeWRyYXRpbmcpIHtcblx0XHQvLyB3aGVuIG5vdCBoeWRyYXRpbmcsIGBmcmFnbWVudGAgaXMgYSBgRG9jdW1lbnRGcmFnbWVudGAgKHRoZSByZXN1bHQgb2YgY2FsbGluZyBgb3Blbl9mcmFnYClcblx0XHR2YXIgZmlyc3QgPSAvKiogQHR5cGUge0RvY3VtZW50RnJhZ21lbnR9ICovIChnZXRfZmlyc3RfY2hpbGQoLyoqIEB0eXBlIHtOb2RlfSAqLyAoZnJhZ21lbnQpKSk7XG5cblx0XHQvLyBUT0RPIHByZXZlbnQgdXNlciBjb21tZW50cyB3aXRoIHRoZSBlbXB0eSBzdHJpbmcgd2hlbiBwcmVzZXJ2ZUNvbW1lbnRzIGlzIHRydWVcblx0XHRpZiAoZmlyc3QgaW5zdGFuY2VvZiBDb21tZW50ICYmIGZpcnN0LmRhdGEgPT09ICcnKSByZXR1cm4gZ2V0X25leHRfc2libGluZyhmaXJzdCk7XG5cblx0XHRyZXR1cm4gZmlyc3Q7XG5cdH1cblxuXHQvLyBpZiBhbiB7ZXhwcmVzc2lvbn0gaXMgZW1wdHkgZHVyaW5nIFNTUiwgdGhlcmUgbWlnaHQgYmUgbm9cblx0Ly8gdGV4dCBub2RlIHRvIGh5ZHJhdGUg4oCUIHdlIG11c3QgdGhlcmVmb3JlIGNyZWF0ZSBvbmVcblx0aWYgKGlzX3RleHQgJiYgaHlkcmF0ZV9ub2RlPy5ub2RlVHlwZSAhPT0gVEVYVF9OT0RFKSB7XG5cdFx0dmFyIHRleHQgPSBjcmVhdGVfdGV4dCgpO1xuXG5cdFx0aHlkcmF0ZV9ub2RlPy5iZWZvcmUodGV4dCk7XG5cdFx0c2V0X2h5ZHJhdGVfbm9kZSh0ZXh0KTtcblx0XHRyZXR1cm4gdGV4dDtcblx0fVxuXG5cdHJldHVybiBoeWRyYXRlX25vZGU7XG59XG5cbi8qKlxuICogRG9uJ3QgbWFyayB0aGlzIGFzIHNpZGUtZWZmZWN0LWZyZWUsIGh5ZHJhdGlvbiBuZWVkcyB0byB3YWxrIGFsbCBub2Rlc1xuICogQHBhcmFtIHtUZW1wbGF0ZU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudFxuICogQHBhcmFtIHtib29sZWFufSBpc190ZXh0XG4gKiBAcmV0dXJucyB7Tm9kZSB8IG51bGx9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaWJsaW5nKG5vZGUsIGNvdW50ID0gMSwgaXNfdGV4dCA9IGZhbHNlKSB7XG5cdGxldCBuZXh0X3NpYmxpbmcgPSBoeWRyYXRpbmcgPyBoeWRyYXRlX25vZGUgOiBub2RlO1xuXHR2YXIgbGFzdF9zaWJsaW5nO1xuXG5cdHdoaWxlIChjb3VudC0tKSB7XG5cdFx0bGFzdF9zaWJsaW5nID0gbmV4dF9zaWJsaW5nO1xuXHRcdG5leHRfc2libGluZyA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X25leHRfc2libGluZyhuZXh0X3NpYmxpbmcpKTtcblx0fVxuXG5cdGlmICghaHlkcmF0aW5nKSB7XG5cdFx0cmV0dXJuIG5leHRfc2libGluZztcblx0fVxuXG5cdC8vIGlmIGEgc2libGluZyB7ZXhwcmVzc2lvbn0gaXMgZW1wdHkgZHVyaW5nIFNTUiwgdGhlcmUgbWlnaHQgYmUgbm9cblx0Ly8gdGV4dCBub2RlIHRvIGh5ZHJhdGUg4oCUIHdlIG11c3QgdGhlcmVmb3JlIGNyZWF0ZSBvbmVcblx0aWYgKGlzX3RleHQgJiYgbmV4dF9zaWJsaW5nPy5ub2RlVHlwZSAhPT0gVEVYVF9OT0RFKSB7XG5cdFx0dmFyIHRleHQgPSBjcmVhdGVfdGV4dCgpO1xuXHRcdC8vIElmIHRoZSBuZXh0IHNpYmxpbmcgaXMgYG51bGxgIGFuZCB3ZSdyZSBoYW5kbGluZyB0ZXh0IHRoZW4gaXQncyBiZWNhdXNlXG5cdFx0Ly8gdGhlIFNTUiBjb250ZW50IHdhcyBlbXB0eSBmb3IgdGhlIHRleHQsIHNvIHdlIG5lZWQgdG8gZ2VuZXJhdGUgYSBuZXcgdGV4dFxuXHRcdC8vIG5vZGUgYW5kIGluc2VydCBpdCBhZnRlciB0aGUgbGFzdCBzaWJsaW5nXG5cdFx0aWYgKG5leHRfc2libGluZyA9PT0gbnVsbCkge1xuXHRcdFx0bGFzdF9zaWJsaW5nPy5hZnRlcih0ZXh0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV4dF9zaWJsaW5nLmJlZm9yZSh0ZXh0KTtcblx0XHR9XG5cdFx0c2V0X2h5ZHJhdGVfbm9kZSh0ZXh0KTtcblx0XHRyZXR1cm4gdGV4dDtcblx0fVxuXG5cdHNldF9oeWRyYXRlX25vZGUobmV4dF9zaWJsaW5nKTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAobmV4dF9zaWJsaW5nKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge05vZGV9IE5cbiAqIEBwYXJhbSB7Tn0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcl90ZXh0X2NvbnRlbnQobm9kZSkge1xuXHRub2RlLnRleHRDb250ZW50ID0gJyc7XG59XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgd2UncmUgdXBkYXRpbmcgdGhlIGN1cnJlbnQgYmxvY2ssIGZvciBleGFtcGxlIGBjb25kaXRpb25gIGluXG4gKiBhbiBgeyNpZiBjb25kaXRpb259YCBibG9jayBqdXN0IGNoYW5nZWQuIEluIHRoaXMgY2FzZSwgdGhlIGJyYW5jaCBzaG91bGQgYmVcbiAqIGFwcGVuZGVkIChvciByZW1vdmVkKSBhdCB0aGUgc2FtZSB0aW1lIGFzIG90aGVyIHVwZGF0ZXMgd2l0aGluIHRoZVxuICogY3VycmVudCBgPHN2ZWx0ZTpib3VuZGFyeT5gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRfZGVmZXJfYXBwZW5kKCkge1xuXHRpZiAoIWFzeW5jX21vZGVfZmxhZykgcmV0dXJuIGZhbHNlO1xuXG5cdHZhciBmbGFncyA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCkuZjtcblx0cmV0dXJuIChmbGFncyAmIEVGRkVDVF9SQU4pICE9PSAwO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWVzcGFjZV1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbaXNdXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2VsZW1lbnQodGFnLCBuYW1lc3BhY2UsIGlzKSB7XG5cdGxldCBvcHRpb25zID0gaXMgPyB7IGlzIH0gOiB1bmRlZmluZWQ7XG5cdGlmIChuYW1lc3BhY2UpIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZSwgdGFnLCBvcHRpb25zKTtcblx0fVxuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcsIG9wdGlvbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KCkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2NvbW1lbnQoZGF0YSA9ICcnKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGRhdGEpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZShlbGVtZW50LCBrZXksIHZhbHVlID0gJycpIHtcblx0aWYgKGtleS5zdGFydHNXaXRoKCd4bGluazonKSkge1xuXHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBrZXksIHZhbHVlKTtcblx0XHRyZXR1cm47XG5cdH1cblx0cmV0dXJuIGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xufVxuIiwiLyoqIEBpbXBvcnQgeyBEZXJpdmVkLCBFZmZlY3QgfSBmcm9tICcjY2xpZW50JyAqL1xuLyoqIEBpbXBvcnQgeyBCb3VuZGFyeSB9IGZyb20gJy4vZG9tL2Jsb2Nrcy9ib3VuZGFyeS5qcycgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgRklMRU5BTUUgfSBmcm9tICcuLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgaXNfZmlyZWZveCB9IGZyb20gJy4vZG9tL29wZXJhdGlvbnMuanMnO1xuaW1wb3J0IHsgRVJST1JfVkFMVUUsIEJPVU5EQVJZX0VGRkVDVCwgRUZGRUNUX1JBTiB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGRlZmluZV9wcm9wZXJ0eSwgZ2V0X2Rlc2NyaXB0b3IgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgYWN0aXZlX2VmZmVjdCwgYWN0aXZlX3JlYWN0aW9uIH0gZnJvbSAnLi9ydW50aW1lLmpzJztcblxuY29uc3QgYWRqdXN0bWVudHMgPSBuZXcgV2Vha01hcCgpO1xuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZV9lcnJvcihlcnJvcikge1xuXHR2YXIgZWZmZWN0ID0gYWN0aXZlX2VmZmVjdDtcblxuXHQvLyBmb3IgdW5vd25lZCBkZXJpdmVkcywgZG9uJ3QgdGhyb3cgdW50aWwgd2UgcmVhZCB0aGUgdmFsdWVcblx0aWYgKGVmZmVjdCA9PT0gbnVsbCkge1xuXHRcdC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGFjdGl2ZV9yZWFjdGlvbikuZiB8PSBFUlJPUl9WQUxVRTtcblx0XHRyZXR1cm4gZXJyb3I7XG5cdH1cblxuXHRpZiAoREVWICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIWFkanVzdG1lbnRzLmhhcyhlcnJvcikpIHtcblx0XHRhZGp1c3RtZW50cy5zZXQoZXJyb3IsIGdldF9hZGp1c3RtZW50cyhlcnJvciwgZWZmZWN0KSk7XG5cdH1cblxuXHRpZiAoKGVmZmVjdC5mICYgRUZGRUNUX1JBTikgPT09IDApIHtcblx0XHQvLyBpZiB0aGUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgY3JlYXRpbmcgdGhpcyBzdWJ0cmVlLCB3ZSBsZXQgaXRcblx0XHQvLyBidWJibGUgdXAgdW50aWwgaXQgaGl0cyBhIGJvdW5kYXJ5IHRoYXQgY2FuIGhhbmRsZSBpdFxuXHRcdGlmICgoZWZmZWN0LmYgJiBCT1VOREFSWV9FRkZFQ1QpID09PSAwKSB7XG5cdFx0XHRpZiAoIWVmZmVjdC5wYXJlbnQgJiYgZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0XHRhcHBseV9hZGp1c3RtZW50cyhlcnJvcik7XG5cdFx0XHR9XG5cblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdC8qKiBAdHlwZSB7Qm91bmRhcnl9ICovIChlZmZlY3QuYikuZXJyb3IoZXJyb3IpO1xuXHR9IGVsc2Uge1xuXHRcdC8vIG90aGVyd2lzZSB3ZSBidWJibGUgdXAgdGhlIGVmZmVjdCB0cmVlIG91cnNlbHZlc1xuXHRcdGludm9rZV9lcnJvcl9ib3VuZGFyeShlcnJvciwgZWZmZWN0KTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3JcbiAqIEBwYXJhbSB7RWZmZWN0IHwgbnVsbH0gZWZmZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZva2VfZXJyb3JfYm91bmRhcnkoZXJyb3IsIGVmZmVjdCkge1xuXHR3aGlsZSAoZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0aWYgKChlZmZlY3QuZiAmIEJPVU5EQVJZX0VGRkVDVCkgIT09IDApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8qKiBAdHlwZSB7Qm91bmRhcnl9ICovIChlZmZlY3QuYikuZXJyb3IoZXJyb3IpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9IGNhdGNoIHt9XG5cdFx0fVxuXG5cdFx0ZWZmZWN0ID0gZWZmZWN0LnBhcmVudDtcblx0fVxuXG5cdGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0YXBwbHlfYWRqdXN0bWVudHMoZXJyb3IpO1xuXHR9XG5cblx0dGhyb3cgZXJyb3I7XG59XG5cbi8qKlxuICogQWRkIHVzZWZ1bCBpbmZvcm1hdGlvbiB0byB0aGUgZXJyb3IgbWVzc2FnZS9zdGFjayBpbiBkZXZlbG9wbWVudFxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3JcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqL1xuZnVuY3Rpb24gZ2V0X2FkanVzdG1lbnRzKGVycm9yLCBlZmZlY3QpIHtcblx0Y29uc3QgbWVzc2FnZV9kZXNjcmlwdG9yID0gZ2V0X2Rlc2NyaXB0b3IoZXJyb3IsICdtZXNzYWdlJyk7XG5cblx0Ly8gaWYgdGhlIG1lc3NhZ2Ugd2FzIGFscmVhZHkgY2hhbmdlZCBhbmQgaXQncyBub3QgY29uZmlndXJhYmxlIHdlIGNhbid0IGNoYW5nZSBpdFxuXHQvLyBvciBpdCB3aWxsIHRocm93IGEgZGlmZmVyZW50IGVycm9yIHN3YWxsb3dpbmcgdGhlIG9yaWdpbmFsIGVycm9yXG5cdGlmIChtZXNzYWdlX2Rlc2NyaXB0b3IgJiYgIW1lc3NhZ2VfZGVzY3JpcHRvci5jb25maWd1cmFibGUpIHJldHVybjtcblxuXHR2YXIgaW5kZW50ID0gaXNfZmlyZWZveCA/ICcgICcgOiAnXFx0Jztcblx0dmFyIGNvbXBvbmVudF9zdGFjayA9IGBcXG4ke2luZGVudH1pbiAke2VmZmVjdC5mbj8ubmFtZSB8fCAnPHVua25vd24+J31gO1xuXHR2YXIgY29udGV4dCA9IGVmZmVjdC5jdHg7XG5cblx0d2hpbGUgKGNvbnRleHQgIT09IG51bGwpIHtcblx0XHRjb21wb25lbnRfc3RhY2sgKz0gYFxcbiR7aW5kZW50fWluICR7Y29udGV4dC5mdW5jdGlvbj8uW0ZJTEVOQU1FXS5zcGxpdCgnLycpLnBvcCgpfWA7XG5cdFx0Y29udGV4dCA9IGNvbnRleHQucDtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0bWVzc2FnZTogZXJyb3IubWVzc2FnZSArIGBcXG4ke2NvbXBvbmVudF9zdGFja31cXG5gLFxuXHRcdHN0YWNrOiBlcnJvci5zdGFja1xuXHRcdFx0Py5zcGxpdCgnXFxuJylcblx0XHRcdC5maWx0ZXIoKGxpbmUpID0+ICFsaW5lLmluY2x1ZGVzKCdzdmVsdGUvc3JjL2ludGVybmFsJykpXG5cdFx0XHQuam9pbignXFxuJylcblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJvclxuICovXG5mdW5jdGlvbiBhcHBseV9hZGp1c3RtZW50cyhlcnJvcikge1xuXHRjb25zdCBhZGp1c3RlZCA9IGFkanVzdG1lbnRzLmdldChlcnJvcik7XG5cblx0aWYgKGFkanVzdGVkKSB7XG5cdFx0ZGVmaW5lX3Byb3BlcnR5KGVycm9yLCAnbWVzc2FnZScsIHtcblx0XHRcdHZhbHVlOiBhZGp1c3RlZC5tZXNzYWdlXG5cdFx0fSk7XG5cblx0XHRkZWZpbmVfcHJvcGVydHkoZXJyb3IsICdzdGFjaycsIHtcblx0XHRcdHZhbHVlOiBhZGp1c3RlZC5zdGFja1xuXHRcdH0pO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBydW5fYWxsIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcblxuLy8gRmFsbGJhY2sgZm9yIHdoZW4gcmVxdWVzdElkbGVDYWxsYmFjayBpcyBub3QgYXZhaWxhYmxlXG5jb25zdCByZXF1ZXN0X2lkbGVfY2FsbGJhY2sgPVxuXHR0eXBlb2YgcmVxdWVzdElkbGVDYWxsYmFjayA9PT0gJ3VuZGVmaW5lZCdcblx0XHQ/ICgvKiogQHR5cGUgeygpID0+IHZvaWR9ICovIGNiKSA9PiBzZXRUaW1lb3V0KGNiLCAxKVxuXHRcdDogcmVxdWVzdElkbGVDYWxsYmFjaztcblxuLyoqIEB0eXBlIHtBcnJheTwoKSA9PiB2b2lkPn0gKi9cbmxldCBtaWNyb190YXNrcyA9IFtdO1xuXG4vKiogQHR5cGUge0FycmF5PCgpID0+IHZvaWQ+fSAqL1xubGV0IGlkbGVfdGFza3MgPSBbXTtcblxuZnVuY3Rpb24gcnVuX21pY3JvX3Rhc2tzKCkge1xuXHR2YXIgdGFza3MgPSBtaWNyb190YXNrcztcblx0bWljcm9fdGFza3MgPSBbXTtcblx0cnVuX2FsbCh0YXNrcyk7XG59XG5cbmZ1bmN0aW9uIHJ1bl9pZGxlX3Rhc2tzKCkge1xuXHR2YXIgdGFza3MgPSBpZGxlX3Rhc2tzO1xuXHRpZGxlX3Rhc2tzID0gW107XG5cdHJ1bl9hbGwodGFza3MpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXVlX21pY3JvX3Rhc2soZm4pIHtcblx0aWYgKG1pY3JvX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHF1ZXVlTWljcm90YXNrKHJ1bl9taWNyb190YXNrcyk7XG5cdH1cblxuXHRtaWNyb190YXNrcy5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZV9pZGxlX3Rhc2soZm4pIHtcblx0aWYgKGlkbGVfdGFza3MubGVuZ3RoID09PSAwKSB7XG5cdFx0cmVxdWVzdF9pZGxlX2NhbGxiYWNrKHJ1bl9pZGxlX3Rhc2tzKTtcblx0fVxuXG5cdGlkbGVfdGFza3MucHVzaChmbik7XG59XG5cbi8qKlxuICogU3luY2hyb25vdXNseSBydW4gYW55IHF1ZXVlZCB0YXNrcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoX3Rhc2tzKCkge1xuXHRpZiAobWljcm9fdGFza3MubGVuZ3RoID4gMCkge1xuXHRcdHJ1bl9taWNyb190YXNrcygpO1xuXHR9XG5cblx0aWYgKGlkbGVfdGFza3MubGVuZ3RoID4gMCkge1xuXHRcdHJ1bl9pZGxlX3Rhc2tzKCk7XG5cdH1cbn1cbiIsIi8qKiBAaW1wb3J0IHsgRWZmZWN0LCBTb3VyY2UsIFRlbXBsYXRlTm9kZSwgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgQk9VTkRBUllfRUZGRUNULCBFRkZFQ1RfUFJFU0VSVkVELCBFRkZFQ1RfVFJBTlNQQVJFTlQgfSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjb21wb25lbnRfY29udGV4dCwgc2V0X2NvbXBvbmVudF9jb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBpbnZva2VfZXJyb3JfYm91bmRhcnkgfSBmcm9tICcuLi8uLi9lcnJvci1oYW5kbGluZy5qcyc7XG5pbXBvcnQgeyBibG9jaywgYnJhbmNoLCBkZXN0cm95X2VmZmVjdCwgcGF1c2VfZWZmZWN0IH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7XG5cdGFjdGl2ZV9lZmZlY3QsXG5cdGFjdGl2ZV9yZWFjdGlvbixcblx0Z2V0LFxuXHRzZXRfYWN0aXZlX2VmZmVjdCxcblx0c2V0X2FjdGl2ZV9yZWFjdGlvblxufSBmcm9tICcuLi8uLi9ydW50aW1lLmpzJztcbmltcG9ydCB7XG5cdGh5ZHJhdGVfbmV4dCxcblx0aHlkcmF0ZV9ub2RlLFxuXHRoeWRyYXRpbmcsXG5cdG5leHQsXG5cdHJlbW92ZV9ub2Rlcyxcblx0c2V0X2h5ZHJhdGVfbm9kZVxufSBmcm9tICcuLi9oeWRyYXRpb24uanMnO1xuaW1wb3J0IHsgZ2V0X25leHRfc2libGluZyB9IGZyb20gJy4uL29wZXJhdGlvbnMuanMnO1xuaW1wb3J0IHsgcXVldWVfbWljcm9fdGFzayB9IGZyb20gJy4uL3Rhc2suanMnO1xuaW1wb3J0ICogYXMgZSBmcm9tICcuLi8uLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBCYXRjaCwgZWZmZWN0X3BlbmRpbmdfdXBkYXRlcyB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvYmF0Y2guanMnO1xuaW1wb3J0IHsgaW50ZXJuYWxfc2V0LCBzb3VyY2UgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L3NvdXJjZXMuanMnO1xuaW1wb3J0IHsgdGFnIH0gZnJvbSAnLi4vLi4vZGV2L3RyYWNpbmcuanMnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaWJlciB9IGZyb20gJy4uLy4uLy4uLy4uL3JlYWN0aXZpdHkvY3JlYXRlLXN1YnNjcmliZXIuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiBcdCBvbmVycm9yPzogKGVycm9yOiB1bmtub3duLCByZXNldDogKCkgPT4gdm9pZCkgPT4gdm9pZDtcbiAqICAgZmFpbGVkPzogKGFuY2hvcjogTm9kZSwgZXJyb3I6ICgpID0+IHVua25vd24sIHJlc2V0OiAoKSA9PiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xuICogICBwZW5kaW5nPzogKGFuY2hvcjogTm9kZSkgPT4gdm9pZDtcbiAqIH19IEJvdW5kYXJ5UHJvcHNcbiAqL1xuXG52YXIgZmxhZ3MgPSBFRkZFQ1RfVFJBTlNQQVJFTlQgfCBFRkZFQ1RfUFJFU0VSVkVEIHwgQk9VTkRBUllfRUZGRUNUO1xuXG4vKipcbiAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBub2RlXG4gKiBAcGFyYW0ge0JvdW5kYXJ5UHJvcHN9IHByb3BzXG4gKiBAcGFyYW0geygoYW5jaG9yOiBOb2RlKSA9PiB2b2lkKX0gY2hpbGRyZW5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYm91bmRhcnkobm9kZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG5cdG5ldyBCb3VuZGFyeShub2RlLCBwcm9wcywgY2hpbGRyZW4pO1xufVxuXG5leHBvcnQgY2xhc3MgQm91bmRhcnkge1xuXHRwZW5kaW5nID0gZmFsc2U7XG5cblx0LyoqIEB0eXBlIHtCb3VuZGFyeSB8IG51bGx9ICovXG5cdHBhcmVudDtcblxuXHQvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi9cblx0I2FuY2hvcjtcblxuXHQvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi9cblx0I2h5ZHJhdGVfb3BlbjtcblxuXHQvKiogQHR5cGUge0JvdW5kYXJ5UHJvcHN9ICovXG5cdCNwcm9wcztcblxuXHQvKiogQHR5cGUgeygoYW5jaG9yOiBOb2RlKSA9PiB2b2lkKX0gKi9cblx0I2NoaWxkcmVuO1xuXG5cdC8qKiBAdHlwZSB7RWZmZWN0fSAqL1xuXHQjZWZmZWN0O1xuXG5cdC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cblx0I21haW5fZWZmZWN0ID0gbnVsbDtcblxuXHQvKiogQHR5cGUge0VmZmVjdCB8IG51bGx9ICovXG5cdCNwZW5kaW5nX2VmZmVjdCA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtFZmZlY3QgfCBudWxsfSAqL1xuXHQjZmFpbGVkX2VmZmVjdCA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtEb2N1bWVudEZyYWdtZW50IHwgbnVsbH0gKi9cblx0I29mZnNjcmVlbl9mcmFnbWVudCA9IG51bGw7XG5cblx0I3BlbmRpbmdfY291bnQgPSAwO1xuXHQjaXNfY3JlYXRpbmdfZmFsbGJhY2sgPSBmYWxzZTtcblxuXHQvKipcblx0ICogQSBzb3VyY2UgY29udGFpbmluZyB0aGUgbnVtYmVyIG9mIHBlbmRpbmcgYXN5bmMgZGVyaXZlZHMvZXhwcmVzc2lvbnMuXG5cdCAqIE9ubHkgY3JlYXRlZCBpZiBgJGVmZmVjdC5wZW5kaW5nKClgIGlzIHVzZWQgaW5zaWRlIHRoZSBib3VuZGFyeSxcblx0ICogb3RoZXJ3aXNlIHVwZGF0aW5nIHRoZSBzb3VyY2UgcmVzdWx0cyBpbiBuZWVkbGVzcyBgQmF0Y2guZW5zdXJlKClgXG5cdCAqIGNhbGxzIGZvbGxvd2VkIGJ5IG5vLW9wIGZsdXNoZXNcblx0ICogQHR5cGUge1NvdXJjZTxudW1iZXI+IHwgbnVsbH1cblx0ICovXG5cdCNlZmZlY3RfcGVuZGluZyA9IG51bGw7XG5cblx0I2VmZmVjdF9wZW5kaW5nX3VwZGF0ZSA9ICgpID0+IHtcblx0XHRpZiAodGhpcy4jZWZmZWN0X3BlbmRpbmcpIHtcblx0XHRcdGludGVybmFsX3NldCh0aGlzLiNlZmZlY3RfcGVuZGluZywgdGhpcy4jcGVuZGluZ19jb3VudCk7XG5cdFx0fVxuXHR9O1xuXG5cdCNlZmZlY3RfcGVuZGluZ19zdWJzY3JpYmVyID0gY3JlYXRlU3Vic2NyaWJlcigoKSA9PiB7XG5cdFx0dGhpcy4jZWZmZWN0X3BlbmRpbmcgPSBzb3VyY2UodGhpcy4jcGVuZGluZ19jb3VudCk7XG5cblx0XHRpZiAoREVWKSB7XG5cdFx0XHR0YWcodGhpcy4jZWZmZWN0X3BlbmRpbmcsICckZWZmZWN0LnBlbmRpbmcoKScpO1xuXHRcdH1cblxuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHR0aGlzLiNlZmZlY3RfcGVuZGluZyA9IG51bGw7XG5cdFx0fTtcblx0fSk7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBub2RlXG5cdCAqIEBwYXJhbSB7Qm91bmRhcnlQcm9wc30gcHJvcHNcblx0ICogQHBhcmFtIHsoKGFuY2hvcjogTm9kZSkgPT4gdm9pZCl9IGNoaWxkcmVuXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcihub2RlLCBwcm9wcywgY2hpbGRyZW4pIHtcblx0XHR0aGlzLiNhbmNob3IgPSBub2RlO1xuXHRcdHRoaXMuI3Byb3BzID0gcHJvcHM7XG5cdFx0dGhpcy4jY2hpbGRyZW4gPSBjaGlsZHJlbjtcblxuXHRcdHRoaXMuI2h5ZHJhdGVfb3BlbiA9IGh5ZHJhdGVfbm9kZTtcblxuXHRcdHRoaXMucGFyZW50ID0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KS5iO1xuXG5cdFx0dGhpcy5wZW5kaW5nID0gISF0aGlzLiNwcm9wcy5wZW5kaW5nO1xuXG5cdFx0dGhpcy4jZWZmZWN0ID0gYmxvY2soKCkgPT4ge1xuXHRcdFx0LyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KS5iID0gdGhpcztcblxuXHRcdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0XHRoeWRyYXRlX25leHQoKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcGVuZGluZyA9IHRoaXMuI3Byb3BzLnBlbmRpbmc7XG5cblx0XHRcdGlmIChoeWRyYXRpbmcgJiYgcGVuZGluZykge1xuXHRcdFx0XHR0aGlzLiNwZW5kaW5nX2VmZmVjdCA9IGJyYW5jaCgoKSA9PiBwZW5kaW5nKHRoaXMuI2FuY2hvcikpO1xuXG5cdFx0XHRcdC8vIGZ1dHVyZSB3b3JrOiB3aGVuIHdlIGhhdmUgc29tZSBmb3JtIG9mIGFzeW5jIFNTUiwgd2Ugd2lsbFxuXHRcdFx0XHQvLyBuZWVkIHRvIHVzZSBoeWRyYXRpb24gYm91bmRhcnkgY29tbWVudHMgdG8gcmVwb3J0IHdoZXRoZXJcblx0XHRcdFx0Ly8gdGhlIHBlbmRpbmcgb3IgbWFpbiBibG9jayB3YXMgcmVuZGVyZWQgZm9yIGEgZ2l2ZW5cblx0XHRcdFx0Ly8gYm91bmRhcnksIGFuZCBoeWRyYXRlIGFjY29yZGluZ2x5XG5cdFx0XHRcdHF1ZXVlTWljcm90YXNrKCgpID0+IHtcblx0XHRcdFx0XHR0aGlzLiNtYWluX2VmZmVjdCA9IHRoaXMuI3J1bigoKSA9PiB7XG5cdFx0XHRcdFx0XHRCYXRjaC5lbnN1cmUoKTtcblx0XHRcdFx0XHRcdHJldHVybiBicmFuY2goKCkgPT4gdGhpcy4jY2hpbGRyZW4odGhpcy4jYW5jaG9yKSk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRpZiAodGhpcy4jcGVuZGluZ19jb3VudCA+IDApIHtcblx0XHRcdFx0XHRcdHRoaXMuI3Nob3dfcGVuZGluZ19zbmlwcGV0KCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHBhdXNlX2VmZmVjdCgvKiogQHR5cGUge0VmZmVjdH0gKi8gKHRoaXMuI3BlbmRpbmdfZWZmZWN0KSwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLiNwZW5kaW5nX2VmZmVjdCA9IG51bGw7XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0dGhpcy5wZW5kaW5nID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dGhpcy4jbWFpbl9lZmZlY3QgPSBicmFuY2goKCkgPT4gY2hpbGRyZW4odGhpcy4jYW5jaG9yKSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0dGhpcy5lcnJvcihlcnJvcik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodGhpcy4jcGVuZGluZ19jb3VudCA+IDApIHtcblx0XHRcdFx0XHR0aGlzLiNzaG93X3BlbmRpbmdfc25pcHBldCgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMucGVuZGluZyA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSwgZmxhZ3MpO1xuXG5cdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0dGhpcy4jYW5jaG9yID0gaHlkcmF0ZV9ub2RlO1xuXHRcdH1cblx0fVxuXG5cdGhhc19wZW5kaW5nX3NuaXBwZXQoKSB7XG5cdFx0cmV0dXJuICEhdGhpcy4jcHJvcHMucGVuZGluZztcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0geygpID0+IEVmZmVjdCB8IG51bGx9IGZuXG5cdCAqL1xuXHQjcnVuKGZuKSB7XG5cdFx0dmFyIHByZXZpb3VzX2VmZmVjdCA9IGFjdGl2ZV9lZmZlY3Q7XG5cdFx0dmFyIHByZXZpb3VzX3JlYWN0aW9uID0gYWN0aXZlX3JlYWN0aW9uO1xuXHRcdHZhciBwcmV2aW91c19jdHggPSBjb21wb25lbnRfY29udGV4dDtcblxuXHRcdHNldF9hY3RpdmVfZWZmZWN0KHRoaXMuI2VmZmVjdCk7XG5cdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbih0aGlzLiNlZmZlY3QpO1xuXHRcdHNldF9jb21wb25lbnRfY29udGV4dCh0aGlzLiNlZmZlY3QuY3R4KTtcblxuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gZm4oKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0c2V0X2FjdGl2ZV9lZmZlY3QocHJldmlvdXNfZWZmZWN0KTtcblx0XHRcdHNldF9hY3RpdmVfcmVhY3Rpb24ocHJldmlvdXNfcmVhY3Rpb24pO1xuXHRcdFx0c2V0X2NvbXBvbmVudF9jb250ZXh0KHByZXZpb3VzX2N0eCk7XG5cdFx0fVxuXHR9XG5cblx0I3Nob3dfcGVuZGluZ19zbmlwcGV0KCkge1xuXHRcdGNvbnN0IHBlbmRpbmcgPSAvKiogQHR5cGUgeyhhbmNob3I6IE5vZGUpID0+IHZvaWR9ICovICh0aGlzLiNwcm9wcy5wZW5kaW5nKTtcblxuXHRcdGlmICh0aGlzLiNtYWluX2VmZmVjdCAhPT0gbnVsbCkge1xuXHRcdFx0dGhpcy4jb2Zmc2NyZWVuX2ZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXHRcdFx0bW92ZV9lZmZlY3QodGhpcy4jbWFpbl9lZmZlY3QsIHRoaXMuI29mZnNjcmVlbl9mcmFnbWVudCk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuI3BlbmRpbmdfZWZmZWN0ID09PSBudWxsKSB7XG5cdFx0XHR0aGlzLiNwZW5kaW5nX2VmZmVjdCA9IGJyYW5jaCgoKSA9PiBwZW5kaW5nKHRoaXMuI2FuY2hvcikpO1xuXHRcdH1cblx0fVxuXG5cdC8qKiBAcGFyYW0gezEgfCAtMX0gZCAqL1xuXHQjdXBkYXRlX3BlbmRpbmdfY291bnQoZCkge1xuXHRcdHRoaXMuI3BlbmRpbmdfY291bnQgKz0gZDtcblxuXHRcdGlmICh0aGlzLiNwZW5kaW5nX2NvdW50ID09PSAwKSB7XG5cdFx0XHR0aGlzLnBlbmRpbmcgPSBmYWxzZTtcblxuXHRcdFx0aWYgKHRoaXMuI3BlbmRpbmdfZWZmZWN0KSB7XG5cdFx0XHRcdHBhdXNlX2VmZmVjdCh0aGlzLiNwZW5kaW5nX2VmZmVjdCwgKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuI3BlbmRpbmdfZWZmZWN0ID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQpIHtcblx0XHRcdFx0dGhpcy4jYW5jaG9yLmJlZm9yZSh0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQpO1xuXHRcdFx0XHR0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKiBAcGFyYW0gezEgfCAtMX0gZCAqL1xuXHR1cGRhdGVfcGVuZGluZ19jb3VudChkKSB7XG5cdFx0aWYgKHRoaXMuaGFzX3BlbmRpbmdfc25pcHBldCgpKSB7XG5cdFx0XHR0aGlzLiN1cGRhdGVfcGVuZGluZ19jb3VudChkKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMucGFyZW50KSB7XG5cdFx0XHR0aGlzLnBhcmVudC4jdXBkYXRlX3BlbmRpbmdfY291bnQoZCk7XG5cdFx0fVxuXG5cdFx0ZWZmZWN0X3BlbmRpbmdfdXBkYXRlcy5hZGQodGhpcy4jZWZmZWN0X3BlbmRpbmdfdXBkYXRlKTtcblx0fVxuXG5cdGdldF9lZmZlY3RfcGVuZGluZygpIHtcblx0XHR0aGlzLiNlZmZlY3RfcGVuZGluZ19zdWJzY3JpYmVyKCk7XG5cdFx0cmV0dXJuIGdldCgvKiogQHR5cGUge1NvdXJjZTxudW1iZXI+fSAqLyAodGhpcy4jZWZmZWN0X3BlbmRpbmcpKTtcblx0fVxuXG5cdC8qKiBAcGFyYW0ge3Vua25vd259IGVycm9yICovXG5cdGVycm9yKGVycm9yKSB7XG5cdFx0dmFyIG9uZXJyb3IgPSB0aGlzLiNwcm9wcy5vbmVycm9yO1xuXHRcdGxldCBmYWlsZWQgPSB0aGlzLiNwcm9wcy5mYWlsZWQ7XG5cblx0XHRjb25zdCByZXNldCA9ICgpID0+IHtcblx0XHRcdHRoaXMuI3BlbmRpbmdfY291bnQgPSAwO1xuXG5cdFx0XHRpZiAodGhpcy4jZmFpbGVkX2VmZmVjdCAhPT0gbnVsbCkge1xuXHRcdFx0XHRwYXVzZV9lZmZlY3QodGhpcy4jZmFpbGVkX2VmZmVjdCwgKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuI2ZhaWxlZF9lZmZlY3QgPSBudWxsO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5wZW5kaW5nID0gdHJ1ZTtcblxuXHRcdFx0dGhpcy4jbWFpbl9lZmZlY3QgPSB0aGlzLiNydW4oKCkgPT4ge1xuXHRcdFx0XHR0aGlzLiNpc19jcmVhdGluZ19mYWxsYmFjayA9IGZhbHNlO1xuXHRcdFx0XHRyZXR1cm4gYnJhbmNoKCgpID0+IHRoaXMuI2NoaWxkcmVuKHRoaXMuI2FuY2hvcikpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmICh0aGlzLiNwZW5kaW5nX2NvdW50ID4gMCkge1xuXHRcdFx0XHR0aGlzLiNzaG93X3BlbmRpbmdfc25pcHBldCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5wZW5kaW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIElmIHdlIGhhdmUgbm90aGluZyB0byBjYXB0dXJlIHRoZSBlcnJvciwgb3IgaWYgd2UgaGl0IGFuIGVycm9yIHdoaWxlXG5cdFx0Ly8gcmVuZGVyaW5nIHRoZSBmYWxsYmFjaywgcmUtdGhyb3cgZm9yIGFub3RoZXIgYm91bmRhcnkgdG8gaGFuZGxlXG5cdFx0aWYgKHRoaXMuI2lzX2NyZWF0aW5nX2ZhbGxiYWNrIHx8ICghb25lcnJvciAmJiAhZmFpbGVkKSkge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0dmFyIHByZXZpb3VzX3JlYWN0aW9uID0gYWN0aXZlX3JlYWN0aW9uO1xuXG5cdFx0dHJ5IHtcblx0XHRcdHNldF9hY3RpdmVfcmVhY3Rpb24obnVsbCk7XG5cdFx0XHRvbmVycm9yPy4oZXJyb3IsIHJlc2V0KTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihwcmV2aW91c19yZWFjdGlvbik7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuI21haW5fZWZmZWN0KSB7XG5cdFx0XHRkZXN0cm95X2VmZmVjdCh0aGlzLiNtYWluX2VmZmVjdCk7XG5cdFx0XHR0aGlzLiNtYWluX2VmZmVjdCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuI3BlbmRpbmdfZWZmZWN0KSB7XG5cdFx0XHRkZXN0cm95X2VmZmVjdCh0aGlzLiNwZW5kaW5nX2VmZmVjdCk7XG5cdFx0XHR0aGlzLiNwZW5kaW5nX2VmZmVjdCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuI2ZhaWxlZF9lZmZlY3QpIHtcblx0XHRcdGRlc3Ryb3lfZWZmZWN0KHRoaXMuI2ZhaWxlZF9lZmZlY3QpO1xuXHRcdFx0dGhpcy4jZmFpbGVkX2VmZmVjdCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0c2V0X2h5ZHJhdGVfbm9kZSh0aGlzLiNoeWRyYXRlX29wZW4pO1xuXHRcdFx0bmV4dCgpO1xuXHRcdFx0c2V0X2h5ZHJhdGVfbm9kZShyZW1vdmVfbm9kZXMoKSk7XG5cdFx0fVxuXG5cdFx0aWYgKGZhaWxlZCkge1xuXHRcdFx0cXVldWVfbWljcm9fdGFzaygoKSA9PiB7XG5cdFx0XHRcdHRoaXMuI2ZhaWxlZF9lZmZlY3QgPSB0aGlzLiNydW4oKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuI2lzX2NyZWF0aW5nX2ZhbGxiYWNrID0gdHJ1ZTtcblxuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gYnJhbmNoKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0ZmFpbGVkKFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuI2FuY2hvcixcblx0XHRcdFx0XHRcdFx0XHQoKSA9PiBlcnJvcixcblx0XHRcdFx0XHRcdFx0XHQoKSA9PiByZXNldFxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdGludm9rZV9lcnJvcl9ib3VuZGFyeShlcnJvciwgLyoqIEB0eXBlIHtFZmZlY3R9ICovICh0aGlzLiNlZmZlY3QucGFyZW50KSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdFx0dGhpcy4jaXNfY3JlYXRpbmdfZmFsbGJhY2sgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7RG9jdW1lbnRGcmFnbWVudH0gZnJhZ21lbnRcbiAqL1xuZnVuY3Rpb24gbW92ZV9lZmZlY3QoZWZmZWN0LCBmcmFnbWVudCkge1xuXHR2YXIgbm9kZSA9IGVmZmVjdC5ub2Rlc19zdGFydDtcblx0dmFyIGVuZCA9IGVmZmVjdC5ub2Rlc19lbmQ7XG5cblx0d2hpbGUgKG5vZGUgIT09IG51bGwpIHtcblx0XHQvKiogQHR5cGUge1RlbXBsYXRlTm9kZSB8IG51bGx9ICovXG5cdFx0dmFyIG5leHQgPSBub2RlID09PSBlbmQgPyBudWxsIDogLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfbmV4dF9zaWJsaW5nKG5vZGUpKTtcblxuXHRcdGZyYWdtZW50LmFwcGVuZChub2RlKTtcblx0XHRub2RlID0gbmV4dDtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3BlbmRpbmdfYm91bmRhcnkoKSB7XG5cdHZhciBib3VuZGFyeSA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCkuYjtcblxuXHR3aGlsZSAoYm91bmRhcnkgIT09IG51bGwgJiYgIWJvdW5kYXJ5Lmhhc19wZW5kaW5nX3NuaXBwZXQoKSkge1xuXHRcdGJvdW5kYXJ5ID0gYm91bmRhcnkucGFyZW50O1xuXHR9XG5cblx0aWYgKGJvdW5kYXJ5ID09PSBudWxsKSB7XG5cdFx0ZS5hd2FpdF9vdXRzaWRlX2JvdW5kYXJ5KCk7XG5cdH1cblxuXHRyZXR1cm4gYm91bmRhcnk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwZW5kaW5nKCkge1xuXHRpZiAoYWN0aXZlX2VmZmVjdCA9PT0gbnVsbCkge1xuXHRcdGUuZWZmZWN0X3BlbmRpbmdfb3V0c2lkZV9yZWFjdGlvbigpO1xuXHR9XG5cblx0dmFyIGJvdW5kYXJ5ID0gYWN0aXZlX2VmZmVjdC5iO1xuXG5cdGlmIChib3VuZGFyeSA9PT0gbnVsbCkge1xuXHRcdHJldHVybiAwOyAvLyBUT0RPIGV2ZW50dWFsbHkgd2Ugd2lsbCBuZWVkIHRoaXMgdG8gYmUgZ2xvYmFsXG5cdH1cblxuXHRyZXR1cm4gYm91bmRhcnkuZ2V0X2VmZmVjdF9wZW5kaW5nKCk7XG59XG4iLCIvKiogQGltcG9ydCB7IERlcml2ZWQsIEVmZmVjdCwgU291cmNlIH0gZnJvbSAnI2NsaWVudCcgKi9cbi8qKiBAaW1wb3J0IHsgQmF0Y2ggfSBmcm9tICcuL2JhdGNoLmpzJzsgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHtcblx0RVJST1JfVkFMVUUsXG5cdENMRUFOLFxuXHRERVJJVkVELFxuXHRESVJUWSxcblx0RUZGRUNUX1BSRVNFUlZFRCxcblx0TUFZQkVfRElSVFksXG5cdFNUQUxFX1JFQUNUSU9OLFxuXHRVTk9XTkVELFxuXHRBU1lOQ1xufSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQge1xuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdGFjdGl2ZV9lZmZlY3QsXG5cdHNldF9zaWduYWxfc3RhdHVzLFxuXHRza2lwX3JlYWN0aW9uLFxuXHR1cGRhdGVfcmVhY3Rpb24sXG5cdGluY3JlbWVudF93cml0ZV92ZXJzaW9uLFxuXHRzZXRfYWN0aXZlX2VmZmVjdCxcblx0cHVzaF9yZWFjdGlvbl92YWx1ZSxcblx0aXNfZGVzdHJveWluZ19lZmZlY3Rcbn0gZnJvbSAnLi4vcnVudGltZS5qcyc7XG5pbXBvcnQgeyBlcXVhbHMsIHNhZmVfZXF1YWxzIH0gZnJvbSAnLi9lcXVhbGl0eS5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgKiBhcyB3IGZyb20gJy4uL3dhcm5pbmdzLmpzJztcbmltcG9ydCB7IGFzeW5jX2VmZmVjdCwgZGVzdHJveV9lZmZlY3QgfSBmcm9tICcuL2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgaW5zcGVjdF9lZmZlY3RzLCBpbnRlcm5hbF9zZXQsIHNldF9pbnNwZWN0X2VmZmVjdHMsIHNvdXJjZSB9IGZyb20gJy4vc291cmNlcy5qcyc7XG5pbXBvcnQgeyBnZXRfc3RhY2sgfSBmcm9tICcuLi9kZXYvdHJhY2luZy5qcyc7XG5pbXBvcnQgeyB0cmFjaW5nX21vZGVfZmxhZyB9IGZyb20gJy4uLy4uL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IEJvdW5kYXJ5IH0gZnJvbSAnLi4vZG9tL2Jsb2Nrcy9ib3VuZGFyeS5qcyc7XG5pbXBvcnQgeyBjb21wb25lbnRfY29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgVU5JTklUSUFMSVpFRCB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBiYXRjaF9kZXJpdmVkcywgY3VycmVudF9iYXRjaCB9IGZyb20gJy4vYmF0Y2guanMnO1xuaW1wb3J0IHsgdW5zZXRfY29udGV4dCB9IGZyb20gJy4vYXN5bmMuanMnO1xuXG4vKiogQHR5cGUge0VmZmVjdCB8IG51bGx9ICovXG5leHBvcnQgbGV0IGN1cnJlbnRfYXN5bmNfZWZmZWN0ID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7RWZmZWN0IHwgbnVsbH0gdiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9mcm9tX2FzeW5jX2Rlcml2ZWQodikge1xuXHRjdXJyZW50X2FzeW5jX2VmZmVjdCA9IHY7XG59XG5cbmV4cG9ydCBjb25zdCByZWNlbnRfYXN5bmNfZGVyaXZlZHMgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7KCkgPT4gVn0gZm5cbiAqIEByZXR1cm5zIHtEZXJpdmVkPFY+fVxuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVkKGZuKSB7XG5cdHZhciBmbGFncyA9IERFUklWRUQgfCBESVJUWTtcblx0dmFyIHBhcmVudF9kZXJpdmVkID1cblx0XHRhY3RpdmVfcmVhY3Rpb24gIT09IG51bGwgJiYgKGFjdGl2ZV9yZWFjdGlvbi5mICYgREVSSVZFRCkgIT09IDBcblx0XHRcdD8gLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoYWN0aXZlX3JlYWN0aW9uKVxuXHRcdFx0OiBudWxsO1xuXG5cdGlmIChhY3RpdmVfZWZmZWN0ID09PSBudWxsIHx8IChwYXJlbnRfZGVyaXZlZCAhPT0gbnVsbCAmJiAocGFyZW50X2Rlcml2ZWQuZiAmIFVOT1dORUQpICE9PSAwKSkge1xuXHRcdGZsYWdzIHw9IFVOT1dORUQ7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gU2luY2UgZGVyaXZlZHMgYXJlIGV2YWx1YXRlZCBsYXppbHksIGFueSBlZmZlY3RzIGNyZWF0ZWQgaW5zaWRlIHRoZW0gYXJlXG5cdFx0Ly8gY3JlYXRlZCB0b28gbGF0ZSB0byBlbnN1cmUgdGhhdCB0aGUgcGFyZW50IGVmZmVjdCBpcyBhZGRlZCB0byB0aGUgdHJlZVxuXHRcdGFjdGl2ZV9lZmZlY3QuZiB8PSBFRkZFQ1RfUFJFU0VSVkVEO1xuXHR9XG5cblx0LyoqIEB0eXBlIHtEZXJpdmVkPFY+fSAqL1xuXHRjb25zdCBzaWduYWwgPSB7XG5cdFx0Y3R4OiBjb21wb25lbnRfY29udGV4dCxcblx0XHRkZXBzOiBudWxsLFxuXHRcdGVmZmVjdHM6IG51bGwsXG5cdFx0ZXF1YWxzLFxuXHRcdGY6IGZsYWdzLFxuXHRcdGZuLFxuXHRcdHJlYWN0aW9uczogbnVsbCxcblx0XHRydjogMCxcblx0XHR2OiAvKiogQHR5cGUge1Z9ICovIChVTklOSVRJQUxJWkVEKSxcblx0XHR3djogMCxcblx0XHRwYXJlbnQ6IHBhcmVudF9kZXJpdmVkID8/IGFjdGl2ZV9lZmZlY3QsXG5cdFx0YWM6IG51bGxcblx0fTtcblxuXHRpZiAoREVWICYmIHRyYWNpbmdfbW9kZV9mbGFnKSB7XG5cdFx0c2lnbmFsLmNyZWF0ZWQgPSBnZXRfc3RhY2soJ0NyZWF0ZWRBdCcpO1xuXHR9XG5cblx0cmV0dXJuIHNpZ25hbDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHsoKSA9PiBWIHwgUHJvbWlzZTxWPn0gZm5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbbG9jYXRpb25dIElmIHByb3ZpZGVkLCBwcmludCBhIHdhcm5pbmcgaWYgdGhlIHZhbHVlIGlzIG5vdCByZWFkIGltbWVkaWF0ZWx5IGFmdGVyIHVwZGF0ZVxuICogQHJldHVybnMge1Byb21pc2U8U291cmNlPFY+Pn1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gYXN5bmNfZGVyaXZlZChmbiwgbG9jYXRpb24pIHtcblx0bGV0IHBhcmVudCA9IC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi8gKGFjdGl2ZV9lZmZlY3QpO1xuXG5cdGlmIChwYXJlbnQgPT09IG51bGwpIHtcblx0XHRlLmFzeW5jX2Rlcml2ZWRfb3JwaGFuKCk7XG5cdH1cblxuXHR2YXIgYm91bmRhcnkgPSAvKiogQHR5cGUge0JvdW5kYXJ5fSAqLyAocGFyZW50LmIpO1xuXG5cdHZhciBwcm9taXNlID0gLyoqIEB0eXBlIHtQcm9taXNlPFY+fSAqLyAoLyoqIEB0eXBlIHt1bmtub3dufSAqLyAodW5kZWZpbmVkKSk7XG5cdHZhciBzaWduYWwgPSBzb3VyY2UoLyoqIEB0eXBlIHtWfSAqLyAoVU5JTklUSUFMSVpFRCkpO1xuXG5cdC8qKiBAdHlwZSB7UHJvbWlzZTxWPiB8IG51bGx9ICovXG5cdHZhciBwcmV2ID0gbnVsbDtcblxuXHQvLyBvbmx5IHN1c3BlbmQgaW4gYXN5bmMgZGVyaXZlZHMgY3JlYXRlZCBvbiBpbml0aWFsaXNhdGlvblxuXHR2YXIgc2hvdWxkX3N1c3BlbmQgPSAhYWN0aXZlX3JlYWN0aW9uO1xuXG5cdGFzeW5jX2VmZmVjdCgoKSA9PiB7XG5cdFx0aWYgKERFVikgY3VycmVudF9hc3luY19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXG5cdFx0dHJ5IHtcblx0XHRcdHZhciBwID0gZm4oKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0cCA9IFByb21pc2UucmVqZWN0KGVycm9yKTtcblx0XHR9XG5cblx0XHRpZiAoREVWKSBjdXJyZW50X2FzeW5jX2VmZmVjdCA9IG51bGw7XG5cblx0XHR2YXIgciA9ICgpID0+IHA7XG5cdFx0cHJvbWlzZSA9IHByZXY/LnRoZW4ociwgcikgPz8gUHJvbWlzZS5yZXNvbHZlKHApO1xuXG5cdFx0cHJldiA9IHByb21pc2U7XG5cblx0XHR2YXIgYmF0Y2ggPSAvKiogQHR5cGUge0JhdGNofSAqLyAoY3VycmVudF9iYXRjaCk7XG5cdFx0dmFyIHBlbmRpbmcgPSBib3VuZGFyeS5wZW5kaW5nO1xuXG5cdFx0aWYgKHNob3VsZF9zdXNwZW5kKSB7XG5cdFx0XHRib3VuZGFyeS51cGRhdGVfcGVuZGluZ19jb3VudCgxKTtcblx0XHRcdGlmICghcGVuZGluZykgYmF0Y2guaW5jcmVtZW50KCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQHBhcmFtIHthbnl9IHZhbHVlXG5cdFx0ICogQHBhcmFtIHt1bmtub3dufSBlcnJvclxuXHRcdCAqL1xuXHRcdGNvbnN0IGhhbmRsZXIgPSAodmFsdWUsIGVycm9yID0gdW5kZWZpbmVkKSA9PiB7XG5cdFx0XHRwcmV2ID0gbnVsbDtcblxuXHRcdFx0Y3VycmVudF9hc3luY19lZmZlY3QgPSBudWxsO1xuXG5cdFx0XHRpZiAoIXBlbmRpbmcpIGJhdGNoLmFjdGl2YXRlKCk7XG5cblx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRpZiAoZXJyb3IgIT09IFNUQUxFX1JFQUNUSU9OKSB7XG5cdFx0XHRcdFx0c2lnbmFsLmYgfD0gRVJST1JfVkFMVUU7XG5cblx0XHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIHRoZSBlcnJvciBpcyB0aGUgd3JvbmcgdHlwZSwgYnV0IHdlIGRvbid0IGNhcmVcblx0XHRcdFx0XHRpbnRlcm5hbF9zZXQoc2lnbmFsLCBlcnJvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICgoc2lnbmFsLmYgJiBFUlJPUl9WQUxVRSkgIT09IDApIHtcblx0XHRcdFx0XHRzaWduYWwuZiBePSBFUlJPUl9WQUxVRTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGludGVybmFsX3NldChzaWduYWwsIHZhbHVlKTtcblxuXHRcdFx0XHRpZiAoREVWICYmIGxvY2F0aW9uICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZWNlbnRfYXN5bmNfZGVyaXZlZHMuYWRkKHNpZ25hbCk7XG5cblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdGlmIChyZWNlbnRfYXN5bmNfZGVyaXZlZHMuaGFzKHNpZ25hbCkpIHtcblx0XHRcdFx0XHRcdFx0dy5hd2FpdF93YXRlcmZhbGwoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChzaWduYWwubGFiZWwpLCBsb2NhdGlvbik7XG5cdFx0XHRcdFx0XHRcdHJlY2VudF9hc3luY19kZXJpdmVkcy5kZWxldGUoc2lnbmFsKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoc2hvdWxkX3N1c3BlbmQpIHtcblx0XHRcdFx0Ym91bmRhcnkudXBkYXRlX3BlbmRpbmdfY291bnQoLTEpO1xuXHRcdFx0XHRpZiAoIXBlbmRpbmcpIGJhdGNoLmRlY3JlbWVudCgpO1xuXHRcdFx0fVxuXG5cdFx0XHR1bnNldF9jb250ZXh0KCk7XG5cdFx0fTtcblxuXHRcdHByb21pc2UudGhlbihoYW5kbGVyLCAoZSkgPT4gaGFuZGxlcihudWxsLCBlIHx8ICd1bmtub3duJykpO1xuXG5cdFx0aWYgKGJhdGNoKSB7XG5cdFx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0XHRxdWV1ZU1pY3JvdGFzaygoKSA9PiBiYXRjaC5uZXV0ZXIoKSk7XG5cdFx0XHR9O1xuXHRcdH1cblx0fSk7XG5cblx0aWYgKERFVikge1xuXHRcdC8vIGFkZCBhIGZsYWcgdGhhdCBsZXRzIHRoaXMgYmUgcHJpbnRlZCBhcyBhIGRlcml2ZWRcblx0XHQvLyB3aGVuIHVzaW5nIGAkaW5zcGVjdC50cmFjZSgpYFxuXHRcdHNpZ25hbC5mIHw9IEFTWU5DO1xuXHR9XG5cblx0cmV0dXJuIG5ldyBQcm9taXNlKChmdWxmaWwpID0+IHtcblx0XHQvKiogQHBhcmFtIHtQcm9taXNlPFY+fSBwICovXG5cdFx0ZnVuY3Rpb24gbmV4dChwKSB7XG5cdFx0XHRmdW5jdGlvbiBnbygpIHtcblx0XHRcdFx0aWYgKHAgPT09IHByb21pc2UpIHtcblx0XHRcdFx0XHRmdWxmaWwoc2lnbmFsKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBpZiB0aGUgZWZmZWN0IHJlLXJ1bnMgYmVmb3JlIHRoZSBpbml0aWFsIHByb21pc2Vcblx0XHRcdFx0XHQvLyByZXNvbHZlcywgZGVsYXkgcmVzb2x1dGlvbiB1bnRpbCB3ZSBoYXZlIGEgdmFsdWVcblx0XHRcdFx0XHRuZXh0KHByb21pc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHAudGhlbihnbywgZ28pO1xuXHRcdH1cblxuXHRcdG5leHQocHJvbWlzZSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0geygpID0+IFZ9IGZuXG4gKiBAcmV0dXJucyB7RGVyaXZlZDxWPn1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gdXNlcl9kZXJpdmVkKGZuKSB7XG5cdGNvbnN0IGQgPSBkZXJpdmVkKGZuKTtcblxuXHRwdXNoX3JlYWN0aW9uX3ZhbHVlKGQpO1xuXG5cdHJldHVybiBkO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0geygpID0+IFZ9IGZuXG4gKiBAcmV0dXJucyB7RGVyaXZlZDxWPn1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZF9zYWZlX2VxdWFsKGZuKSB7XG5cdGNvbnN0IHNpZ25hbCA9IGRlcml2ZWQoZm4pO1xuXHRzaWduYWwuZXF1YWxzID0gc2FmZV9lcXVhbHM7XG5cdHJldHVybiBzaWduYWw7XG59XG5cbi8qKlxuICogQHBhcmFtIHtEZXJpdmVkfSBkZXJpdmVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfZGVyaXZlZF9lZmZlY3RzKGRlcml2ZWQpIHtcblx0dmFyIGVmZmVjdHMgPSBkZXJpdmVkLmVmZmVjdHM7XG5cblx0aWYgKGVmZmVjdHMgIT09IG51bGwpIHtcblx0XHRkZXJpdmVkLmVmZmVjdHMgPSBudWxsO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlZmZlY3RzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRkZXN0cm95X2VmZmVjdCgvKiogQHR5cGUge0VmZmVjdH0gKi8gKGVmZmVjdHNbaV0pKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IHVwZGF0aW5nIGRlcml2ZWRzLCB1c2VkIHRvIGRldGVjdCBpbmZpbml0ZSByZWN1cnNpb25cbiAqIGluIGRldiBtb2RlIGFuZCBwcm92aWRlIGEgbmljZXIgZXJyb3IgdGhhbiAndG9vIG11Y2ggcmVjdXJzaW9uJ1xuICogQHR5cGUge0Rlcml2ZWRbXX1cbiAqL1xubGV0IHN0YWNrID0gW107XG5cbi8qKlxuICogQHBhcmFtIHtEZXJpdmVkfSBkZXJpdmVkXG4gKiBAcmV0dXJucyB7RWZmZWN0IHwgbnVsbH1cbiAqL1xuZnVuY3Rpb24gZ2V0X2Rlcml2ZWRfcGFyZW50X2VmZmVjdChkZXJpdmVkKSB7XG5cdHZhciBwYXJlbnQgPSBkZXJpdmVkLnBhcmVudDtcblx0d2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuXHRcdGlmICgocGFyZW50LmYgJiBERVJJVkVEKSA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAocGFyZW50KTtcblx0XHR9XG5cdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudDtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtEZXJpdmVkfSBkZXJpdmVkXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVfZGVyaXZlZChkZXJpdmVkKSB7XG5cdHZhciB2YWx1ZTtcblx0dmFyIHByZXZfYWN0aXZlX2VmZmVjdCA9IGFjdGl2ZV9lZmZlY3Q7XG5cblx0c2V0X2FjdGl2ZV9lZmZlY3QoZ2V0X2Rlcml2ZWRfcGFyZW50X2VmZmVjdChkZXJpdmVkKSk7XG5cblx0aWYgKERFVikge1xuXHRcdGxldCBwcmV2X2luc3BlY3RfZWZmZWN0cyA9IGluc3BlY3RfZWZmZWN0cztcblx0XHRzZXRfaW5zcGVjdF9lZmZlY3RzKG5ldyBTZXQoKSk7XG5cdFx0dHJ5IHtcblx0XHRcdGlmIChzdGFjay5pbmNsdWRlcyhkZXJpdmVkKSkge1xuXHRcdFx0XHRlLmRlcml2ZWRfcmVmZXJlbmNlc19zZWxmKCk7XG5cdFx0XHR9XG5cblx0XHRcdHN0YWNrLnB1c2goZGVyaXZlZCk7XG5cblx0XHRcdGRlc3Ryb3lfZGVyaXZlZF9lZmZlY3RzKGRlcml2ZWQpO1xuXHRcdFx0dmFsdWUgPSB1cGRhdGVfcmVhY3Rpb24oZGVyaXZlZCk7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdHNldF9hY3RpdmVfZWZmZWN0KHByZXZfYWN0aXZlX2VmZmVjdCk7XG5cdFx0XHRzZXRfaW5zcGVjdF9lZmZlY3RzKHByZXZfaW5zcGVjdF9lZmZlY3RzKTtcblx0XHRcdHN0YWNrLnBvcCgpO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHR0cnkge1xuXHRcdFx0ZGVzdHJveV9kZXJpdmVkX2VmZmVjdHMoZGVyaXZlZCk7XG5cdFx0XHR2YWx1ZSA9IHVwZGF0ZV9yZWFjdGlvbihkZXJpdmVkKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0c2V0X2FjdGl2ZV9lZmZlY3QocHJldl9hY3RpdmVfZWZmZWN0KTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtEZXJpdmVkfSBkZXJpdmVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9kZXJpdmVkKGRlcml2ZWQpIHtcblx0dmFyIHZhbHVlID0gZXhlY3V0ZV9kZXJpdmVkKGRlcml2ZWQpO1xuXG5cdGlmICghZGVyaXZlZC5lcXVhbHModmFsdWUpKSB7XG5cdFx0ZGVyaXZlZC52ID0gdmFsdWU7XG5cdFx0ZGVyaXZlZC53diA9IGluY3JlbWVudF93cml0ZV92ZXJzaW9uKCk7XG5cdH1cblxuXHQvLyBkb24ndCBtYXJrIGRlcml2ZWQgY2xlYW4gaWYgd2UncmUgcmVhZGluZyBpdCBpbnNpZGUgYVxuXHQvLyBjbGVhbnVwIGZ1bmN0aW9uLCBvciBpdCB3aWxsIGNhY2hlIGEgc3RhbGUgdmFsdWVcblx0aWYgKGlzX2Rlc3Ryb3lpbmdfZWZmZWN0KSByZXR1cm47XG5cblx0aWYgKGJhdGNoX2Rlcml2ZWRzICE9PSBudWxsKSB7XG5cdFx0YmF0Y2hfZGVyaXZlZHMuc2V0KGRlcml2ZWQsIGRlcml2ZWQudik7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIHN0YXR1cyA9XG5cdFx0XHQoc2tpcF9yZWFjdGlvbiB8fCAoZGVyaXZlZC5mICYgVU5PV05FRCkgIT09IDApICYmIGRlcml2ZWQuZGVwcyAhPT0gbnVsbCA/IE1BWUJFX0RJUlRZIDogQ0xFQU47XG5cblx0XHRzZXRfc2lnbmFsX3N0YXR1cyhkZXJpdmVkLCBzdGF0dXMpO1xuXHR9XG59XG4iLCIvKiogQGltcG9ydCB7IEVmZmVjdCwgVmFsdWUgfSBmcm9tICcjY2xpZW50JyAqL1xuXG5pbXBvcnQgeyBERVNUUk9ZRUQgfSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7IGNvbXBvbmVudF9jb250ZXh0LCBpc19ydW5lcywgc2V0X2NvbXBvbmVudF9jb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBnZXRfcGVuZGluZ19ib3VuZGFyeSB9IGZyb20gJy4uL2RvbS9ibG9ja3MvYm91bmRhcnkuanMnO1xuaW1wb3J0IHsgaW52b2tlX2Vycm9yX2JvdW5kYXJ5IH0gZnJvbSAnLi4vZXJyb3ItaGFuZGxpbmcuanMnO1xuaW1wb3J0IHtcblx0YWN0aXZlX2VmZmVjdCxcblx0YWN0aXZlX3JlYWN0aW9uLFxuXHRzZXRfYWN0aXZlX2VmZmVjdCxcblx0c2V0X2FjdGl2ZV9yZWFjdGlvblxufSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGN1cnJlbnRfYmF0Y2ggfSBmcm9tICcuL2JhdGNoLmpzJztcbmltcG9ydCB7XG5cdGFzeW5jX2Rlcml2ZWQsXG5cdGN1cnJlbnRfYXN5bmNfZWZmZWN0LFxuXHRkZXJpdmVkLFxuXHRkZXJpdmVkX3NhZmVfZXF1YWwsXG5cdHNldF9mcm9tX2FzeW5jX2Rlcml2ZWRcbn0gZnJvbSAnLi9kZXJpdmVkcy5qcyc7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8KCkgPT4gYW55Pn0gc3luY1xuICogQHBhcmFtIHtBcnJheTwoKSA9PiBQcm9taXNlPGFueT4+fSBhc3luY1xuICogQHBhcmFtIHsodmFsdWVzOiBWYWx1ZVtdKSA9PiBhbnl9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuKHN5bmMsIGFzeW5jLCBmbikge1xuXHRjb25zdCBkID0gaXNfcnVuZXMoKSA/IGRlcml2ZWQgOiBkZXJpdmVkX3NhZmVfZXF1YWw7XG5cblx0aWYgKGFzeW5jLmxlbmd0aCA9PT0gMCkge1xuXHRcdGZuKHN5bmMubWFwKGQpKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgYmF0Y2ggPSBjdXJyZW50X2JhdGNoO1xuXHR2YXIgcGFyZW50ID0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KTtcblxuXHR2YXIgcmVzdG9yZSA9IGNhcHR1cmUoKTtcblx0dmFyIGJvdW5kYXJ5ID0gZ2V0X3BlbmRpbmdfYm91bmRhcnkoKTtcblxuXHRQcm9taXNlLmFsbChhc3luYy5tYXAoKGV4cHJlc3Npb24pID0+IGFzeW5jX2Rlcml2ZWQoZXhwcmVzc2lvbikpKVxuXHRcdC50aGVuKChyZXN1bHQpID0+IHtcblx0XHRcdGJhdGNoPy5hY3RpdmF0ZSgpO1xuXG5cdFx0XHRyZXN0b3JlKCk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGZuKFsuLi5zeW5jLm1hcChkKSwgLi4ucmVzdWx0XSk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHQvLyBpZ25vcmUgZXJyb3JzIGluIGJsb2NrcyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZFxuXHRcdFx0XHRpZiAoKHBhcmVudC5mICYgREVTVFJPWUVEKSA9PT0gMCkge1xuXHRcdFx0XHRcdGludm9rZV9lcnJvcl9ib3VuZGFyeShlcnJvciwgcGFyZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRiYXRjaD8uZGVhY3RpdmF0ZSgpO1xuXHRcdFx0dW5zZXRfY29udGV4dCgpO1xuXHRcdH0pXG5cdFx0LmNhdGNoKChlcnJvcikgPT4ge1xuXHRcdFx0Ym91bmRhcnkuZXJyb3IoZXJyb3IpO1xuXHRcdH0pO1xufVxuXG4vKipcbiAqIENhcHR1cmVzIHRoZSBjdXJyZW50IGVmZmVjdCBjb250ZXh0IHNvIHRoYXQgd2UgY2FuIHJlc3RvcmUgaXQgYWZ0ZXJcbiAqIHNvbWUgYXN5bmNocm9ub3VzIHdvcmsgaGFzIGhhcHBlbmVkIChzbyB0aGF0IGUuZy4gYGF3YWl0IGEgKyBiYFxuICogY2F1c2VzIGBiYCB0byBiZSByZWdpc3RlcmVkIGFzIGEgZGVwZW5kZW5jeSkuXG4gKi9cbmZ1bmN0aW9uIGNhcHR1cmUoKSB7XG5cdHZhciBwcmV2aW91c19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdHZhciBwcmV2aW91c19jb21wb25lbnRfY29udGV4dCA9IGNvbXBvbmVudF9jb250ZXh0O1xuXG5cdHJldHVybiBmdW5jdGlvbiByZXN0b3JlKCkge1xuXHRcdHNldF9hY3RpdmVfZWZmZWN0KHByZXZpb3VzX2VmZmVjdCk7XG5cdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihwcmV2aW91c19yZWFjdGlvbik7XG5cdFx0c2V0X2NvbXBvbmVudF9jb250ZXh0KHByZXZpb3VzX2NvbXBvbmVudF9jb250ZXh0KTtcblxuXHRcdGlmIChERVYpIHtcblx0XHRcdHNldF9mcm9tX2FzeW5jX2Rlcml2ZWQobnVsbCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIFdyYXBzIGFuIGBhd2FpdGAgZXhwcmVzc2lvbiBpbiBzdWNoIGEgd2F5IHRoYXQgdGhlIGVmZmVjdCBjb250ZXh0IHRoYXQgd2FzXG4gKiBhY3RpdmUgYmVmb3JlIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlZCBjYW4gYmUgcmVhcHBsaWVkIGFmdGVyd2FyZHMg4oCUXG4gKiBgYXdhaXQgYSArIGJgIGJlY29tZXMgYChhd2FpdCAkLnNhdmUoYSkpKCkgKyBiYFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7UHJvbWlzZTxUPn0gcHJvbWlzZVxuICogQHJldHVybnMge1Byb21pc2U8KCkgPT4gVD59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlKHByb21pc2UpIHtcblx0dmFyIHJlc3RvcmUgPSBjYXB0dXJlKCk7XG5cdHZhciB2YWx1ZSA9IGF3YWl0IHByb21pc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRyZXN0b3JlKCk7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJlc2V0IGBjdXJyZW50X2FzeW5jX2VmZmVjdGAgYWZ0ZXIgdGhlIGBwcm9taXNlYCByZXNvbHZlcywgc29cbiAqIHRoYXQgd2UgY2FuIGVtaXQgYGF3YWl0X3JlYWN0aXZpdHlfbG9zc2Agd2FybmluZ3NcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1Byb21pc2U8VD59IHByb21pc2VcbiAqIEByZXR1cm5zIHtQcm9taXNlPCgpID0+IFQ+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdHJhY2tfcmVhY3Rpdml0eV9sb3NzKHByb21pc2UpIHtcblx0dmFyIHByZXZpb3VzX2FzeW5jX2VmZmVjdCA9IGN1cnJlbnRfYXN5bmNfZWZmZWN0O1xuXHR2YXIgdmFsdWUgPSBhd2FpdCBwcm9taXNlO1xuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0c2V0X2Zyb21fYXN5bmNfZGVyaXZlZChwcmV2aW91c19hc3luY19lZmZlY3QpO1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0X2NvbnRleHQoKSB7XG5cdHNldF9hY3RpdmVfZWZmZWN0KG51bGwpO1xuXHRzZXRfYWN0aXZlX3JlYWN0aW9uKG51bGwpO1xuXHRzZXRfY29tcG9uZW50X2NvbnRleHQobnVsbCk7XG5cdGlmIChERVYpIHNldF9mcm9tX2FzeW5jX2Rlcml2ZWQobnVsbCk7XG59XG4iLCIvKiogQGltcG9ydCB7IERlcml2ZWQsIEVmZmVjdCwgU291cmNlIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7XG5cdEJMT0NLX0VGRkVDVCxcblx0QlJBTkNIX0VGRkVDVCxcblx0Q0xFQU4sXG5cdERFU1RST1lFRCxcblx0RElSVFksXG5cdEVGRkVDVCxcblx0QVNZTkMsXG5cdElORVJULFxuXHRSRU5ERVJfRUZGRUNULFxuXHRST09UX0VGRkVDVCxcblx0VVNFUl9FRkZFQ1Rcbn0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHsgYXN5bmNfbW9kZV9mbGFnIH0gZnJvbSAnLi4vLi4vZmxhZ3MvaW5kZXguanMnO1xuaW1wb3J0IHsgZGVmZXJyZWQsIGRlZmluZV9wcm9wZXJ0eSB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBnZXRfcGVuZGluZ19ib3VuZGFyeSB9IGZyb20gJy4uL2RvbS9ibG9ja3MvYm91bmRhcnkuanMnO1xuaW1wb3J0IHtcblx0YWN0aXZlX2VmZmVjdCxcblx0aXNfZGlydHksXG5cdGlzX3VwZGF0aW5nX2VmZmVjdCxcblx0c2V0X2lzX3VwZGF0aW5nX2VmZmVjdCxcblx0c2V0X3NpZ25hbF9zdGF0dXMsXG5cdHVwZGF0ZV9lZmZlY3QsXG5cdHdyaXRlX3ZlcnNpb25cbn0gZnJvbSAnLi4vcnVudGltZS5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBmbHVzaF90YXNrcyB9IGZyb20gJy4uL2RvbS90YXNrLmpzJztcbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgaW52b2tlX2Vycm9yX2JvdW5kYXJ5IH0gZnJvbSAnLi4vZXJyb3ItaGFuZGxpbmcuanMnO1xuaW1wb3J0IHsgb2xkX3ZhbHVlcyB9IGZyb20gJy4vc291cmNlcy5qcyc7XG5pbXBvcnQgeyB1bmxpbmtfZWZmZWN0IH0gZnJvbSAnLi9lZmZlY3RzLmpzJztcbmltcG9ydCB7IHVuc2V0X2NvbnRleHQgfSBmcm9tICcuL2FzeW5jLmpzJztcblxuLyoqIEB0eXBlIHtTZXQ8QmF0Y2g+fSAqL1xuY29uc3QgYmF0Y2hlcyA9IG5ldyBTZXQoKTtcblxuLyoqIEB0eXBlIHtCYXRjaCB8IG51bGx9ICovXG5leHBvcnQgbGV0IGN1cnJlbnRfYmF0Y2ggPSBudWxsO1xuXG4vKipcbiAqIFdoZW4gdGltZSB0cmF2ZWxsaW5nLCB3ZSByZS1ldmFsdWF0ZSBkZXJpdmVkcyBiYXNlZCBvbiB0aGUgdGVtcG9yYXJ5XG4gKiB2YWx1ZXMgb2YgdGhlaXIgZGVwZW5kZW5jaWVzIHJhdGhlciB0aGFuIHRoZWlyIGFjdHVhbCB2YWx1ZXMsIGFuZCBjYWNoZVxuICogdGhlIHJlc3VsdHMgaW4gdGhpcyBtYXAgcmF0aGVyIHRoYW4gb24gdGhlIGRlcml2ZWRzIHRoZW1zZWx2ZXNcbiAqIEB0eXBlIHtNYXA8RGVyaXZlZCwgYW55PiB8IG51bGx9XG4gKi9cbmV4cG9ydCBsZXQgYmF0Y2hfZGVyaXZlZHMgPSBudWxsO1xuXG4vKiogQHR5cGUge1NldDwoKSA9PiB2b2lkPn0gKi9cbmV4cG9ydCBsZXQgZWZmZWN0X3BlbmRpbmdfdXBkYXRlcyA9IG5ldyBTZXQoKTtcblxuLyoqIEB0eXBlIHtFZmZlY3RbXX0gKi9cbmxldCBxdWV1ZWRfcm9vdF9lZmZlY3RzID0gW107XG5cbi8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cbmxldCBsYXN0X3NjaGVkdWxlZF9lZmZlY3QgPSBudWxsO1xuXG5sZXQgaXNfZmx1c2hpbmcgPSBmYWxzZTtcblxuZXhwb3J0IGNsYXNzIEJhdGNoIHtcblx0LyoqXG5cdCAqIFRoZSBjdXJyZW50IHZhbHVlcyBvZiBhbnkgc291cmNlcyB0aGF0IGFyZSB1cGRhdGVkIGluIHRoaXMgYmF0Y2hcblx0ICogVGhleSBrZXlzIG9mIHRoaXMgbWFwIGFyZSBpZGVudGljYWwgdG8gYHRoaXMuI3ByZXZpb3VzYFxuXHQgKiBAdHlwZSB7TWFwPFNvdXJjZSwgYW55Pn1cblx0ICovXG5cdCNjdXJyZW50ID0gbmV3IE1hcCgpO1xuXG5cdC8qKlxuXHQgKiBUaGUgdmFsdWVzIG9mIGFueSBzb3VyY2VzIHRoYXQgYXJlIHVwZGF0ZWQgaW4gdGhpcyBiYXRjaCBfYmVmb3JlXyB0aG9zZSB1cGRhdGVzIHRvb2sgcGxhY2UuXG5cdCAqIFRoZXkga2V5cyBvZiB0aGlzIG1hcCBhcmUgaWRlbnRpY2FsIHRvIGB0aGlzLiNjdXJyZW50YFxuXHQgKiBAdHlwZSB7TWFwPFNvdXJjZSwgYW55Pn1cblx0ICovXG5cdCNwcmV2aW91cyA9IG5ldyBNYXAoKTtcblxuXHQvKipcblx0ICogV2hlbiB0aGUgYmF0Y2ggaXMgY29tbWl0dGVkIChhbmQgdGhlIERPTSBpcyB1cGRhdGVkKSwgd2UgbmVlZCB0byByZW1vdmUgb2xkIGJyYW5jaGVzXG5cdCAqIGFuZCBhcHBlbmQgbmV3IG9uZXMgYnkgY2FsbGluZyB0aGUgZnVuY3Rpb25zIGFkZGVkIGluc2lkZSAoaWYvZWFjaC9rZXkvZXRjKSBibG9ja3Ncblx0ICogQHR5cGUge1NldDwoKSA9PiB2b2lkPn1cblx0ICovXG5cdCNjYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5cblx0LyoqXG5cdCAqIFRoZSBudW1iZXIgb2YgYXN5bmMgZWZmZWN0cyB0aGF0IGFyZSBjdXJyZW50bHkgaW4gZmxpZ2h0XG5cdCAqL1xuXHQjcGVuZGluZyA9IDA7XG5cblx0LyoqXG5cdCAqIEEgZGVmZXJyZWQgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBiYXRjaCBpcyBjb21taXR0ZWQsIHVzZWQgd2l0aCBgc2V0dGxlZCgpYFxuXHQgKiBUT0RPIHJlcGxhY2Ugd2l0aCBQcm9taXNlLndpdGhSZXNvbHZlcnMgb25jZSBzdXBwb3J0ZWQgd2lkZWx5IGVub3VnaFxuXHQgKiBAdHlwZSB7eyBwcm9taXNlOiBQcm9taXNlPHZvaWQ+LCByZXNvbHZlOiAodmFsdWU/OiBhbnkpID0+IHZvaWQsIHJlamVjdDogKHJlYXNvbjogdW5rbm93bikgPT4gdm9pZCB9IHwgbnVsbH1cblx0ICovXG5cdCNkZWZlcnJlZCA9IG51bGw7XG5cblx0LyoqXG5cdCAqIFRydWUgaWYgYW4gYXN5bmMgZWZmZWN0IGluc2lkZSB0aGlzIGJhdGNoIHJlc29sdmVkIGFuZFxuXHQgKiBpdHMgcGFyZW50IGJyYW5jaCB3YXMgYWxyZWFkeSBkZWxldGVkXG5cdCAqL1xuXHQjbmV1dGVyZWQgPSBmYWxzZTtcblxuXHQvKipcblx0ICogQXN5bmMgZWZmZWN0cyAoY3JlYXRlZCBpbnNpZGUgYGFzeW5jX2Rlcml2ZWRgKSBlbmNvdW50ZXJlZCBkdXJpbmcgcHJvY2Vzc2luZy5cblx0ICogVGhlc2UgcnVuIGFmdGVyIHRoZSByZXN0IG9mIHRoZSBiYXRjaCBoYXMgdXBkYXRlZCwgc2luY2UgdGhleSBzaG91bGRcblx0ICogYWx3YXlzIGhhdmUgdGhlIGxhdGVzdCB2YWx1ZXNcblx0ICogQHR5cGUge0VmZmVjdFtdfVxuXHQgKi9cblx0I2FzeW5jX2VmZmVjdHMgPSBbXTtcblxuXHQvKipcblx0ICogVGhlIHNhbWUgYXMgYCNhc3luY19lZmZlY3RzYCwgYnV0IGZvciBlZmZlY3RzIGluc2lkZSBhIG5ld2x5LWNyZWF0ZWRcblx0ICogYDxzdmVsdGU6Ym91bmRhcnk+YCDigJQgdGhlc2UgZG8gbm90IHByZXZlbnQgdGhlIGJhdGNoIGZyb20gY29tbWl0dGluZ1xuXHQgKiBAdHlwZSB7RWZmZWN0W119XG5cdCAqL1xuXHQjYm91bmRhcnlfYXN5bmNfZWZmZWN0cyA9IFtdO1xuXG5cdC8qKlxuXHQgKiBUZW1wbGF0ZSBlZmZlY3RzIGFuZCBgJGVmZmVjdC5wcmVgIGVmZmVjdHMsIHdoaWNoIHJ1biB3aGVuXG5cdCAqIGEgYmF0Y2ggaXMgY29tbWl0dGVkXG5cdCAqIEB0eXBlIHtFZmZlY3RbXX1cblx0ICovXG5cdCNyZW5kZXJfZWZmZWN0cyA9IFtdO1xuXG5cdC8qKlxuXHQgKiBUaGUgc2FtZSBhcyBgI3JlbmRlcl9lZmZlY3RzYCwgYnV0IGZvciBgJGVmZmVjdGAgKHdoaWNoIHJ1bnMgYWZ0ZXIpXG5cdCAqIEB0eXBlIHtFZmZlY3RbXX1cblx0ICovXG5cdCNlZmZlY3RzID0gW107XG5cblx0LyoqXG5cdCAqIEJsb2NrIGVmZmVjdHMsIHdoaWNoIG1heSBuZWVkIHRvIHJlLXJ1biBvbiBzdWJzZXF1ZW50IGZsdXNoZXNcblx0ICogaW4gb3JkZXIgdG8gdXBkYXRlIGludGVybmFsIHNvdXJjZXMgKGUuZy4gZWFjaCBibG9jayBpdGVtcylcblx0ICogQHR5cGUge0VmZmVjdFtdfVxuXHQgKi9cblx0I2Jsb2NrX2VmZmVjdHMgPSBbXTtcblxuXHQvKipcblx0ICogQSBzZXQgb2YgYnJhbmNoZXMgdGhhdCBzdGlsbCBleGlzdCwgYnV0IHdpbGwgYmUgZGVzdHJveWVkIHdoZW4gdGhpcyBiYXRjaFxuXHQgKiBpcyBjb21taXR0ZWQg4oCUIHdlIHNraXAgb3ZlciB0aGVzZSBkdXJpbmcgYHByb2Nlc3NgXG5cdCAqIEB0eXBlIHtTZXQ8RWZmZWN0Pn1cblx0ICovXG5cdHNraXBwZWRfZWZmZWN0cyA9IG5ldyBTZXQoKTtcblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHtFZmZlY3RbXX0gcm9vdF9lZmZlY3RzXG5cdCAqL1xuXHQjcHJvY2Vzcyhyb290X2VmZmVjdHMpIHtcblx0XHRxdWV1ZWRfcm9vdF9lZmZlY3RzID0gW107XG5cblx0XHQvKiogQHR5cGUge01hcDxTb3VyY2UsIHsgdjogdW5rbm93biwgd3Y6IG51bWJlciB9PiB8IG51bGx9ICovXG5cdFx0dmFyIGN1cnJlbnRfdmFsdWVzID0gbnVsbDtcblxuXHRcdC8vIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBiYXRjaGVzLCB3ZSBhcmUgJ3RpbWUgdHJhdmVsbGluZycg4oCUXG5cdFx0Ly8gd2UgbmVlZCB0byB1bmRvIHRoZSBjaGFuZ2VzIGJlbG9uZ2luZyB0byBhbnkgYmF0Y2hcblx0XHQvLyBvdGhlciB0aGFuIHRoZSBjdXJyZW50IG9uZVxuXHRcdGlmIChiYXRjaGVzLnNpemUgPiAxKSB7XG5cdFx0XHRjdXJyZW50X3ZhbHVlcyA9IG5ldyBNYXAoKTtcblx0XHRcdGJhdGNoX2Rlcml2ZWRzID0gbmV3IE1hcCgpO1xuXG5cdFx0XHRmb3IgKGNvbnN0IFtzb3VyY2UsIGN1cnJlbnRdIG9mIHRoaXMuI2N1cnJlbnQpIHtcblx0XHRcdFx0Y3VycmVudF92YWx1ZXMuc2V0KHNvdXJjZSwgeyB2OiBzb3VyY2Uudiwgd3Y6IHNvdXJjZS53diB9KTtcblx0XHRcdFx0c291cmNlLnYgPSBjdXJyZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGNvbnN0IGJhdGNoIG9mIGJhdGNoZXMpIHtcblx0XHRcdFx0aWYgKGJhdGNoID09PSB0aGlzKSBjb250aW51ZTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IFtzb3VyY2UsIHByZXZpb3VzXSBvZiBiYXRjaC4jcHJldmlvdXMpIHtcblx0XHRcdFx0XHRpZiAoIWN1cnJlbnRfdmFsdWVzLmhhcyhzb3VyY2UpKSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50X3ZhbHVlcy5zZXQoc291cmNlLCB7IHY6IHNvdXJjZS52LCB3djogc291cmNlLnd2IH0pO1xuXHRcdFx0XHRcdFx0c291cmNlLnYgPSBwcmV2aW91cztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IHJvb3Qgb2Ygcm9vdF9lZmZlY3RzKSB7XG5cdFx0XHR0aGlzLiN0cmF2ZXJzZV9lZmZlY3RfdHJlZShyb290KTtcblx0XHR9XG5cblx0XHQvLyBpZiB3ZSBkaWRuJ3Qgc3RhcnQgYW55IG5ldyBhc3luYyB3b3JrLCBhbmQgbm8gYXN5bmMgd29ya1xuXHRcdC8vIGlzIG91dHN0YW5kaW5nIGZyb20gYSBwcmV2aW91cyBmbHVzaCwgY29tbWl0XG5cdFx0aWYgKHRoaXMuI2FzeW5jX2VmZmVjdHMubGVuZ3RoID09PSAwICYmIHRoaXMuI3BlbmRpbmcgPT09IDApIHtcblx0XHRcdHZhciByZW5kZXJfZWZmZWN0cyA9IHRoaXMuI3JlbmRlcl9lZmZlY3RzO1xuXHRcdFx0dmFyIGVmZmVjdHMgPSB0aGlzLiNlZmZlY3RzO1xuXG5cdFx0XHR0aGlzLiNyZW5kZXJfZWZmZWN0cyA9IFtdO1xuXHRcdFx0dGhpcy4jZWZmZWN0cyA9IFtdO1xuXHRcdFx0dGhpcy4jYmxvY2tfZWZmZWN0cyA9IFtdO1xuXG5cdFx0XHR0aGlzLiNjb21taXQoKTtcblxuXHRcdFx0Zmx1c2hfcXVldWVkX2VmZmVjdHMocmVuZGVyX2VmZmVjdHMpO1xuXHRcdFx0Zmx1c2hfcXVldWVkX2VmZmVjdHMoZWZmZWN0cyk7XG5cblx0XHRcdHRoaXMuI2RlZmVycmVkPy5yZXNvbHZlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIG90aGVyd2lzZSBtYXJrIGVmZmVjdHMgY2xlYW4gc28gdGhleSBnZXQgc2NoZWR1bGVkIG9uIHRoZSBuZXh0IHJ1blxuXHRcdFx0Zm9yIChjb25zdCBlIG9mIHRoaXMuI3JlbmRlcl9lZmZlY3RzKSBzZXRfc2lnbmFsX3N0YXR1cyhlLCBDTEVBTik7XG5cdFx0XHRmb3IgKGNvbnN0IGUgb2YgdGhpcy4jZWZmZWN0cykgc2V0X3NpZ25hbF9zdGF0dXMoZSwgQ0xFQU4pO1xuXHRcdFx0Zm9yIChjb25zdCBlIG9mIHRoaXMuI2Jsb2NrX2VmZmVjdHMpIHNldF9zaWduYWxfc3RhdHVzKGUsIENMRUFOKTtcblx0XHR9XG5cblx0XHRpZiAoY3VycmVudF92YWx1ZXMpIHtcblx0XHRcdGZvciAoY29uc3QgW3NvdXJjZSwgeyB2LCB3diB9XSBvZiBjdXJyZW50X3ZhbHVlcykge1xuXHRcdFx0XHQvLyByZXNldCB0aGUgc291cmNlIHRvIHRoZSBjdXJyZW50IHZhbHVlICh1bmxlc3Ncblx0XHRcdFx0Ly8gaXQgZ290IGEgbmV3ZXIgdmFsdWUgYXMgYSByZXN1bHQgb2YgZWZmZWN0cyBydW5uaW5nKVxuXHRcdFx0XHRpZiAoc291cmNlLnd2IDw9IHd2KSB7XG5cdFx0XHRcdFx0c291cmNlLnYgPSB2O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGJhdGNoX2Rlcml2ZWRzID0gbnVsbDtcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGVmZmVjdCBvZiB0aGlzLiNhc3luY19lZmZlY3RzKSB7XG5cdFx0XHR1cGRhdGVfZWZmZWN0KGVmZmVjdCk7XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBlZmZlY3Qgb2YgdGhpcy4jYm91bmRhcnlfYXN5bmNfZWZmZWN0cykge1xuXHRcdFx0dXBkYXRlX2VmZmVjdChlZmZlY3QpO1xuXHRcdH1cblxuXHRcdHRoaXMuI2FzeW5jX2VmZmVjdHMgPSBbXTtcblx0XHR0aGlzLiNib3VuZGFyeV9hc3luY19lZmZlY3RzID0gW107XG5cdH1cblxuXHQvKipcblx0ICogVHJhdmVyc2UgdGhlIGVmZmVjdCB0cmVlLCBleGVjdXRpbmcgZWZmZWN0cyBvciBzdGFzaGluZ1xuXHQgKiB0aGVtIGZvciBsYXRlciBleGVjdXRpb24gYXMgYXBwcm9wcmlhdGVcblx0ICogQHBhcmFtIHtFZmZlY3R9IHJvb3Rcblx0ICovXG5cdCN0cmF2ZXJzZV9lZmZlY3RfdHJlZShyb290KSB7XG5cdFx0cm9vdC5mIF49IENMRUFOO1xuXG5cdFx0dmFyIGVmZmVjdCA9IHJvb3QuZmlyc3Q7XG5cblx0XHR3aGlsZSAoZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0XHR2YXIgZmxhZ3MgPSBlZmZlY3QuZjtcblx0XHRcdHZhciBpc19icmFuY2ggPSAoZmxhZ3MgJiAoQlJBTkNIX0VGRkVDVCB8IFJPT1RfRUZGRUNUKSkgIT09IDA7XG5cdFx0XHR2YXIgaXNfc2tpcHBhYmxlX2JyYW5jaCA9IGlzX2JyYW5jaCAmJiAoZmxhZ3MgJiBDTEVBTikgIT09IDA7XG5cblx0XHRcdHZhciBza2lwID0gaXNfc2tpcHBhYmxlX2JyYW5jaCB8fCAoZmxhZ3MgJiBJTkVSVCkgIT09IDAgfHwgdGhpcy5za2lwcGVkX2VmZmVjdHMuaGFzKGVmZmVjdCk7XG5cblx0XHRcdGlmICghc2tpcCAmJiBlZmZlY3QuZm4gIT09IG51bGwpIHtcblx0XHRcdFx0aWYgKGlzX2JyYW5jaCkge1xuXHRcdFx0XHRcdGVmZmVjdC5mIF49IENMRUFOO1xuXHRcdFx0XHR9IGVsc2UgaWYgKChmbGFncyAmIEVGRkVDVCkgIT09IDApIHtcblx0XHRcdFx0XHR0aGlzLiNlZmZlY3RzLnB1c2goZWZmZWN0KTtcblx0XHRcdFx0fSBlbHNlIGlmIChhc3luY19tb2RlX2ZsYWcgJiYgKGZsYWdzICYgUkVOREVSX0VGRkVDVCkgIT09IDApIHtcblx0XHRcdFx0XHR0aGlzLiNyZW5kZXJfZWZmZWN0cy5wdXNoKGVmZmVjdCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoaXNfZGlydHkoZWZmZWN0KSkge1xuXHRcdFx0XHRcdGlmICgoZmxhZ3MgJiBBU1lOQykgIT09IDApIHtcblx0XHRcdFx0XHRcdHZhciBlZmZlY3RzID0gZWZmZWN0LmI/LnBlbmRpbmcgPyB0aGlzLiNib3VuZGFyeV9hc3luY19lZmZlY3RzIDogdGhpcy4jYXN5bmNfZWZmZWN0cztcblx0XHRcdFx0XHRcdGVmZmVjdHMucHVzaChlZmZlY3QpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAoKGVmZmVjdC5mICYgQkxPQ0tfRUZGRUNUKSAhPT0gMCkgdGhpcy4jYmxvY2tfZWZmZWN0cy5wdXNoKGVmZmVjdCk7XG5cdFx0XHRcdFx0XHR1cGRhdGVfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIGNoaWxkID0gZWZmZWN0LmZpcnN0O1xuXG5cdFx0XHRcdGlmIChjaGlsZCAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdGVmZmVjdCA9IGNoaWxkO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwYXJlbnQgPSBlZmZlY3QucGFyZW50O1xuXHRcdFx0ZWZmZWN0ID0gZWZmZWN0Lm5leHQ7XG5cblx0XHRcdHdoaWxlIChlZmZlY3QgPT09IG51bGwgJiYgcGFyZW50ICE9PSBudWxsKSB7XG5cdFx0XHRcdGVmZmVjdCA9IHBhcmVudC5uZXh0O1xuXHRcdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBc3NvY2lhdGUgYSBjaGFuZ2UgdG8gYSBnaXZlbiBzb3VyY2Ugd2l0aCB0aGUgY3VycmVudFxuXHQgKiBiYXRjaCwgbm90aW5nIGl0cyBwcmV2aW91cyBhbmQgY3VycmVudCB2YWx1ZXNcblx0ICogQHBhcmFtIHtTb3VyY2V9IHNvdXJjZVxuXHQgKiBAcGFyYW0ge2FueX0gdmFsdWVcblx0ICovXG5cdGNhcHR1cmUoc291cmNlLCB2YWx1ZSkge1xuXHRcdGlmICghdGhpcy4jcHJldmlvdXMuaGFzKHNvdXJjZSkpIHtcblx0XHRcdHRoaXMuI3ByZXZpb3VzLnNldChzb3VyY2UsIHZhbHVlKTtcblx0XHR9XG5cblx0XHR0aGlzLiNjdXJyZW50LnNldChzb3VyY2UsIHNvdXJjZS52KTtcblx0fVxuXG5cdGFjdGl2YXRlKCkge1xuXHRcdGN1cnJlbnRfYmF0Y2ggPSB0aGlzO1xuXHR9XG5cblx0ZGVhY3RpdmF0ZSgpIHtcblx0XHRjdXJyZW50X2JhdGNoID0gbnVsbDtcblxuXHRcdGZvciAoY29uc3QgdXBkYXRlIG9mIGVmZmVjdF9wZW5kaW5nX3VwZGF0ZXMpIHtcblx0XHRcdGVmZmVjdF9wZW5kaW5nX3VwZGF0ZXMuZGVsZXRlKHVwZGF0ZSk7XG5cdFx0XHR1cGRhdGUoKTtcblxuXHRcdFx0aWYgKGN1cnJlbnRfYmF0Y2ggIT09IG51bGwpIHtcblx0XHRcdFx0Ly8gb25seSBkbyBvbmUgYXQgYSB0aW1lXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdG5ldXRlcigpIHtcblx0XHR0aGlzLiNuZXV0ZXJlZCA9IHRydWU7XG5cdH1cblxuXHRmbHVzaCgpIHtcblx0XHRpZiAocXVldWVkX3Jvb3RfZWZmZWN0cy5sZW5ndGggPiAwKSB7XG5cdFx0XHR0aGlzLmZsdXNoX2VmZmVjdHMoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy4jY29tbWl0KCk7XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnRfYmF0Y2ggIT09IHRoaXMpIHtcblx0XHRcdC8vIHRoaXMgY2FuIGhhcHBlbiBpZiBhIGBmbHVzaFN5bmNgIG9jY3VycmVkIGR1cmluZyBgdGhpcy5mbHVzaF9lZmZlY3RzKClgLFxuXHRcdFx0Ly8gd2hpY2ggaXMgcGVybWl0dGVkIGluIGxlZ2FjeSBtb2RlIGRlc3BpdGUgYmVpbmcgYSB0ZXJyaWJsZSBpZGVhXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuI3BlbmRpbmcgPT09IDApIHtcblx0XHRcdGJhdGNoZXMuZGVsZXRlKHRoaXMpO1xuXHRcdH1cblxuXHRcdHRoaXMuZGVhY3RpdmF0ZSgpO1xuXHR9XG5cblx0Zmx1c2hfZWZmZWN0cygpIHtcblx0XHR2YXIgd2FzX3VwZGF0aW5nX2VmZmVjdCA9IGlzX3VwZGF0aW5nX2VmZmVjdDtcblx0XHRpc19mbHVzaGluZyA9IHRydWU7XG5cblx0XHR0cnkge1xuXHRcdFx0dmFyIGZsdXNoX2NvdW50ID0gMDtcblx0XHRcdHNldF9pc191cGRhdGluZ19lZmZlY3QodHJ1ZSk7XG5cblx0XHRcdHdoaWxlIChxdWV1ZWRfcm9vdF9lZmZlY3RzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0aWYgKGZsdXNoX2NvdW50KysgPiAxMDAwKSB7XG5cdFx0XHRcdFx0aWYgKERFVikge1xuXHRcdFx0XHRcdFx0dmFyIHVwZGF0ZXMgPSBuZXcgTWFwKCk7XG5cblx0XHRcdFx0XHRcdGZvciAoY29uc3Qgc291cmNlIG9mIHRoaXMuI2N1cnJlbnQua2V5cygpKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAoY29uc3QgW3N0YWNrLCB1cGRhdGVdIG9mIHNvdXJjZS51cGRhdGVkID8/IFtdKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGVudHJ5ID0gdXBkYXRlcy5nZXQoc3RhY2spO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFlbnRyeSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZW50cnkgPSB7IGVycm9yOiB1cGRhdGUuZXJyb3IsIGNvdW50OiAwIH07XG5cdFx0XHRcdFx0XHRcdFx0XHR1cGRhdGVzLnNldChzdGFjaywgZW50cnkpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGVudHJ5LmNvdW50ICs9IHVwZGF0ZS5jb3VudDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzLnZhbHVlcygpKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IodXBkYXRlLmVycm9yKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpbmZpbml0ZV9sb29wX2d1YXJkKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLiNwcm9jZXNzKHF1ZXVlZF9yb290X2VmZmVjdHMpO1xuXHRcdFx0XHRvbGRfdmFsdWVzLmNsZWFyKCk7XG5cdFx0XHR9XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdGlzX2ZsdXNoaW5nID0gZmFsc2U7XG5cdFx0XHRzZXRfaXNfdXBkYXRpbmdfZWZmZWN0KHdhc191cGRhdGluZ19lZmZlY3QpO1xuXG5cdFx0XHRsYXN0X3NjaGVkdWxlZF9lZmZlY3QgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBcHBlbmQgYW5kIHJlbW92ZSBicmFuY2hlcyB0by9mcm9tIHRoZSBET01cblx0ICovXG5cdCNjb21taXQoKSB7XG5cdFx0aWYgKCF0aGlzLiNuZXV0ZXJlZCkge1xuXHRcdFx0Zm9yIChjb25zdCBmbiBvZiB0aGlzLiNjYWxsYmFja3MpIHtcblx0XHRcdFx0Zm4oKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLiNjYWxsYmFja3MuY2xlYXIoKTtcblx0fVxuXG5cdGluY3JlbWVudCgpIHtcblx0XHR0aGlzLiNwZW5kaW5nICs9IDE7XG5cdH1cblxuXHRkZWNyZW1lbnQoKSB7XG5cdFx0dGhpcy4jcGVuZGluZyAtPSAxO1xuXG5cdFx0aWYgKHRoaXMuI3BlbmRpbmcgPT09IDApIHtcblx0XHRcdGZvciAoY29uc3QgZSBvZiB0aGlzLiNyZW5kZXJfZWZmZWN0cykge1xuXHRcdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhlLCBESVJUWSk7XG5cdFx0XHRcdHNjaGVkdWxlX2VmZmVjdChlKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCBlIG9mIHRoaXMuI2VmZmVjdHMpIHtcblx0XHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMoZSwgRElSVFkpO1xuXHRcdFx0XHRzY2hlZHVsZV9lZmZlY3QoZSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3QgZSBvZiB0aGlzLiNibG9ja19lZmZlY3RzKSB7XG5cdFx0XHRcdHNldF9zaWduYWxfc3RhdHVzKGUsIERJUlRZKTtcblx0XHRcdFx0c2NoZWR1bGVfZWZmZWN0KGUpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLiNyZW5kZXJfZWZmZWN0cyA9IFtdO1xuXHRcdFx0dGhpcy4jZWZmZWN0cyA9IFtdO1xuXG5cdFx0XHR0aGlzLmZsdXNoKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuZGVhY3RpdmF0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdC8qKiBAcGFyYW0geygpID0+IHZvaWR9IGZuICovXG5cdGFkZF9jYWxsYmFjayhmbikge1xuXHRcdHRoaXMuI2NhbGxiYWNrcy5hZGQoZm4pO1xuXHR9XG5cblx0c2V0dGxlZCgpIHtcblx0XHRyZXR1cm4gKHRoaXMuI2RlZmVycmVkID8/PSBkZWZlcnJlZCgpKS5wcm9taXNlO1xuXHR9XG5cblx0c3RhdGljIGVuc3VyZShhdXRvZmx1c2ggPSB0cnVlKSB7XG5cdFx0aWYgKGN1cnJlbnRfYmF0Y2ggPT09IG51bGwpIHtcblx0XHRcdGNvbnN0IGJhdGNoID0gKGN1cnJlbnRfYmF0Y2ggPSBuZXcgQmF0Y2goKSk7XG5cdFx0XHRiYXRjaGVzLmFkZChjdXJyZW50X2JhdGNoKTtcblxuXHRcdFx0aWYgKGF1dG9mbHVzaCkge1xuXHRcdFx0XHRxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRfYmF0Y2ggIT09IGJhdGNoKSB7XG5cdFx0XHRcdFx0XHQvLyBhIGZsdXNoU3luYyBoYXBwZW5lZCBpbiB0aGUgbWVhbnRpbWVcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRiYXRjaC5mbHVzaCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY3VycmVudF9iYXRjaDtcblx0fVxufVxuXG4vKipcbiAqIFN5bmNocm9ub3VzbHkgZmx1c2ggYW55IHBlbmRpbmcgdXBkYXRlcy5cbiAqIFJldHVybnMgdm9pZCBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgb3RoZXJ3aXNlIHJldHVybnMgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBjYWxsYmFjay5cbiAqIEB0ZW1wbGF0ZSBbVD12b2lkXVxuICogQHBhcmFtIHsoKCkgPT4gVCkgfCB1bmRlZmluZWR9IFtmbl1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hTeW5jKGZuKSB7XG5cdGlmIChhc3luY19tb2RlX2ZsYWcgJiYgYWN0aXZlX2VmZmVjdCAhPT0gbnVsbCkge1xuXHRcdGUuZmx1c2hfc3luY19pbl9lZmZlY3QoKTtcblx0fVxuXG5cdHZhciByZXN1bHQ7XG5cblx0Y29uc3QgYmF0Y2ggPSBCYXRjaC5lbnN1cmUoZmFsc2UpO1xuXG5cdGlmIChmbikge1xuXHRcdGJhdGNoLmZsdXNoX2VmZmVjdHMoKTtcblxuXHRcdHJlc3VsdCA9IGZuKCk7XG5cdH1cblxuXHR3aGlsZSAodHJ1ZSkge1xuXHRcdGZsdXNoX3Rhc2tzKCk7XG5cblx0XHRpZiAocXVldWVkX3Jvb3RfZWZmZWN0cy5sZW5ndGggPT09IDApIHtcblx0XHRcdGlmIChiYXRjaCA9PT0gY3VycmVudF9iYXRjaCkge1xuXHRcdFx0XHRiYXRjaC5mbHVzaCgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB0aGlzIHdvdWxkIGJlIHJlc2V0IGluIGBiYXRjaC5mbHVzaF9lZmZlY3RzKClgIGJ1dCBzaW5jZSB3ZSBhcmUgZWFybHkgcmV0dXJuaW5nIGhlcmUsXG5cdFx0XHQvLyB3ZSBuZWVkIHRvIHJlc2V0IGl0IGhlcmUgYXMgd2VsbCBpbiBjYXNlIHRoZSBmaXJzdCB0aW1lIHRoZXJlJ3MgMCBxdWV1ZWQgcm9vdCBlZmZlY3RzXG5cdFx0XHRsYXN0X3NjaGVkdWxlZF9lZmZlY3QgPSBudWxsO1xuXG5cdFx0XHRyZXR1cm4gLyoqIEB0eXBlIHtUfSAqLyAocmVzdWx0KTtcblx0XHR9XG5cblx0XHRiYXRjaC5mbHVzaF9lZmZlY3RzKCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gaW5maW5pdGVfbG9vcF9ndWFyZCgpIHtcblx0dHJ5IHtcblx0XHRlLmVmZmVjdF91cGRhdGVfZGVwdGhfZXhjZWVkZWQoKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoREVWKSB7XG5cdFx0XHQvLyBzdGFjayBjb250YWlucyBubyB1c2VmdWwgaW5mb3JtYXRpb24sIHJlcGxhY2UgaXRcblx0XHRcdGRlZmluZV9wcm9wZXJ0eShlcnJvciwgJ3N0YWNrJywgeyB2YWx1ZTogJycgfSk7XG5cdFx0fVxuXG5cdFx0Ly8gQmVzdCBlZmZvcnQ6IGludm9rZSB0aGUgYm91bmRhcnkgbmVhcmVzdCB0aGUgbW9zdCByZWNlbnRcblx0XHQvLyBlZmZlY3QgYW5kIGhvcGUgdGhhdCBpdCdzIHJlbGV2YW50IHRvIHRoZSBpbmZpbml0ZSBsb29wXG5cdFx0aW52b2tlX2Vycm9yX2JvdW5kYXJ5KGVycm9yLCBsYXN0X3NjaGVkdWxlZF9lZmZlY3QpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxFZmZlY3Q+fSBlZmZlY3RzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gZmx1c2hfcXVldWVkX2VmZmVjdHMoZWZmZWN0cykge1xuXHR2YXIgbGVuZ3RoID0gZWZmZWN0cy5sZW5ndGg7XG5cdGlmIChsZW5ndGggPT09IDApIHJldHVybjtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGVmZmVjdCA9IGVmZmVjdHNbaV07XG5cblx0XHRpZiAoKGVmZmVjdC5mICYgKERFU1RST1lFRCB8IElORVJUKSkgPT09IDApIHtcblx0XHRcdGlmIChpc19kaXJ0eShlZmZlY3QpKSB7XG5cdFx0XHRcdHZhciB3diA9IHdyaXRlX3ZlcnNpb247XG5cblx0XHRcdFx0dXBkYXRlX2VmZmVjdChlZmZlY3QpO1xuXG5cdFx0XHRcdC8vIEVmZmVjdHMgd2l0aCBubyBkZXBlbmRlbmNpZXMgb3IgdGVhcmRvd24gZG8gbm90IGdldCBhZGRlZCB0byB0aGUgZWZmZWN0IHRyZWUuXG5cdFx0XHRcdC8vIERlZmVycmVkIGVmZmVjdHMgKGUuZy4gYCRlZmZlY3QoLi4uKWApIF9hcmVfIGFkZGVkIHRvIHRoZSB0cmVlIGJlY2F1c2Ugd2Vcblx0XHRcdFx0Ly8gZG9uJ3Qga25vdyBpZiB3ZSBuZWVkIHRvIGtlZXAgdGhlbSB1bnRpbCB0aGV5IGFyZSBleGVjdXRlZC4gRG9pbmcgdGhlIGNoZWNrXG5cdFx0XHRcdC8vIGhlcmUgKHJhdGhlciB0aGFuIGluIGB1cGRhdGVfZWZmZWN0YCkgYWxsb3dzIHVzIHRvIHNraXAgdGhlIHdvcmsgZm9yXG5cdFx0XHRcdC8vIGltbWVkaWF0ZSBlZmZlY3RzLlxuXHRcdFx0XHRpZiAoZWZmZWN0LmRlcHMgPT09IG51bGwgJiYgZWZmZWN0LmZpcnN0ID09PSBudWxsICYmIGVmZmVjdC5ub2Rlc19zdGFydCA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdGlmIChlZmZlY3QudGVhcmRvd24gPT09IG51bGwpIHtcblx0XHRcdFx0XHRcdC8vIHJlbW92ZSB0aGlzIGVmZmVjdCBmcm9tIHRoZSBncmFwaFxuXHRcdFx0XHRcdFx0dW5saW5rX2VmZmVjdChlZmZlY3QpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBrZWVwIHRoZSBlZmZlY3QgaW4gdGhlIGdyYXBoLCBidXQgZnJlZSB1cCBzb21lIG1lbW9yeVxuXHRcdFx0XHRcdFx0ZWZmZWN0LmZuID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiBzdGF0ZSBpcyB3cml0dGVuIGluIGEgdXNlciBlZmZlY3QsIGFib3J0IGFuZCByZS1zY2hlZHVsZSwgbGVzdCB3ZSBydW5cblx0XHRcdFx0Ly8gZWZmZWN0cyB0aGF0IHNob3VsZCBiZSByZW1vdmVkIGFzIGEgcmVzdWx0IG9mIHRoZSBzdGF0ZSBjaGFuZ2Vcblx0XHRcdFx0aWYgKHdyaXRlX3ZlcnNpb24gPiB3diAmJiAoZWZmZWN0LmYgJiBVU0VSX0VGRkVDVCkgIT09IDApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZvciAoOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcblx0XHRzY2hlZHVsZV9lZmZlY3QoZWZmZWN0c1tpXSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gc2lnbmFsXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlX2VmZmVjdChzaWduYWwpIHtcblx0dmFyIGVmZmVjdCA9IChsYXN0X3NjaGVkdWxlZF9lZmZlY3QgPSBzaWduYWwpO1xuXG5cdHdoaWxlIChlZmZlY3QucGFyZW50ICE9PSBudWxsKSB7XG5cdFx0ZWZmZWN0ID0gZWZmZWN0LnBhcmVudDtcblx0XHR2YXIgZmxhZ3MgPSBlZmZlY3QuZjtcblxuXHRcdC8vIGlmIHRoZSBlZmZlY3QgaXMgYmVpbmcgc2NoZWR1bGVkIGJlY2F1c2UgYSBwYXJlbnQgKGVhY2gvYXdhaXQvZXRjKSBibG9ja1xuXHRcdC8vIHVwZGF0ZWQgYW4gaW50ZXJuYWwgc291cmNlLCBiYWlsIG91dCBvciB3ZSdsbCBjYXVzZSBhIHNlY29uZCBmbHVzaFxuXHRcdGlmIChpc19mbHVzaGluZyAmJiBlZmZlY3QgPT09IGFjdGl2ZV9lZmZlY3QgJiYgKGZsYWdzICYgQkxPQ0tfRUZGRUNUKSAhPT0gMCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICgoZmxhZ3MgJiAoUk9PVF9FRkZFQ1QgfCBCUkFOQ0hfRUZGRUNUKSkgIT09IDApIHtcblx0XHRcdGlmICgoZmxhZ3MgJiBDTEVBTikgPT09IDApIHJldHVybjtcblx0XHRcdGVmZmVjdC5mIF49IENMRUFOO1xuXHRcdH1cblx0fVxuXG5cdHF1ZXVlZF9yb290X2VmZmVjdHMucHVzaChlZmZlY3QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VzcGVuZCgpIHtcblx0dmFyIGJvdW5kYXJ5ID0gZ2V0X3BlbmRpbmdfYm91bmRhcnkoKTtcblx0dmFyIGJhdGNoID0gLyoqIEB0eXBlIHtCYXRjaH0gKi8gKGN1cnJlbnRfYmF0Y2gpO1xuXHR2YXIgcGVuZGluZyA9IGJvdW5kYXJ5LnBlbmRpbmc7XG5cblx0Ym91bmRhcnkudXBkYXRlX3BlbmRpbmdfY291bnQoMSk7XG5cdGlmICghcGVuZGluZykgYmF0Y2guaW5jcmVtZW50KCk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVuc3VzcGVuZCgpIHtcblx0XHRib3VuZGFyeS51cGRhdGVfcGVuZGluZ19jb3VudCgtMSk7XG5cdFx0aWYgKCFwZW5kaW5nKSBiYXRjaC5kZWNyZW1lbnQoKTtcblxuXHRcdHVuc2V0X2NvbnRleHQoKTtcblx0fTtcbn1cblxuLyoqXG4gKiBGb3JjaWJseSByZW1vdmUgYWxsIGN1cnJlbnQgYmF0Y2hlcywgdG8gcHJldmVudCBjcm9zcy10YWxrIGJldHdlZW4gdGVzdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyKCkge1xuXHRiYXRjaGVzLmNsZWFyKCk7XG59XG4iLCIvKiogQGltcG9ydCB7IERlcml2ZWQsIEVmZmVjdCwgU291cmNlLCBWYWx1ZSB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7XG5cdGFjdGl2ZV9yZWFjdGlvbixcblx0YWN0aXZlX2VmZmVjdCxcblx0dW50cmFja2VkX3dyaXRlcyxcblx0Z2V0LFxuXHRzZXRfdW50cmFja2VkX3dyaXRlcyxcblx0c2V0X3NpZ25hbF9zdGF0dXMsXG5cdHVudHJhY2ssXG5cdGluY3JlbWVudF93cml0ZV92ZXJzaW9uLFxuXHR1cGRhdGVfZWZmZWN0LFxuXHRjdXJyZW50X3NvdXJjZXMsXG5cdGlzX2RpcnR5LFxuXHR1bnRyYWNraW5nLFxuXHRpc19kZXN0cm95aW5nX2VmZmVjdCxcblx0cHVzaF9yZWFjdGlvbl92YWx1ZVxufSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGVxdWFscywgc2FmZV9lcXVhbHMgfSBmcm9tICcuL2VxdWFsaXR5LmpzJztcbmltcG9ydCB7XG5cdENMRUFOLFxuXHRERVJJVkVELFxuXHRESVJUWSxcblx0QlJBTkNIX0VGRkVDVCxcblx0SU5TUEVDVF9FRkZFQ1QsXG5cdFVOT1dORUQsXG5cdE1BWUJFX0RJUlRZLFxuXHRCTE9DS19FRkZFQ1QsXG5cdFJPT1RfRUZGRUNULFxuXHRBU1lOQ1xufSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBsZWdhY3lfbW9kZV9mbGFnLCB0cmFjaW5nX21vZGVfZmxhZyB9IGZyb20gJy4uLy4uL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IGdldF9zdGFjaywgdGFnX3Byb3h5IH0gZnJvbSAnLi4vZGV2L3RyYWNpbmcuanMnO1xuaW1wb3J0IHsgY29tcG9uZW50X2NvbnRleHQsIGlzX3J1bmVzIH0gZnJvbSAnLi4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBCYXRjaCwgc2NoZWR1bGVfZWZmZWN0IH0gZnJvbSAnLi9iYXRjaC5qcyc7XG5pbXBvcnQgeyBwcm94eSB9IGZyb20gJy4uL3Byb3h5LmpzJztcbmltcG9ydCB7IGV4ZWN1dGVfZGVyaXZlZCB9IGZyb20gJy4vZGVyaXZlZHMuanMnO1xuXG5leHBvcnQgbGV0IGluc3BlY3RfZWZmZWN0cyA9IG5ldyBTZXQoKTtcblxuLyoqIEB0eXBlIHtNYXA8U291cmNlLCBhbnk+fSAqL1xuZXhwb3J0IGNvbnN0IG9sZF92YWx1ZXMgPSBuZXcgTWFwKCk7XG5cbi8qKlxuICogQHBhcmFtIHtTZXQ8YW55Pn0gdlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2luc3BlY3RfZWZmZWN0cyh2KSB7XG5cdGluc3BlY3RfZWZmZWN0cyA9IHY7XG59XG5cbmxldCBpbnNwZWN0X2VmZmVjdHNfZGVmZXJyZWQgPSBmYWxzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldF9pbnNwZWN0X2VmZmVjdHNfZGVmZXJyZWQoKSB7XG5cdGluc3BlY3RfZWZmZWN0c19kZWZlcnJlZCA9IHRydWU7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7Vn0gdlxuICogQHBhcmFtIHtFcnJvciB8IG51bGx9IFtzdGFja11cbiAqIEByZXR1cm5zIHtTb3VyY2U8Vj59XG4gKi9cbi8vIFRPRE8gcmVuYW1lIHRoaXMgdG8gYHN0YXRlYCB0aHJvdWdob3V0IHRoZSBjb2RlYmFzZVxuZXhwb3J0IGZ1bmN0aW9uIHNvdXJjZSh2LCBzdGFjaykge1xuXHQvKiogQHR5cGUge1ZhbHVlfSAqL1xuXHR2YXIgc2lnbmFsID0ge1xuXHRcdGY6IDAsIC8vIFRPRE8gaWRlYWxseSB3ZSBjb3VsZCBza2lwIHRoaXMgYWx0b2dldGhlciwgYnV0IGl0IGNhdXNlcyB0eXBlIGVycm9yc1xuXHRcdHYsXG5cdFx0cmVhY3Rpb25zOiBudWxsLFxuXHRcdGVxdWFscyxcblx0XHRydjogMCxcblx0XHR3djogMFxuXHR9O1xuXG5cdGlmIChERVYgJiYgdHJhY2luZ19tb2RlX2ZsYWcpIHtcblx0XHRzaWduYWwuY3JlYXRlZCA9IHN0YWNrID8/IGdldF9zdGFjaygnQ3JlYXRlZEF0Jyk7XG5cdFx0c2lnbmFsLnVwZGF0ZWQgPSBudWxsO1xuXHRcdHNpZ25hbC5zZXRfZHVyaW5nX2VmZmVjdCA9IGZhbHNlO1xuXHRcdHNpZ25hbC50cmFjZSA9IG51bGw7XG5cdH1cblxuXHRyZXR1cm4gc2lnbmFsO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1Z9IHZcbiAqIEBwYXJhbSB7RXJyb3IgfCBudWxsfSBbc3RhY2tdXG4gKi9cbi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXRlKHYsIHN0YWNrKSB7XG5cdGNvbnN0IHMgPSBzb3VyY2Uodiwgc3RhY2spO1xuXG5cdHB1c2hfcmVhY3Rpb25fdmFsdWUocyk7XG5cblx0cmV0dXJuIHM7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7Vn0gaW5pdGlhbF92YWx1ZVxuICogQHBhcmFtIHtib29sZWFufSBbaW1tdXRhYmxlXVxuICogQHJldHVybnMge1NvdXJjZTxWPn1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gbXV0YWJsZV9zb3VyY2UoaW5pdGlhbF92YWx1ZSwgaW1tdXRhYmxlID0gZmFsc2UsIHRyYWNrYWJsZSA9IHRydWUpIHtcblx0Y29uc3QgcyA9IHNvdXJjZShpbml0aWFsX3ZhbHVlKTtcblx0aWYgKCFpbW11dGFibGUpIHtcblx0XHRzLmVxdWFscyA9IHNhZmVfZXF1YWxzO1xuXHR9XG5cblx0Ly8gYmluZCB0aGUgc2lnbmFsIHRvIHRoZSBjb21wb25lbnQgY29udGV4dCwgaW4gY2FzZSB3ZSBuZWVkIHRvXG5cdC8vIHRyYWNrIHVwZGF0ZXMgdG8gdHJpZ2dlciBiZWZvcmVVcGRhdGUvYWZ0ZXJVcGRhdGUgY2FsbGJhY2tzXG5cdGlmIChsZWdhY3lfbW9kZV9mbGFnICYmIHRyYWNrYWJsZSAmJiBjb21wb25lbnRfY29udGV4dCAhPT0gbnVsbCAmJiBjb21wb25lbnRfY29udGV4dC5sICE9PSBudWxsKSB7XG5cdFx0KGNvbXBvbmVudF9jb250ZXh0LmwucyA/Pz0gW10pLnB1c2gocyk7XG5cdH1cblxuXHRyZXR1cm4gcztcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtWYWx1ZTxWPn0gc291cmNlXG4gKiBAcGFyYW0ge1Z9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdXRhdGUoc291cmNlLCB2YWx1ZSkge1xuXHRzZXQoXG5cdFx0c291cmNlLFxuXHRcdHVudHJhY2soKCkgPT4gZ2V0KHNvdXJjZSkpXG5cdCk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtTb3VyY2U8Vj59IHNvdXJjZVxuICogQHBhcmFtIHtWfSB2YWx1ZVxuICogQHBhcmFtIHtib29sZWFufSBbc2hvdWxkX3Byb3h5XVxuICogQHJldHVybnMge1Z9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQoc291cmNlLCB2YWx1ZSwgc2hvdWxkX3Byb3h5ID0gZmFsc2UpIHtcblx0aWYgKFxuXHRcdGFjdGl2ZV9yZWFjdGlvbiAhPT0gbnVsbCAmJlxuXHRcdC8vIHNpbmNlIHdlIGFyZSB1bnRyYWNraW5nIHRoZSBmdW5jdGlvbiBpbnNpZGUgYCRpbnNwZWN0LndpdGhgIHdlIG5lZWQgdG8gYWRkIHRoaXMgY2hlY2tcblx0XHQvLyB0byBlbnN1cmUgd2UgZXJyb3IgaWYgc3RhdGUgaXMgc2V0IGluc2lkZSBhbiBpbnNwZWN0IGVmZmVjdFxuXHRcdCghdW50cmFja2luZyB8fCAoYWN0aXZlX3JlYWN0aW9uLmYgJiBJTlNQRUNUX0VGRkVDVCkgIT09IDApICYmXG5cdFx0aXNfcnVuZXMoKSAmJlxuXHRcdChhY3RpdmVfcmVhY3Rpb24uZiAmIChERVJJVkVEIHwgQkxPQ0tfRUZGRUNUIHwgQVNZTkMgfCBJTlNQRUNUX0VGRkVDVCkpICE9PSAwICYmXG5cdFx0IWN1cnJlbnRfc291cmNlcz8uaW5jbHVkZXMoc291cmNlKVxuXHQpIHtcblx0XHRlLnN0YXRlX3Vuc2FmZV9tdXRhdGlvbigpO1xuXHR9XG5cblx0bGV0IG5ld192YWx1ZSA9IHNob3VsZF9wcm94eSA/IHByb3h5KHZhbHVlKSA6IHZhbHVlO1xuXG5cdGlmIChERVYpIHtcblx0XHR0YWdfcHJveHkobmV3X3ZhbHVlLCAvKiogQHR5cGUge3N0cmluZ30gKi8gKHNvdXJjZS5sYWJlbCkpO1xuXHR9XG5cblx0cmV0dXJuIGludGVybmFsX3NldChzb3VyY2UsIG5ld192YWx1ZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7U291cmNlPFY+fSBzb3VyY2VcbiAqIEBwYXJhbSB7Vn0gdmFsdWVcbiAqIEByZXR1cm5zIHtWfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJuYWxfc2V0KHNvdXJjZSwgdmFsdWUpIHtcblx0aWYgKCFzb3VyY2UuZXF1YWxzKHZhbHVlKSkge1xuXHRcdHZhciBvbGRfdmFsdWUgPSBzb3VyY2UudjtcblxuXHRcdGlmIChpc19kZXN0cm95aW5nX2VmZmVjdCkge1xuXHRcdFx0b2xkX3ZhbHVlcy5zZXQoc291cmNlLCB2YWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9sZF92YWx1ZXMuc2V0KHNvdXJjZSwgb2xkX3ZhbHVlKTtcblx0XHR9XG5cblx0XHRzb3VyY2UudiA9IHZhbHVlO1xuXG5cdFx0Y29uc3QgYmF0Y2ggPSBCYXRjaC5lbnN1cmUoKTtcblx0XHRiYXRjaC5jYXB0dXJlKHNvdXJjZSwgb2xkX3ZhbHVlKTtcblxuXHRcdGlmIChERVYpIHtcblx0XHRcdGlmICh0cmFjaW5nX21vZGVfZmxhZyB8fCBhY3RpdmVfZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0XHRcdGNvbnN0IGVycm9yID0gZ2V0X3N0YWNrKCdVcGRhdGVkQXQnKTtcblxuXHRcdFx0XHRpZiAoZXJyb3IgIT09IG51bGwpIHtcblx0XHRcdFx0XHRzb3VyY2UudXBkYXRlZCA/Pz0gbmV3IE1hcCgpO1xuXHRcdFx0XHRcdGxldCBlbnRyeSA9IHNvdXJjZS51cGRhdGVkLmdldChlcnJvci5zdGFjayk7XG5cblx0XHRcdFx0XHRpZiAoIWVudHJ5KSB7XG5cdFx0XHRcdFx0XHRlbnRyeSA9IHsgZXJyb3IsIGNvdW50OiAwIH07XG5cdFx0XHRcdFx0XHRzb3VyY2UudXBkYXRlZC5zZXQoZXJyb3Iuc3RhY2ssIGVudHJ5KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbnRyeS5jb3VudCsrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChhY3RpdmVfZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0XHRcdHNvdXJjZS5zZXRfZHVyaW5nX2VmZmVjdCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKChzb3VyY2UuZiAmIERFUklWRUQpICE9PSAwKSB7XG5cdFx0XHQvLyBpZiB3ZSBhcmUgYXNzaWduaW5nIHRvIGEgZGlydHkgZGVyaXZlZCB3ZSBzZXQgaXQgdG8gY2xlYW4vbWF5YmUgZGlydHkgYnV0IHdlIGFsc28gZWFnZXJseSBleGVjdXRlIGl0IHRvIHRyYWNrIHRoZSBkZXBlbmRlbmNpZXNcblx0XHRcdGlmICgoc291cmNlLmYgJiBESVJUWSkgIT09IDApIHtcblx0XHRcdFx0ZXhlY3V0ZV9kZXJpdmVkKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHNvdXJjZSkpO1xuXHRcdFx0fVxuXHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMoc291cmNlLCAoc291cmNlLmYgJiBVTk9XTkVEKSA9PT0gMCA/IENMRUFOIDogTUFZQkVfRElSVFkpO1xuXHRcdH1cblxuXHRcdHNvdXJjZS53diA9IGluY3JlbWVudF93cml0ZV92ZXJzaW9uKCk7XG5cblx0XHRtYXJrX3JlYWN0aW9ucyhzb3VyY2UsIERJUlRZKTtcblxuXHRcdC8vIEl0J3MgcG9zc2libGUgdGhhdCB0aGUgY3VycmVudCByZWFjdGlvbiBtaWdodCBub3QgaGF2ZSB1cC10by1kYXRlIGRlcGVuZGVuY2llc1xuXHRcdC8vIHdoaWxzdCBpdCdzIGFjdGl2ZWx5IHJ1bm5pbmcuIFNvIGluIHRoZSBjYXNlIG9mIGVuc3VyaW5nIGl0IHJlZ2lzdGVycyB0aGUgcmVhY3Rpb25cblx0XHQvLyBwcm9wZXJseSBmb3IgaXRzZWxmLCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgY3VycmVudCBlZmZlY3QgYWN0dWFsbHkgZ2V0c1xuXHRcdC8vIHNjaGVkdWxlZC4gaS5lOiBgJGVmZmVjdCgoKSA9PiB4KyspYFxuXHRcdGlmIChcblx0XHRcdGlzX3J1bmVzKCkgJiZcblx0XHRcdGFjdGl2ZV9lZmZlY3QgIT09IG51bGwgJiZcblx0XHRcdChhY3RpdmVfZWZmZWN0LmYgJiBDTEVBTikgIT09IDAgJiZcblx0XHRcdChhY3RpdmVfZWZmZWN0LmYgJiAoQlJBTkNIX0VGRkVDVCB8IFJPT1RfRUZGRUNUKSkgPT09IDBcblx0XHQpIHtcblx0XHRcdGlmICh1bnRyYWNrZWRfd3JpdGVzID09PSBudWxsKSB7XG5cdFx0XHRcdHNldF91bnRyYWNrZWRfd3JpdGVzKFtzb3VyY2VdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHVudHJhY2tlZF93cml0ZXMucHVzaChzb3VyY2UpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChERVYgJiYgaW5zcGVjdF9lZmZlY3RzLnNpemUgPiAwICYmICFpbnNwZWN0X2VmZmVjdHNfZGVmZXJyZWQpIHtcblx0XHRcdGZsdXNoX2luc3BlY3RfZWZmZWN0cygpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoX2luc3BlY3RfZWZmZWN0cygpIHtcblx0aW5zcGVjdF9lZmZlY3RzX2RlZmVycmVkID0gZmFsc2U7XG5cblx0Y29uc3QgaW5zcGVjdHMgPSBBcnJheS5mcm9tKGluc3BlY3RfZWZmZWN0cyk7XG5cblx0Zm9yIChjb25zdCBlZmZlY3Qgb2YgaW5zcGVjdHMpIHtcblx0XHQvLyBNYXJrIGNsZWFuIGluc3BlY3QtZWZmZWN0cyBhcyBtYXliZSBkaXJ0eSBhbmQgdGhlbiBjaGVjayB0aGVpciBkaXJ0aW5lc3Ncblx0XHQvLyBpbnN0ZWFkIG9mIGp1c3QgdXBkYXRpbmcgdGhlIGVmZmVjdHMgLSB0aGlzIHdheSB3ZSBhdm9pZCBvdmVyZmlyaW5nLlxuXHRcdGlmICgoZWZmZWN0LmYgJiBDTEVBTikgIT09IDApIHtcblx0XHRcdHNldF9zaWduYWxfc3RhdHVzKGVmZmVjdCwgTUFZQkVfRElSVFkpO1xuXHRcdH1cblxuXHRcdGlmIChpc19kaXJ0eShlZmZlY3QpKSB7XG5cdFx0XHR1cGRhdGVfZWZmZWN0KGVmZmVjdCk7XG5cdFx0fVxuXHR9XG5cblx0aW5zcGVjdF9lZmZlY3RzLmNsZWFyKCk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtudW1iZXIgfCBiaWdpbnR9IFRcbiAqIEBwYXJhbSB7U291cmNlPFQ+fSBzb3VyY2VcbiAqIEBwYXJhbSB7MSB8IC0xfSBbZF1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKHNvdXJjZSwgZCA9IDEpIHtcblx0dmFyIHZhbHVlID0gZ2V0KHNvdXJjZSk7XG5cdHZhciByZXN1bHQgPSBkID09PSAxID8gdmFsdWUrKyA6IHZhbHVlLS07XG5cblx0c2V0KHNvdXJjZSwgdmFsdWUpO1xuXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge251bWJlciB8IGJpZ2ludH0gVFxuICogQHBhcmFtIHtTb3VyY2U8VD59IHNvdXJjZVxuICogQHBhcmFtIHsxIHwgLTF9IFtkXVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfcHJlKHNvdXJjZSwgZCA9IDEpIHtcblx0dmFyIHZhbHVlID0gZ2V0KHNvdXJjZSk7XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRyZXR1cm4gc2V0KHNvdXJjZSwgZCA9PT0gMSA/ICsrdmFsdWUgOiAtLXZhbHVlKTtcbn1cblxuLyoqXG4gKiBTaWxlbnRseSAod2l0aG91dCB1c2luZyBgZ2V0YCkgaW5jcmVtZW50IGEgc291cmNlXG4gKiBAcGFyYW0ge1NvdXJjZTxudW1iZXI+fSBzb3VyY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluY3JlbWVudChzb3VyY2UpIHtcblx0c2V0KHNvdXJjZSwgc291cmNlLnYgKyAxKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZhbHVlfSBzaWduYWxcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGF0dXMgc2hvdWxkIGJlIERJUlRZIG9yIE1BWUJFX0RJUlRZXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gbWFya19yZWFjdGlvbnMoc2lnbmFsLCBzdGF0dXMpIHtcblx0dmFyIHJlYWN0aW9ucyA9IHNpZ25hbC5yZWFjdGlvbnM7XG5cdGlmIChyZWFjdGlvbnMgPT09IG51bGwpIHJldHVybjtcblxuXHR2YXIgcnVuZXMgPSBpc19ydW5lcygpO1xuXHR2YXIgbGVuZ3RoID0gcmVhY3Rpb25zLmxlbmd0aDtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHJlYWN0aW9uID0gcmVhY3Rpb25zW2ldO1xuXHRcdHZhciBmbGFncyA9IHJlYWN0aW9uLmY7XG5cblx0XHQvLyBTa2lwIGFueSBlZmZlY3RzIHRoYXQgYXJlIGFscmVhZHkgZGlydHlcblx0XHRpZiAoKGZsYWdzICYgRElSVFkpICE9PSAwKSBjb250aW51ZTtcblxuXHRcdC8vIEluIGxlZ2FjeSBtb2RlLCBza2lwIHRoZSBjdXJyZW50IGVmZmVjdCB0byBwcmV2ZW50IGluZmluaXRlIGxvb3BzXG5cdFx0aWYgKCFydW5lcyAmJiByZWFjdGlvbiA9PT0gYWN0aXZlX2VmZmVjdCkgY29udGludWU7XG5cblx0XHQvLyBJbnNwZWN0IGVmZmVjdHMgbmVlZCB0byBydW4gaW1tZWRpYXRlbHksIHNvIHRoYXQgdGhlIHN0YWNrIHRyYWNlIG1ha2VzIHNlbnNlXG5cdFx0aWYgKERFViAmJiAoZmxhZ3MgJiBJTlNQRUNUX0VGRkVDVCkgIT09IDApIHtcblx0XHRcdGluc3BlY3RfZWZmZWN0cy5hZGQocmVhY3Rpb24pO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0c2V0X3NpZ25hbF9zdGF0dXMocmVhY3Rpb24sIHN0YXR1cyk7XG5cblx0XHQvLyBJZiB0aGUgc2lnbmFsIGEpIHdhcyBwcmV2aW91c2x5IGNsZWFuIG9yIGIpIGlzIGFuIHVub3duZWQgZGVyaXZlZCwgdGhlbiBtYXJrIGl0XG5cdFx0aWYgKChmbGFncyAmIChDTEVBTiB8IFVOT1dORUQpKSAhPT0gMCkge1xuXHRcdFx0aWYgKChmbGFncyAmIERFUklWRUQpICE9PSAwKSB7XG5cdFx0XHRcdG1hcmtfcmVhY3Rpb25zKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHJlYWN0aW9uKSwgTUFZQkVfRElSVFkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2NoZWR1bGVfZWZmZWN0KC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAocmVhY3Rpb24pKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiIsIi8qKiBAaW1wb3J0IHsgRGVyaXZlZCwgRWZmZWN0LCBSZWFjdGlvbiwgU2lnbmFsLCBTb3VyY2UsIFZhbHVlIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgZ2V0X2Rlc2NyaXB0b3JzLCBnZXRfcHJvdG90eXBlX29mLCBpbmRleF9vZiB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQge1xuXHRkZXN0cm95X2Jsb2NrX2VmZmVjdF9jaGlsZHJlbixcblx0ZGVzdHJveV9lZmZlY3RfY2hpbGRyZW4sXG5cdGV4ZWN1dGVfZWZmZWN0X3RlYXJkb3duXG59IGZyb20gJy4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7XG5cdERJUlRZLFxuXHRNQVlCRV9ESVJUWSxcblx0Q0xFQU4sXG5cdERFUklWRUQsXG5cdFVOT1dORUQsXG5cdERFU1RST1lFRCxcblx0QlJBTkNIX0VGRkVDVCxcblx0U1RBVEVfU1lNQk9MLFxuXHRCTE9DS19FRkZFQ1QsXG5cdFJPT1RfRUZGRUNULFxuXHRESVNDT05ORUNURUQsXG5cdFJFQUNUSU9OX0lTX1VQREFUSU5HLFxuXHRTVEFMRV9SRUFDVElPTixcblx0RVJST1JfVkFMVUVcbn0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgaW50ZXJuYWxfc2V0LCBvbGRfdmFsdWVzIH0gZnJvbSAnLi9yZWFjdGl2aXR5L3NvdXJjZXMuanMnO1xuaW1wb3J0IHtcblx0ZGVzdHJveV9kZXJpdmVkX2VmZmVjdHMsXG5cdGV4ZWN1dGVfZGVyaXZlZCxcblx0Y3VycmVudF9hc3luY19lZmZlY3QsXG5cdHJlY2VudF9hc3luY19kZXJpdmVkcyxcblx0dXBkYXRlX2Rlcml2ZWRcbn0gZnJvbSAnLi9yZWFjdGl2aXR5L2Rlcml2ZWRzLmpzJztcbmltcG9ydCB7IGFzeW5jX21vZGVfZmxhZywgdHJhY2luZ19tb2RlX2ZsYWcgfSBmcm9tICcuLi9mbGFncy9pbmRleC5qcyc7XG5pbXBvcnQgeyB0cmFjaW5nX2V4cHJlc3Npb25zLCBnZXRfc3RhY2sgfSBmcm9tICcuL2Rldi90cmFjaW5nLmpzJztcbmltcG9ydCB7XG5cdGNvbXBvbmVudF9jb250ZXh0LFxuXHRkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24sXG5cdGRldl9zdGFjayxcblx0aXNfcnVuZXMsXG5cdHNldF9jb21wb25lbnRfY29udGV4dCxcblx0c2V0X2Rldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbixcblx0c2V0X2Rldl9zdGFja1xufSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0ICogYXMgdyBmcm9tICcuL3dhcm5pbmdzLmpzJztcbmltcG9ydCB7IEJhdGNoLCBiYXRjaF9kZXJpdmVkcywgZmx1c2hTeW5jLCBzY2hlZHVsZV9lZmZlY3QgfSBmcm9tICcuL3JlYWN0aXZpdHkvYmF0Y2guanMnO1xuaW1wb3J0IHsgaGFuZGxlX2Vycm9yIH0gZnJvbSAnLi9lcnJvci1oYW5kbGluZy5qcyc7XG5pbXBvcnQgeyBVTklOSVRJQUxJWkVEIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLmpzJztcblxuZXhwb3J0IGxldCBpc191cGRhdGluZ19lZmZlY3QgPSBmYWxzZTtcblxuLyoqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaXNfdXBkYXRpbmdfZWZmZWN0KHZhbHVlKSB7XG5cdGlzX3VwZGF0aW5nX2VmZmVjdCA9IHZhbHVlO1xufVxuXG5leHBvcnQgbGV0IGlzX2Rlc3Ryb3lpbmdfZWZmZWN0ID0gZmFsc2U7XG5cbi8qKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2lzX2Rlc3Ryb3lpbmdfZWZmZWN0KHZhbHVlKSB7XG5cdGlzX2Rlc3Ryb3lpbmdfZWZmZWN0ID0gdmFsdWU7XG59XG5cbi8qKiBAdHlwZSB7bnVsbCB8IFJlYWN0aW9ufSAqL1xuZXhwb3J0IGxldCBhY3RpdmVfcmVhY3Rpb24gPSBudWxsO1xuXG5leHBvcnQgbGV0IHVudHJhY2tpbmcgPSBmYWxzZTtcblxuLyoqIEBwYXJhbSB7bnVsbCB8IFJlYWN0aW9ufSByZWFjdGlvbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9hY3RpdmVfcmVhY3Rpb24ocmVhY3Rpb24pIHtcblx0YWN0aXZlX3JlYWN0aW9uID0gcmVhY3Rpb247XG59XG5cbi8qKiBAdHlwZSB7bnVsbCB8IEVmZmVjdH0gKi9cbmV4cG9ydCBsZXQgYWN0aXZlX2VmZmVjdCA9IG51bGw7XG5cbi8qKiBAcGFyYW0ge251bGwgfCBFZmZlY3R9IGVmZmVjdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9hY3RpdmVfZWZmZWN0KGVmZmVjdCkge1xuXHRhY3RpdmVfZWZmZWN0ID0gZWZmZWN0O1xufVxuXG4vKipcbiAqIFdoZW4gc291cmNlcyBhcmUgY3JlYXRlZCB3aXRoaW4gYSByZWFjdGlvbiwgcmVhZGluZyBhbmQgd3JpdGluZ1xuICogdGhlbSB3aXRoaW4gdGhhdCByZWFjdGlvbiBzaG91bGQgbm90IGNhdXNlIGEgcmUtcnVuXG4gKiBAdHlwZSB7bnVsbCB8IFNvdXJjZVtdfVxuICovXG5leHBvcnQgbGV0IGN1cnJlbnRfc291cmNlcyA9IG51bGw7XG5cbi8qKiBAcGFyYW0ge1ZhbHVlfSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1c2hfcmVhY3Rpb25fdmFsdWUodmFsdWUpIHtcblx0aWYgKGFjdGl2ZV9yZWFjdGlvbiAhPT0gbnVsbCAmJiAoIWFzeW5jX21vZGVfZmxhZyB8fCAoYWN0aXZlX3JlYWN0aW9uLmYgJiBERVJJVkVEKSAhPT0gMCkpIHtcblx0XHRpZiAoY3VycmVudF9zb3VyY2VzID09PSBudWxsKSB7XG5cdFx0XHRjdXJyZW50X3NvdXJjZXMgPSBbdmFsdWVdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJyZW50X3NvdXJjZXMucHVzaCh2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogVGhlIGRlcGVuZGVuY2llcyBvZiB0aGUgcmVhY3Rpb24gdGhhdCBpcyBjdXJyZW50bHkgYmVpbmcgZXhlY3V0ZWQuIEluIG1hbnkgY2FzZXMsXG4gKiB0aGUgZGVwZW5kZW5jaWVzIGFyZSB1bmNoYW5nZWQgYmV0d2VlbiBydW5zLCBhbmQgc28gdGhpcyB3aWxsIGJlIGBudWxsYCB1bmxlc3NcbiAqIGFuZCB1bnRpbCBhIG5ldyBkZXBlbmRlbmN5IGlzIGFjY2Vzc2VkIOKAlCB3ZSB0cmFjayB0aGlzIHZpYSBgc2tpcHBlZF9kZXBzYFxuICogQHR5cGUge251bGwgfCBWYWx1ZVtdfVxuICovXG5sZXQgbmV3X2RlcHMgPSBudWxsO1xuXG5sZXQgc2tpcHBlZF9kZXBzID0gMDtcblxuLyoqXG4gKiBUcmFja3Mgd3JpdGVzIHRoYXQgdGhlIGVmZmVjdCBpdCdzIGV4ZWN1dGVkIGluIGRvZXNuJ3QgbGlzdGVuIHRvIHlldCxcbiAqIHNvIHRoYXQgdGhlIGRlcGVuZGVuY3kgY2FuIGJlIGFkZGVkIHRvIHRoZSBlZmZlY3QgbGF0ZXIgb24gaWYgaXQgdGhlbiByZWFkcyBpdFxuICogQHR5cGUge251bGwgfCBTb3VyY2VbXX1cbiAqL1xuZXhwb3J0IGxldCB1bnRyYWNrZWRfd3JpdGVzID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7bnVsbCB8IFNvdXJjZVtdfSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF91bnRyYWNrZWRfd3JpdGVzKHZhbHVlKSB7XG5cdHVudHJhY2tlZF93cml0ZXMgPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfSBVc2VkIGJ5IHNvdXJjZXMgYW5kIGRlcml2ZWRzIGZvciBoYW5kbGluZyB1cGRhdGVzLlxuICogVmVyc2lvbiBzdGFydHMgZnJvbSAxIHNvIHRoYXQgdW5vd25lZCBkZXJpdmVkcyBkaWZmZXJlbnRpYXRlIGJldHdlZW4gYSBjcmVhdGVkIGVmZmVjdCBhbmQgYSBydW4gb25lIGZvciB0cmFjaW5nXG4gKiovXG5leHBvcnQgbGV0IHdyaXRlX3ZlcnNpb24gPSAxO1xuXG4vKiogQHR5cGUge251bWJlcn0gVXNlZCB0byB2ZXJzaW9uIGVhY2ggcmVhZCBvZiBhIHNvdXJjZSBvZiBkZXJpdmVkIHRvIGF2b2lkIGR1cGxpY2F0aW5nIGRlcGVkZW5jaWVzIGluc2lkZSBhIHJlYWN0aW9uICovXG5sZXQgcmVhZF92ZXJzaW9uID0gMDtcblxuZXhwb3J0IGxldCB1cGRhdGVfdmVyc2lvbiA9IHJlYWRfdmVyc2lvbjtcblxuLyoqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF91cGRhdGVfdmVyc2lvbih2YWx1ZSkge1xuXHR1cGRhdGVfdmVyc2lvbiA9IHZhbHVlO1xufVxuXG4vLyBJZiB3ZSBhcmUgd29ya2luZyB3aXRoIGEgZ2V0KCkgY2hhaW4gdGhhdCBoYXMgbm8gYWN0aXZlIGNvbnRhaW5lcixcbi8vIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLCB3ZSBza2lwIGFkZGluZyB0aGUgcmVhY3Rpb24uXG5leHBvcnQgbGV0IHNraXBfcmVhY3Rpb24gPSBmYWxzZTtcbi8vIEhhbmRsZSBjb2xsZWN0aW5nIGFsbCBzaWduYWxzIHdoaWNoIGFyZSByZWFkIGR1cmluZyBhIHNwZWNpZmljIHRpbWUgZnJhbWVcbi8qKiBAdHlwZSB7U2V0PFZhbHVlPiB8IG51bGx9ICovXG5leHBvcnQgbGV0IGNhcHR1cmVkX3NpZ25hbHMgPSBudWxsO1xuXG4vKiogQHBhcmFtIHtTZXQ8VmFsdWU+IHwgbnVsbH0gdmFsdWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY2FwdHVyZWRfc2lnbmFscyh2YWx1ZSkge1xuXHRjYXB0dXJlZF9zaWduYWxzID0gdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbigpIHtcblx0cmV0dXJuICsrd3JpdGVfdmVyc2lvbjtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBkZXJpdmVkIG9yIGVmZmVjdCBpcyBkaXJ0eS5cbiAqIElmIGl0IGlzIE1BWUJFX0RJUlRZLCB3aWxsIHNldCB0aGUgc3RhdHVzIHRvIENMRUFOXG4gKiBAcGFyYW0ge1JlYWN0aW9ufSByZWFjdGlvblxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19kaXJ0eShyZWFjdGlvbikge1xuXHR2YXIgZmxhZ3MgPSByZWFjdGlvbi5mO1xuXG5cdGlmICgoZmxhZ3MgJiBESVJUWSkgIT09IDApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmICgoZmxhZ3MgJiBNQVlCRV9ESVJUWSkgIT09IDApIHtcblx0XHR2YXIgZGVwZW5kZW5jaWVzID0gcmVhY3Rpb24uZGVwcztcblx0XHR2YXIgaXNfdW5vd25lZCA9IChmbGFncyAmIFVOT1dORUQpICE9PSAwO1xuXG5cdFx0aWYgKGRlcGVuZGVuY2llcyAhPT0gbnVsbCkge1xuXHRcdFx0dmFyIGk7XG5cdFx0XHR2YXIgZGVwZW5kZW5jeTtcblx0XHRcdHZhciBpc19kaXNjb25uZWN0ZWQgPSAoZmxhZ3MgJiBESVNDT05ORUNURUQpICE9PSAwO1xuXHRcdFx0dmFyIGlzX3Vub3duZWRfY29ubmVjdGVkID0gaXNfdW5vd25lZCAmJiBhY3RpdmVfZWZmZWN0ICE9PSBudWxsICYmICFza2lwX3JlYWN0aW9uO1xuXHRcdFx0dmFyIGxlbmd0aCA9IGRlcGVuZGVuY2llcy5sZW5ndGg7XG5cblx0XHRcdC8vIElmIHdlIGFyZSB3b3JraW5nIHdpdGggYSBkaXNjb25uZWN0ZWQgb3IgYW4gdW5vd25lZCBzaWduYWwgdGhhdCBpcyBub3cgY29ubmVjdGVkIChkdWUgdG8gYW4gYWN0aXZlIGVmZmVjdClcblx0XHRcdC8vIHRoZW4gd2UgbmVlZCB0byByZS1jb25uZWN0IHRoZSByZWFjdGlvbiB0byB0aGUgZGVwZW5kZW5jeSwgdW5sZXNzIHRoZSBlZmZlY3QgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWRcblx0XHRcdC8vICh3aGljaCBjYW4gaGFwcGVuIGlmIHRoZSBkZXJpdmVkIGlzIHJlYWQgYnkgYW4gYXN5bmMgZGVyaXZlZClcblx0XHRcdGlmIChcblx0XHRcdFx0KGlzX2Rpc2Nvbm5lY3RlZCB8fCBpc191bm93bmVkX2Nvbm5lY3RlZCkgJiZcblx0XHRcdFx0KGFjdGl2ZV9lZmZlY3QgPT09IG51bGwgfHwgKGFjdGl2ZV9lZmZlY3QuZiAmIERFU1RST1lFRCkgPT09IDApXG5cdFx0XHQpIHtcblx0XHRcdFx0dmFyIGRlcml2ZWQgPSAvKiogQHR5cGUge0Rlcml2ZWR9ICovIChyZWFjdGlvbik7XG5cdFx0XHRcdHZhciBwYXJlbnQgPSBkZXJpdmVkLnBhcmVudDtcblxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gZGVwZW5kZW5jaWVzW2ldO1xuXG5cdFx0XHRcdFx0Ly8gV2UgYWx3YXlzIHJlLWFkZCBhbGwgcmVhY3Rpb25zIChldmVuIGR1cGxpY2F0ZXMpIGlmIHRoZSBkZXJpdmVkIHdhc1xuXHRcdFx0XHRcdC8vIHByZXZpb3VzbHkgZGlzY29ubmVjdGVkLCBob3dldmVyIHdlIGRvbid0IGlmIGl0IHdhcyB1bm93bmVkIGFzIHdlXG5cdFx0XHRcdFx0Ly8gZGUtZHVwbGljYXRlIGRlcGVuZGVuY2llcyBpbiB0aGF0IGNhc2Vcblx0XHRcdFx0XHRpZiAoaXNfZGlzY29ubmVjdGVkIHx8ICFkZXBlbmRlbmN5Py5yZWFjdGlvbnM/LmluY2x1ZGVzKGRlcml2ZWQpKSB7XG5cdFx0XHRcdFx0XHQoZGVwZW5kZW5jeS5yZWFjdGlvbnMgPz89IFtdKS5wdXNoKGRlcml2ZWQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpc19kaXNjb25uZWN0ZWQpIHtcblx0XHRcdFx0XHRkZXJpdmVkLmYgXj0gRElTQ09OTkVDVEVEO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIElmIHRoZSB1bm93bmVkIGRlcml2ZWQgaXMgbm93IGZ1bGx5IGNvbm5lY3RlZCB0byB0aGUgZ3JhcGggYWdhaW4gKGl0J3MgdW5vd25lZCBhbmQgcmVjb25uZWN0ZWQsIGhhcyBhIHBhcmVudFxuXHRcdFx0XHQvLyBhbmQgdGhlIHBhcmVudCBpcyBub3QgdW5vd25lZCksIHRoZW4gd2UgY2FuIG1hcmsgaXQgYXMgY29ubmVjdGVkIGFnYWluLCByZW1vdmluZyB0aGUgbmVlZCBmb3IgdGhlIHVub3duZWRcblx0XHRcdFx0Ly8gZmxhZ1xuXHRcdFx0XHRpZiAoaXNfdW5vd25lZF9jb25uZWN0ZWQgJiYgcGFyZW50ICE9PSBudWxsICYmIChwYXJlbnQuZiAmIFVOT1dORUQpID09PSAwKSB7XG5cdFx0XHRcdFx0ZGVyaXZlZC5mIF49IFVOT1dORUQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGRlcGVuZGVuY3kgPSBkZXBlbmRlbmNpZXNbaV07XG5cblx0XHRcdFx0aWYgKGlzX2RpcnR5KC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcGVuZGVuY3kpKSkge1xuXHRcdFx0XHRcdHVwZGF0ZV9kZXJpdmVkKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcGVuZGVuY3kpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChkZXBlbmRlbmN5Lnd2ID4gcmVhY3Rpb24ud3YpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFVub3duZWQgc2lnbmFscyBzaG91bGQgbmV2ZXIgYmUgbWFya2VkIGFzIGNsZWFuIHVubGVzcyB0aGV5XG5cdFx0Ly8gYXJlIHVzZWQgd2l0aGluIGFuIGFjdGl2ZV9lZmZlY3Qgd2l0aG91dCBza2lwX3JlYWN0aW9uXG5cdFx0aWYgKCFpc191bm93bmVkIHx8IChhY3RpdmVfZWZmZWN0ICE9PSBudWxsICYmICFza2lwX3JlYWN0aW9uKSkge1xuXHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMocmVhY3Rpb24sIENMRUFOKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtWYWx1ZX0gc2lnbmFsXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyb290XVxuICovXG5mdW5jdGlvbiBzY2hlZHVsZV9wb3NzaWJsZV9lZmZlY3Rfc2VsZl9pbnZhbGlkYXRpb24oc2lnbmFsLCBlZmZlY3QsIHJvb3QgPSB0cnVlKSB7XG5cdHZhciByZWFjdGlvbnMgPSBzaWduYWwucmVhY3Rpb25zO1xuXHRpZiAocmVhY3Rpb25zID09PSBudWxsKSByZXR1cm47XG5cblx0aWYgKCFhc3luY19tb2RlX2ZsYWcgJiYgY3VycmVudF9zb3VyY2VzPy5pbmNsdWRlcyhzaWduYWwpKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCByZWFjdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgcmVhY3Rpb24gPSByZWFjdGlvbnNbaV07XG5cblx0XHRpZiAoKHJlYWN0aW9uLmYgJiBERVJJVkVEKSAhPT0gMCkge1xuXHRcdFx0c2NoZWR1bGVfcG9zc2libGVfZWZmZWN0X3NlbGZfaW52YWxpZGF0aW9uKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHJlYWN0aW9uKSwgZWZmZWN0LCBmYWxzZSk7XG5cdFx0fSBlbHNlIGlmIChlZmZlY3QgPT09IHJlYWN0aW9uKSB7XG5cdFx0XHRpZiAocm9vdCkge1xuXHRcdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhyZWFjdGlvbiwgRElSVFkpO1xuXHRcdFx0fSBlbHNlIGlmICgocmVhY3Rpb24uZiAmIENMRUFOKSAhPT0gMCkge1xuXHRcdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhyZWFjdGlvbiwgTUFZQkVfRElSVFkpO1xuXHRcdFx0fVxuXHRcdFx0c2NoZWR1bGVfZWZmZWN0KC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAocmVhY3Rpb24pKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqIEBwYXJhbSB7UmVhY3Rpb259IHJlYWN0aW9uICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3JlYWN0aW9uKHJlYWN0aW9uKSB7XG5cdHZhciBwcmV2aW91c19kZXBzID0gbmV3X2RlcHM7XG5cdHZhciBwcmV2aW91c19za2lwcGVkX2RlcHMgPSBza2lwcGVkX2RlcHM7XG5cdHZhciBwcmV2aW91c191bnRyYWNrZWRfd3JpdGVzID0gdW50cmFja2VkX3dyaXRlcztcblx0dmFyIHByZXZpb3VzX3JlYWN0aW9uID0gYWN0aXZlX3JlYWN0aW9uO1xuXHR2YXIgcHJldmlvdXNfc2tpcF9yZWFjdGlvbiA9IHNraXBfcmVhY3Rpb247XG5cdHZhciBwcmV2aW91c19zb3VyY2VzID0gY3VycmVudF9zb3VyY2VzO1xuXHR2YXIgcHJldmlvdXNfY29tcG9uZW50X2NvbnRleHQgPSBjb21wb25lbnRfY29udGV4dDtcblx0dmFyIHByZXZpb3VzX3VudHJhY2tpbmcgPSB1bnRyYWNraW5nO1xuXHR2YXIgcHJldmlvdXNfdXBkYXRlX3ZlcnNpb24gPSB1cGRhdGVfdmVyc2lvbjtcblxuXHR2YXIgZmxhZ3MgPSByZWFjdGlvbi5mO1xuXG5cdG5ld19kZXBzID0gLyoqIEB0eXBlIHtudWxsIHwgVmFsdWVbXX0gKi8gKG51bGwpO1xuXHRza2lwcGVkX2RlcHMgPSAwO1xuXHR1bnRyYWNrZWRfd3JpdGVzID0gbnVsbDtcblx0c2tpcF9yZWFjdGlvbiA9XG5cdFx0KGZsYWdzICYgVU5PV05FRCkgIT09IDAgJiYgKHVudHJhY2tpbmcgfHwgIWlzX3VwZGF0aW5nX2VmZmVjdCB8fCBhY3RpdmVfcmVhY3Rpb24gPT09IG51bGwpO1xuXHRhY3RpdmVfcmVhY3Rpb24gPSAoZmxhZ3MgJiAoQlJBTkNIX0VGRkVDVCB8IFJPT1RfRUZGRUNUKSkgPT09IDAgPyByZWFjdGlvbiA6IG51bGw7XG5cblx0Y3VycmVudF9zb3VyY2VzID0gbnVsbDtcblx0c2V0X2NvbXBvbmVudF9jb250ZXh0KHJlYWN0aW9uLmN0eCk7XG5cdHVudHJhY2tpbmcgPSBmYWxzZTtcblx0dXBkYXRlX3ZlcnNpb24gPSArK3JlYWRfdmVyc2lvbjtcblxuXHRpZiAocmVhY3Rpb24uYWMgIT09IG51bGwpIHtcblx0XHRyZWFjdGlvbi5hYy5hYm9ydChTVEFMRV9SRUFDVElPTik7XG5cdFx0cmVhY3Rpb24uYWMgPSBudWxsO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRyZWFjdGlvbi5mIHw9IFJFQUNUSU9OX0lTX1VQREFUSU5HO1xuXHRcdHZhciByZXN1bHQgPSAvKiogQHR5cGUge0Z1bmN0aW9ufSAqLyAoMCwgcmVhY3Rpb24uZm4pKCk7XG5cdFx0dmFyIGRlcHMgPSByZWFjdGlvbi5kZXBzO1xuXG5cdFx0aWYgKG5ld19kZXBzICE9PSBudWxsKSB7XG5cdFx0XHR2YXIgaTtcblxuXHRcdFx0cmVtb3ZlX3JlYWN0aW9ucyhyZWFjdGlvbiwgc2tpcHBlZF9kZXBzKTtcblxuXHRcdFx0aWYgKGRlcHMgIT09IG51bGwgJiYgc2tpcHBlZF9kZXBzID4gMCkge1xuXHRcdFx0XHRkZXBzLmxlbmd0aCA9IHNraXBwZWRfZGVwcyArIG5ld19kZXBzLmxlbmd0aDtcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG5ld19kZXBzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0ZGVwc1tza2lwcGVkX2RlcHMgKyBpXSA9IG5ld19kZXBzW2ldO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZWFjdGlvbi5kZXBzID0gZGVwcyA9IG5ld19kZXBzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdCFza2lwX3JlYWN0aW9uIHx8XG5cdFx0XHRcdC8vIERlcml2ZWRzIHRoYXQgYWxyZWFkeSBoYXZlIHJlYWN0aW9ucyBjYW4gY2xlYW51cCwgc28gd2Ugc3RpbGwgYWRkIHRoZW0gYXMgcmVhY3Rpb25zXG5cdFx0XHRcdCgoZmxhZ3MgJiBERVJJVkVEKSAhPT0gMCAmJlxuXHRcdFx0XHRcdC8qKiBAdHlwZSB7aW1wb3J0KCcjY2xpZW50JykuRGVyaXZlZH0gKi8gKHJlYWN0aW9uKS5yZWFjdGlvbnMgIT09IG51bGwpXG5cdFx0XHQpIHtcblx0XHRcdFx0Zm9yIChpID0gc2tpcHBlZF9kZXBzOyBpIDwgZGVwcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdChkZXBzW2ldLnJlYWN0aW9ucyA/Pz0gW10pLnB1c2gocmVhY3Rpb24pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChkZXBzICE9PSBudWxsICYmIHNraXBwZWRfZGVwcyA8IGRlcHMubGVuZ3RoKSB7XG5cdFx0XHRyZW1vdmVfcmVhY3Rpb25zKHJlYWN0aW9uLCBza2lwcGVkX2RlcHMpO1xuXHRcdFx0ZGVwcy5sZW5ndGggPSBza2lwcGVkX2RlcHM7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UncmUgaW5zaWRlIGFuIGVmZmVjdCBhbmQgd2UgaGF2ZSB1bnRyYWNrZWQgd3JpdGVzLCB0aGVuIHdlIG5lZWQgdG9cblx0XHQvLyBlbnN1cmUgdGhhdCBpZiBhbnkgb2YgdGhvc2UgdW50cmFja2VkIHdyaXRlcyByZXN1bHQgaW4gcmUtaW52YWxpZGF0aW9uXG5cdFx0Ly8gb2YgdGhlIGN1cnJlbnQgZWZmZWN0LCB0aGVuIHRoYXQgaGFwcGVucyBhY2NvcmRpbmdseVxuXHRcdGlmIChcblx0XHRcdGlzX3J1bmVzKCkgJiZcblx0XHRcdHVudHJhY2tlZF93cml0ZXMgIT09IG51bGwgJiZcblx0XHRcdCF1bnRyYWNraW5nICYmXG5cdFx0XHRkZXBzICE9PSBudWxsICYmXG5cdFx0XHQocmVhY3Rpb24uZiAmIChERVJJVkVEIHwgTUFZQkVfRElSVFkgfCBESVJUWSkpID09PSAwXG5cdFx0KSB7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgLyoqIEB0eXBlIHtTb3VyY2VbXX0gKi8gKHVudHJhY2tlZF93cml0ZXMpLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHNjaGVkdWxlX3Bvc3NpYmxlX2VmZmVjdF9zZWxmX2ludmFsaWRhdGlvbihcblx0XHRcdFx0XHR1bnRyYWNrZWRfd3JpdGVzW2ldLFxuXHRcdFx0XHRcdC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAocmVhY3Rpb24pXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UgYXJlIHJldHVybmluZyB0byBhbiBwcmV2aW91cyByZWFjdGlvbiB0aGVuXG5cdFx0Ly8gd2UgbmVlZCB0byBpbmNyZW1lbnQgdGhlIHJlYWQgdmVyc2lvbiB0byBlbnN1cmUgdGhhdFxuXHRcdC8vIGFueSBkZXBlbmRlbmNpZXMgaW4gdGhpcyByZWFjdGlvbiBhcmVuJ3QgbWFya2VkIHdpdGhcblx0XHQvLyB0aGUgc2FtZSB2ZXJzaW9uXG5cdFx0aWYgKHByZXZpb3VzX3JlYWN0aW9uICE9PSBudWxsICYmIHByZXZpb3VzX3JlYWN0aW9uICE9PSByZWFjdGlvbikge1xuXHRcdFx0cmVhZF92ZXJzaW9uKys7XG5cblx0XHRcdGlmICh1bnRyYWNrZWRfd3JpdGVzICE9PSBudWxsKSB7XG5cdFx0XHRcdGlmIChwcmV2aW91c191bnRyYWNrZWRfd3JpdGVzID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cHJldmlvdXNfdW50cmFja2VkX3dyaXRlcyA9IHVudHJhY2tlZF93cml0ZXM7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cHJldmlvdXNfdW50cmFja2VkX3dyaXRlcy5wdXNoKC4uLi8qKiBAdHlwZSB7U291cmNlW119ICovICh1bnRyYWNrZWRfd3JpdGVzKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoKHJlYWN0aW9uLmYgJiBFUlJPUl9WQUxVRSkgIT09IDApIHtcblx0XHRcdHJlYWN0aW9uLmYgXj0gRVJST1JfVkFMVUU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gaGFuZGxlX2Vycm9yKGVycm9yKTtcblx0fSBmaW5hbGx5IHtcblx0XHRyZWFjdGlvbi5mIF49IFJFQUNUSU9OX0lTX1VQREFUSU5HO1xuXHRcdG5ld19kZXBzID0gcHJldmlvdXNfZGVwcztcblx0XHRza2lwcGVkX2RlcHMgPSBwcmV2aW91c19za2lwcGVkX2RlcHM7XG5cdFx0dW50cmFja2VkX3dyaXRlcyA9IHByZXZpb3VzX3VudHJhY2tlZF93cml0ZXM7XG5cdFx0YWN0aXZlX3JlYWN0aW9uID0gcHJldmlvdXNfcmVhY3Rpb247XG5cdFx0c2tpcF9yZWFjdGlvbiA9IHByZXZpb3VzX3NraXBfcmVhY3Rpb247XG5cdFx0Y3VycmVudF9zb3VyY2VzID0gcHJldmlvdXNfc291cmNlcztcblx0XHRzZXRfY29tcG9uZW50X2NvbnRleHQocHJldmlvdXNfY29tcG9uZW50X2NvbnRleHQpO1xuXHRcdHVudHJhY2tpbmcgPSBwcmV2aW91c191bnRyYWNraW5nO1xuXHRcdHVwZGF0ZV92ZXJzaW9uID0gcHJldmlvdXNfdXBkYXRlX3ZlcnNpb247XG5cdH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtSZWFjdGlvbn0gc2lnbmFsXG4gKiBAcGFyYW0ge1ZhbHVlPFY+fSBkZXBlbmRlbmN5XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlX3JlYWN0aW9uKHNpZ25hbCwgZGVwZW5kZW5jeSkge1xuXHRsZXQgcmVhY3Rpb25zID0gZGVwZW5kZW5jeS5yZWFjdGlvbnM7XG5cdGlmIChyZWFjdGlvbnMgIT09IG51bGwpIHtcblx0XHR2YXIgaW5kZXggPSBpbmRleF9vZi5jYWxsKHJlYWN0aW9ucywgc2lnbmFsKTtcblx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHR2YXIgbmV3X2xlbmd0aCA9IHJlYWN0aW9ucy5sZW5ndGggLSAxO1xuXHRcdFx0aWYgKG5ld19sZW5ndGggPT09IDApIHtcblx0XHRcdFx0cmVhY3Rpb25zID0gZGVwZW5kZW5jeS5yZWFjdGlvbnMgPSBudWxsO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gU3dhcCB3aXRoIGxhc3QgZWxlbWVudCBhbmQgdGhlbiByZW1vdmUuXG5cdFx0XHRcdHJlYWN0aW9uc1tpbmRleF0gPSByZWFjdGlvbnNbbmV3X2xlbmd0aF07XG5cdFx0XHRcdHJlYWN0aW9ucy5wb3AoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBJZiB0aGUgZGVyaXZlZCBoYXMgbm8gcmVhY3Rpb25zLCB0aGVuIHdlIGNhbiBkaXNjb25uZWN0IGl0IGZyb20gdGhlIGdyYXBoLFxuXHQvLyBhbGxvd2luZyBpdCB0byBlaXRoZXIgcmVjb25uZWN0IGluIHRoZSBmdXR1cmUsIG9yIGJlIEdDJ2QgYnkgdGhlIFZNLlxuXHRpZiAoXG5cdFx0cmVhY3Rpb25zID09PSBudWxsICYmXG5cdFx0KGRlcGVuZGVuY3kuZiAmIERFUklWRUQpICE9PSAwICYmXG5cdFx0Ly8gRGVzdHJveWluZyBhIGNoaWxkIGVmZmVjdCB3aGlsZSB1cGRhdGluZyBhIHBhcmVudCBlZmZlY3QgY2FuIGNhdXNlIGEgZGVwZW5kZW5jeSB0byBhcHBlYXJcblx0XHQvLyB0byBiZSB1bnVzZWQsIHdoZW4gaW4gZmFjdCBpdCBpcyB1c2VkIGJ5IHRoZSBjdXJyZW50bHktdXBkYXRpbmcgcGFyZW50LiBDaGVja2luZyBgbmV3X2RlcHNgXG5cdFx0Ly8gYWxsb3dzIHVzIHRvIHNraXAgdGhlIGV4cGVuc2l2ZSB3b3JrIG9mIGRpc2Nvbm5lY3RpbmcgYW5kIGltbWVkaWF0ZWx5IHJlY29ubmVjdGluZyBpdFxuXHRcdChuZXdfZGVwcyA9PT0gbnVsbCB8fCAhbmV3X2RlcHMuaW5jbHVkZXMoZGVwZW5kZW5jeSkpXG5cdCkge1xuXHRcdHNldF9zaWduYWxfc3RhdHVzKGRlcGVuZGVuY3ksIE1BWUJFX0RJUlRZKTtcblx0XHQvLyBJZiB3ZSBhcmUgd29ya2luZyB3aXRoIGEgZGVyaXZlZCB0aGF0IGlzIG93bmVkIGJ5IGFuIGVmZmVjdCwgdGhlbiBtYXJrIGl0IGFzIGJlaW5nXG5cdFx0Ly8gZGlzY29ubmVjdGVkLlxuXHRcdGlmICgoZGVwZW5kZW5jeS5mICYgKFVOT1dORUQgfCBESVNDT05ORUNURUQpKSA9PT0gMCkge1xuXHRcdFx0ZGVwZW5kZW5jeS5mIF49IERJU0NPTk5FQ1RFRDtcblx0XHR9XG5cdFx0Ly8gRGlzY29ubmVjdCBhbnkgcmVhY3Rpb25zIG93bmVkIGJ5IHRoaXMgcmVhY3Rpb25cblx0XHRkZXN0cm95X2Rlcml2ZWRfZWZmZWN0cygvKiogQHR5cGUge0Rlcml2ZWR9ICoqLyAoZGVwZW5kZW5jeSkpO1xuXHRcdHJlbW92ZV9yZWFjdGlvbnMoLyoqIEB0eXBlIHtEZXJpdmVkfSAqKi8gKGRlcGVuZGVuY3kpLCAwKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVhY3Rpb259IHNpZ25hbFxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0X2luZGV4XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZV9yZWFjdGlvbnMoc2lnbmFsLCBzdGFydF9pbmRleCkge1xuXHR2YXIgZGVwZW5kZW5jaWVzID0gc2lnbmFsLmRlcHM7XG5cdGlmIChkZXBlbmRlbmNpZXMgPT09IG51bGwpIHJldHVybjtcblxuXHRmb3IgKHZhciBpID0gc3RhcnRfaW5kZXg7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcblx0XHRyZW1vdmVfcmVhY3Rpb24oc2lnbmFsLCBkZXBlbmRlbmNpZXNbaV0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfZWZmZWN0KGVmZmVjdCkge1xuXHR2YXIgZmxhZ3MgPSBlZmZlY3QuZjtcblxuXHRpZiAoKGZsYWdzICYgREVTVFJPWUVEKSAhPT0gMCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHNldF9zaWduYWxfc3RhdHVzKGVmZmVjdCwgQ0xFQU4pO1xuXG5cdHZhciBwcmV2aW91c19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXHR2YXIgd2FzX3VwZGF0aW5nX2VmZmVjdCA9IGlzX3VwZGF0aW5nX2VmZmVjdDtcblxuXHRhY3RpdmVfZWZmZWN0ID0gZWZmZWN0O1xuXHRpc191cGRhdGluZ19lZmZlY3QgPSB0cnVlO1xuXG5cdGlmIChERVYpIHtcblx0XHR2YXIgcHJldmlvdXNfY29tcG9uZW50X2ZuID0gZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uO1xuXHRcdHNldF9kZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24oZWZmZWN0LmNvbXBvbmVudF9mdW5jdGlvbik7XG5cdFx0dmFyIHByZXZpb3VzX3N0YWNrID0gLyoqIEB0eXBlIHthbnl9ICovIChkZXZfc3RhY2spO1xuXHRcdC8vIG9ubHkgYmxvY2sgZWZmZWN0cyBoYXZlIGEgZGV2IHN0YWNrLCBrZWVwIHRoZSBjdXJyZW50IG9uZSBvdGhlcndpc2Vcblx0XHRzZXRfZGV2X3N0YWNrKGVmZmVjdC5kZXZfc3RhY2sgPz8gZGV2X3N0YWNrKTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0aWYgKChmbGFncyAmIEJMT0NLX0VGRkVDVCkgIT09IDApIHtcblx0XHRcdGRlc3Ryb3lfYmxvY2tfZWZmZWN0X2NoaWxkcmVuKGVmZmVjdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlc3Ryb3lfZWZmZWN0X2NoaWxkcmVuKGVmZmVjdCk7XG5cdFx0fVxuXG5cdFx0ZXhlY3V0ZV9lZmZlY3RfdGVhcmRvd24oZWZmZWN0KTtcblx0XHR2YXIgdGVhcmRvd24gPSB1cGRhdGVfcmVhY3Rpb24oZWZmZWN0KTtcblx0XHRlZmZlY3QudGVhcmRvd24gPSB0eXBlb2YgdGVhcmRvd24gPT09ICdmdW5jdGlvbicgPyB0ZWFyZG93biA6IG51bGw7XG5cdFx0ZWZmZWN0Lnd2ID0gd3JpdGVfdmVyc2lvbjtcblxuXHRcdC8vIEluIERFViwgaW5jcmVtZW50IHZlcnNpb25zIG9mIGFueSBzb3VyY2VzIHRoYXQgd2VyZSB3cml0dGVuIHRvIGR1cmluZyB0aGUgZWZmZWN0LFxuXHRcdC8vIHNvIHRoYXQgdGhleSBhcmUgY29ycmVjdGx5IG1hcmtlZCBhcyBkaXJ0eSB3aGVuIHRoZSBlZmZlY3QgcmUtcnVuc1xuXHRcdGlmIChERVYgJiYgdHJhY2luZ19tb2RlX2ZsYWcgJiYgKGVmZmVjdC5mICYgRElSVFkpICE9PSAwICYmIGVmZmVjdC5kZXBzICE9PSBudWxsKSB7XG5cdFx0XHRmb3IgKHZhciBkZXAgb2YgZWZmZWN0LmRlcHMpIHtcblx0XHRcdFx0aWYgKGRlcC5zZXRfZHVyaW5nX2VmZmVjdCkge1xuXHRcdFx0XHRcdGRlcC53diA9IGluY3JlbWVudF93cml0ZV92ZXJzaW9uKCk7XG5cdFx0XHRcdFx0ZGVwLnNldF9kdXJpbmdfZWZmZWN0ID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0gZmluYWxseSB7XG5cdFx0aXNfdXBkYXRpbmdfZWZmZWN0ID0gd2FzX3VwZGF0aW5nX2VmZmVjdDtcblx0XHRhY3RpdmVfZWZmZWN0ID0gcHJldmlvdXNfZWZmZWN0O1xuXG5cdFx0aWYgKERFVikge1xuXHRcdFx0c2V0X2Rldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbihwcmV2aW91c19jb21wb25lbnRfZm4pO1xuXHRcdFx0c2V0X2Rldl9zdGFjayhwcmV2aW91c19zdGFjayk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIGFueSBwZW5kaW5nIHN0YXRlIGNoYW5nZXMgaGF2ZSBiZWVuIGFwcGxpZWQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRpY2soKSB7XG5cdGlmIChhc3luY19tb2RlX2ZsYWcpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKGYpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBmKCkpKTtcblx0fVxuXG5cdGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdC8vIEJ5IGNhbGxpbmcgZmx1c2hTeW5jIHdlIGd1YXJhbnRlZSB0aGF0IGFueSBwZW5kaW5nIHN0YXRlIGNoYW5nZXMgYXJlIGFwcGxpZWQgYWZ0ZXIgb25lIHRpY2suXG5cdC8vIFRPRE8gbG9vayBpbnRvIHdoZXRoZXIgd2UgY2FuIG1ha2UgZmx1c2hpbmcgc3Vic2VxdWVudCB1cGRhdGVzIHN5bmNocm9ub3VzbHkgaW4gdGhlIGZ1dHVyZS5cblx0Zmx1c2hTeW5jKCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIGFueSBzdGF0ZSBjaGFuZ2VzLCBhbmQgYXN5bmNocm9ub3VzIHdvcmsgcmVzdWx0aW5nIGZyb20gdGhlbSxcbiAqIGhhdmUgcmVzb2x2ZWQgYW5kIHRoZSBET00gaGFzIGJlZW4gdXBkYXRlZFxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKiBAc2luY2UgNS4zNlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0dGxlZCgpIHtcblx0cmV0dXJuIEJhdGNoLmVuc3VyZSgpLnNldHRsZWQoKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtWYWx1ZTxWPn0gc2lnbmFsXG4gKiBAcmV0dXJucyB7Vn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChzaWduYWwpIHtcblx0dmFyIGZsYWdzID0gc2lnbmFsLmY7XG5cdHZhciBpc19kZXJpdmVkID0gKGZsYWdzICYgREVSSVZFRCkgIT09IDA7XG5cblx0aWYgKGNhcHR1cmVkX3NpZ25hbHMgIT09IG51bGwpIHtcblx0XHRjYXB0dXJlZF9zaWduYWxzLmFkZChzaWduYWwpO1xuXHR9XG5cblx0Ly8gUmVnaXN0ZXIgdGhlIGRlcGVuZGVuY3kgb24gdGhlIGN1cnJlbnQgcmVhY3Rpb24gc2lnbmFsLlxuXHRpZiAoYWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmICF1bnRyYWNraW5nKSB7XG5cdFx0Ly8gaWYgd2UncmUgaW4gYSBkZXJpdmVkIHRoYXQgaXMgYmVpbmcgcmVhZCBpbnNpZGUgYW4gX2FzeW5jXyBkZXJpdmVkLFxuXHRcdC8vIGl0J3MgcG9zc2libGUgdGhhdCB0aGUgZWZmZWN0IHdhcyBhbHJlYWR5IGRlc3Ryb3llZC4gSW4gdGhpcyBjYXNlLFxuXHRcdC8vIHdlIGRvbid0IGFkZCB0aGUgZGVwZW5kZW5jeSwgYmVjYXVzZSB0aGF0IHdvdWxkIGNyZWF0ZSBhIG1lbW9yeSBsZWFrXG5cdFx0dmFyIGRlc3Ryb3llZCA9IGFjdGl2ZV9lZmZlY3QgIT09IG51bGwgJiYgKGFjdGl2ZV9lZmZlY3QuZiAmIERFU1RST1lFRCkgIT09IDA7XG5cblx0XHRpZiAoIWRlc3Ryb3llZCAmJiAhY3VycmVudF9zb3VyY2VzPy5pbmNsdWRlcyhzaWduYWwpKSB7XG5cdFx0XHR2YXIgZGVwcyA9IGFjdGl2ZV9yZWFjdGlvbi5kZXBzO1xuXG5cdFx0XHRpZiAoKGFjdGl2ZV9yZWFjdGlvbi5mICYgUkVBQ1RJT05fSVNfVVBEQVRJTkcpICE9PSAwKSB7XG5cdFx0XHRcdC8vIHdlJ3JlIGluIHRoZSBlZmZlY3QgaW5pdC91cGRhdGUgY3ljbGVcblx0XHRcdFx0aWYgKHNpZ25hbC5ydiA8IHJlYWRfdmVyc2lvbikge1xuXHRcdFx0XHRcdHNpZ25hbC5ydiA9IHJlYWRfdmVyc2lvbjtcblxuXHRcdFx0XHRcdC8vIElmIHRoZSBzaWduYWwgaXMgYWNjZXNzaW5nIHRoZSBzYW1lIGRlcGVuZGVuY2llcyBpbiB0aGUgc2FtZVxuXHRcdFx0XHRcdC8vIG9yZGVyIGFzIGl0IGRpZCBsYXN0IHRpbWUsIGluY3JlbWVudCBgc2tpcHBlZF9kZXBzYFxuXHRcdFx0XHRcdC8vIHJhdGhlciB0aGFuIHVwZGF0aW5nIGBuZXdfZGVwc2AsIHdoaWNoIGNyZWF0ZXMgR0MgY29zdFxuXHRcdFx0XHRcdGlmIChuZXdfZGVwcyA9PT0gbnVsbCAmJiBkZXBzICE9PSBudWxsICYmIGRlcHNbc2tpcHBlZF9kZXBzXSA9PT0gc2lnbmFsKSB7XG5cdFx0XHRcdFx0XHRza2lwcGVkX2RlcHMrKztcblx0XHRcdFx0XHR9IGVsc2UgaWYgKG5ld19kZXBzID09PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRuZXdfZGVwcyA9IFtzaWduYWxdO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIXNraXBfcmVhY3Rpb24gfHwgIW5ld19kZXBzLmluY2x1ZGVzKHNpZ25hbCkpIHtcblx0XHRcdFx0XHRcdC8vIE5vcm1hbGx5IHdlIGNhbiBwdXNoIGR1cGxpY2F0ZWQgZGVwZW5kZW5jaWVzIHRvIGBuZXdfZGVwc2AsIGJ1dCBpZiB3ZSdyZSBpbnNpZGVcblx0XHRcdFx0XHRcdC8vIGFuIHVub3duZWQgZGVyaXZlZCBiZWNhdXNlIHNraXBfcmVhY3Rpb24gaXMgdHJ1ZSwgdGhlbiB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0XG5cdFx0XHRcdFx0XHQvLyB3ZSBkb24ndCBoYXZlIGR1cGxpY2F0ZXNcblx0XHRcdFx0XHRcdG5ld19kZXBzLnB1c2goc2lnbmFsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHdlJ3JlIGFkZGluZyBhIGRlcGVuZGVuY3kgb3V0c2lkZSB0aGUgaW5pdC91cGRhdGUgY3ljbGVcblx0XHRcdFx0Ly8gKGkuZS4gYWZ0ZXIgYW4gYGF3YWl0YClcblx0XHRcdFx0KGFjdGl2ZV9yZWFjdGlvbi5kZXBzID8/PSBbXSkucHVzaChzaWduYWwpO1xuXG5cdFx0XHRcdHZhciByZWFjdGlvbnMgPSBzaWduYWwucmVhY3Rpb25zO1xuXG5cdFx0XHRcdGlmIChyZWFjdGlvbnMgPT09IG51bGwpIHtcblx0XHRcdFx0XHRzaWduYWwucmVhY3Rpb25zID0gW2FjdGl2ZV9yZWFjdGlvbl07XG5cdFx0XHRcdH0gZWxzZSBpZiAoIXJlYWN0aW9ucy5pbmNsdWRlcyhhY3RpdmVfcmVhY3Rpb24pKSB7XG5cdFx0XHRcdFx0cmVhY3Rpb25zLnB1c2goYWN0aXZlX3JlYWN0aW9uKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmIChcblx0XHRpc19kZXJpdmVkICYmXG5cdFx0LyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoc2lnbmFsKS5kZXBzID09PSBudWxsICYmXG5cdFx0LyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoc2lnbmFsKS5lZmZlY3RzID09PSBudWxsXG5cdCkge1xuXHRcdHZhciBkZXJpdmVkID0gLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoc2lnbmFsKTtcblx0XHR2YXIgcGFyZW50ID0gZGVyaXZlZC5wYXJlbnQ7XG5cblx0XHRpZiAocGFyZW50ICE9PSBudWxsICYmIChwYXJlbnQuZiAmIFVOT1dORUQpID09PSAwKSB7XG5cdFx0XHQvLyBJZiB0aGUgZGVyaXZlZCBpcyBvd25lZCBieSBhbm90aGVyIGRlcml2ZWQgdGhlbiBtYXJrIGl0IGFzIHVub3duZWRcblx0XHRcdC8vIGFzIHRoZSBkZXJpdmVkIHZhbHVlIG1pZ2h0IGhhdmUgYmVlbiByZWZlcmVuY2VkIGluIGEgZGlmZmVyZW50IGNvbnRleHRcblx0XHRcdC8vIHNpbmNlIGFuZCB0aHVzIGl0cyBwYXJlbnQgbWlnaHQgbm90IGJlIGl0cyB0cnVlIG93bmVyIGFueW1vcmVcblx0XHRcdGRlcml2ZWQuZiBePSBVTk9XTkVEO1xuXHRcdH1cblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHRpZiAoY3VycmVudF9hc3luY19lZmZlY3QpIHtcblx0XHRcdHZhciB0cmFja2luZyA9IChjdXJyZW50X2FzeW5jX2VmZmVjdC5mICYgUkVBQ1RJT05fSVNfVVBEQVRJTkcpICE9PSAwO1xuXHRcdFx0dmFyIHdhc19yZWFkID0gY3VycmVudF9hc3luY19lZmZlY3QuZGVwcz8uaW5jbHVkZXMoc2lnbmFsKTtcblxuXHRcdFx0aWYgKCF0cmFja2luZyAmJiAhdW50cmFja2luZyAmJiAhd2FzX3JlYWQpIHtcblx0XHRcdFx0dy5hd2FpdF9yZWFjdGl2aXR5X2xvc3MoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChzaWduYWwubGFiZWwpKTtcblxuXHRcdFx0XHR2YXIgdHJhY2UgPSBnZXRfc3RhY2soJ1RyYWNlZEF0Jyk7XG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cdFx0XHRcdGlmICh0cmFjZSkgY29uc29sZS53YXJuKHRyYWNlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZWNlbnRfYXN5bmNfZGVyaXZlZHMuZGVsZXRlKHNpZ25hbCk7XG5cblx0XHRpZiAoXG5cdFx0XHR0cmFjaW5nX21vZGVfZmxhZyAmJlxuXHRcdFx0IXVudHJhY2tpbmcgJiZcblx0XHRcdHRyYWNpbmdfZXhwcmVzc2lvbnMgIT09IG51bGwgJiZcblx0XHRcdGFjdGl2ZV9yZWFjdGlvbiAhPT0gbnVsbCAmJlxuXHRcdFx0dHJhY2luZ19leHByZXNzaW9ucy5yZWFjdGlvbiA9PT0gYWN0aXZlX3JlYWN0aW9uXG5cdFx0KSB7XG5cdFx0XHQvLyBVc2VkIHdoZW4gbWFwcGluZyBzdGF0ZSBiZXR3ZWVuIHNwZWNpYWwgYmxvY2tzIGxpa2UgYGVhY2hgXG5cdFx0XHRpZiAoc2lnbmFsLnRyYWNlKSB7XG5cdFx0XHRcdHNpZ25hbC50cmFjZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dHJhY2UgPSBnZXRfc3RhY2soJ1RyYWNlZEF0Jyk7XG5cblx0XHRcdFx0aWYgKHRyYWNlKSB7XG5cdFx0XHRcdFx0dmFyIGVudHJ5ID0gdHJhY2luZ19leHByZXNzaW9ucy5lbnRyaWVzLmdldChzaWduYWwpO1xuXG5cdFx0XHRcdFx0aWYgKGVudHJ5ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGVudHJ5ID0geyB0cmFjZXM6IFtdIH07XG5cdFx0XHRcdFx0XHR0cmFjaW5nX2V4cHJlc3Npb25zLmVudHJpZXMuc2V0KHNpZ25hbCwgZW50cnkpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciBsYXN0ID0gZW50cnkudHJhY2VzW2VudHJ5LnRyYWNlcy5sZW5ndGggLSAxXTtcblxuXHRcdFx0XHRcdC8vIHRyYWNlcyBjYW4gYmUgZHVwbGljYXRlZCwgZS5nLiBieSBgc25hcHNob3RgIGludm9raW5nIGJvdGhcblx0XHRcdFx0XHQvLyBib3RoIGBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JgIGFuZCBgZ2V0YCB0cmFwcyBhdCBvbmNlXG5cdFx0XHRcdFx0aWYgKHRyYWNlLnN0YWNrICE9PSBsYXN0Py5zdGFjaykge1xuXHRcdFx0XHRcdFx0ZW50cnkudHJhY2VzLnB1c2godHJhY2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmIChpc19kZXN0cm95aW5nX2VmZmVjdCkge1xuXHRcdGlmIChvbGRfdmFsdWVzLmhhcyhzaWduYWwpKSB7XG5cdFx0XHRyZXR1cm4gb2xkX3ZhbHVlcy5nZXQoc2lnbmFsKTtcblx0XHR9XG5cblx0XHRpZiAoaXNfZGVyaXZlZCkge1xuXHRcdFx0ZGVyaXZlZCA9IC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHNpZ25hbCk7XG5cblx0XHRcdHZhciB2YWx1ZSA9IGRlcml2ZWQudjtcblxuXHRcdFx0Ly8gaWYgdGhlIGRlcml2ZWQgaXMgZGlydHksIG9yIGRlcGVuZHMgb24gdGhlIHZhbHVlcyB0aGF0IGp1c3QgY2hhbmdlZCwgcmUtZXhlY3V0ZVxuXHRcdFx0aWYgKChkZXJpdmVkLmYgJiBDTEVBTikgIT09IDAgfHwgZGVwZW5kc19vbl9vbGRfdmFsdWVzKGRlcml2ZWQpKSB7XG5cdFx0XHRcdHZhbHVlID0gZXhlY3V0ZV9kZXJpdmVkKGRlcml2ZWQpO1xuXHRcdFx0fVxuXG5cdFx0XHRvbGRfdmFsdWVzLnNldChkZXJpdmVkLCB2YWx1ZSk7XG5cblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH0gZWxzZSBpZiAoaXNfZGVyaXZlZCkge1xuXHRcdGRlcml2ZWQgPSAvKiogQHR5cGUge0Rlcml2ZWR9ICovIChzaWduYWwpO1xuXG5cdFx0aWYgKGJhdGNoX2Rlcml2ZWRzPy5oYXMoZGVyaXZlZCkpIHtcblx0XHRcdHJldHVybiBiYXRjaF9kZXJpdmVkcy5nZXQoZGVyaXZlZCk7XG5cdFx0fVxuXG5cdFx0aWYgKGlzX2RpcnR5KGRlcml2ZWQpKSB7XG5cdFx0XHR1cGRhdGVfZGVyaXZlZChkZXJpdmVkKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoKHNpZ25hbC5mICYgRVJST1JfVkFMVUUpICE9PSAwKSB7XG5cdFx0dGhyb3cgc2lnbmFsLnY7XG5cdH1cblxuXHRyZXR1cm4gc2lnbmFsLnY7XG59XG5cbi8qKiBAcGFyYW0ge0Rlcml2ZWR9IGRlcml2ZWQgKi9cbmZ1bmN0aW9uIGRlcGVuZHNfb25fb2xkX3ZhbHVlcyhkZXJpdmVkKSB7XG5cdGlmIChkZXJpdmVkLnYgPT09IFVOSU5JVElBTElaRUQpIHJldHVybiB0cnVlOyAvLyB3ZSBkb24ndCBrbm93LCBzbyBhc3N1bWUgdGhlIHdvcnN0XG5cdGlmIChkZXJpdmVkLmRlcHMgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuXHRmb3IgKGNvbnN0IGRlcCBvZiBkZXJpdmVkLmRlcHMpIHtcblx0XHRpZiAob2xkX3ZhbHVlcy5oYXMoZGVwKSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKChkZXAuZiAmIERFUklWRUQpICE9PSAwICYmIGRlcGVuZHNfb25fb2xkX3ZhbHVlcygvKiogQHR5cGUge0Rlcml2ZWR9ICovIChkZXApKSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIExpa2UgYGdldGAsIGJ1dCBjaGVja3MgZm9yIGB1bmRlZmluZWRgLiBVc2VkIGZvciBgdmFyYCBkZWNsYXJhdGlvbnMgYmVjYXVzZSB0aGV5IGNhbiBiZSBhY2Nlc3NlZCBiZWZvcmUgYmVpbmcgZGVjbGFyZWRcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1ZhbHVlPFY+IHwgdW5kZWZpbmVkfSBzaWduYWxcbiAqIEByZXR1cm5zIHtWIHwgdW5kZWZpbmVkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZV9nZXQoc2lnbmFsKSB7XG5cdHJldHVybiBzaWduYWwgJiYgZ2V0KHNpZ25hbCk7XG59XG5cbi8qKlxuICogQ2FwdHVyZSBhbiBhcnJheSBvZiBhbGwgdGhlIHNpZ25hbHMgdGhhdCBhcmUgcmVhZCB3aGVuIGBmbmAgaXMgY2FsbGVkXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBUfSBmblxuICovXG5mdW5jdGlvbiBjYXB0dXJlX3NpZ25hbHMoZm4pIHtcblx0dmFyIHByZXZpb3VzX2NhcHR1cmVkX3NpZ25hbHMgPSBjYXB0dXJlZF9zaWduYWxzO1xuXHRjYXB0dXJlZF9zaWduYWxzID0gbmV3IFNldCgpO1xuXG5cdHZhciBjYXB0dXJlZCA9IGNhcHR1cmVkX3NpZ25hbHM7XG5cdHZhciBzaWduYWw7XG5cblx0dHJ5IHtcblx0XHR1bnRyYWNrKGZuKTtcblx0XHRpZiAocHJldmlvdXNfY2FwdHVyZWRfc2lnbmFscyAhPT0gbnVsbCkge1xuXHRcdFx0Zm9yIChzaWduYWwgb2YgY2FwdHVyZWRfc2lnbmFscykge1xuXHRcdFx0XHRwcmV2aW91c19jYXB0dXJlZF9zaWduYWxzLmFkZChzaWduYWwpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBmaW5hbGx5IHtcblx0XHRjYXB0dXJlZF9zaWduYWxzID0gcHJldmlvdXNfY2FwdHVyZWRfc2lnbmFscztcblx0fVxuXG5cdHJldHVybiBjYXB0dXJlZDtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGEgZnVuY3Rpb24gYW5kIGNhcHR1cmVzIGFsbCBzaWduYWxzIHRoYXQgYXJlIHJlYWQgZHVyaW5nIHRoZSBpbnZvY2F0aW9uLFxuICogdGhlbiBpbnZhbGlkYXRlcyB0aGVtLlxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkYXRlX2lubmVyX3NpZ25hbHMoZm4pIHtcblx0dmFyIGNhcHR1cmVkID0gY2FwdHVyZV9zaWduYWxzKCgpID0+IHVudHJhY2soZm4pKTtcblxuXHRmb3IgKHZhciBzaWduYWwgb2YgY2FwdHVyZWQpIHtcblx0XHRpbnRlcm5hbF9zZXQoc2lnbmFsLCBzaWduYWwudik7XG5cdH1cbn1cblxuLyoqXG4gKiBXaGVuIHVzZWQgaW5zaWRlIGEgW2AkZGVyaXZlZGBdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS8kZGVyaXZlZCkgb3IgW2AkZWZmZWN0YF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLyRlZmZlY3QpLFxuICogYW55IHN0YXRlIHJlYWQgaW5zaWRlIGBmbmAgd2lsbCBub3QgYmUgdHJlYXRlZCBhcyBhIGRlcGVuZGVuY3kuXG4gKlxuICogYGBgdHNcbiAqICRlZmZlY3QoKCkgPT4ge1xuICogICAvLyB0aGlzIHdpbGwgcnVuIHdoZW4gYGRhdGFgIGNoYW5nZXMsIGJ1dCBub3Qgd2hlbiBgdGltZWAgY2hhbmdlc1xuICogICBzYXZlKGRhdGEsIHtcbiAqICAgICB0aW1lc3RhbXA6IHVudHJhY2soKCkgPT4gdGltZSlcbiAqICAgfSk7XG4gKiB9KTtcbiAqIGBgYFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gVH0gZm5cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW50cmFjayhmbikge1xuXHR2YXIgcHJldmlvdXNfdW50cmFja2luZyA9IHVudHJhY2tpbmc7XG5cdHRyeSB7XG5cdFx0dW50cmFja2luZyA9IHRydWU7XG5cdFx0cmV0dXJuIGZuKCk7XG5cdH0gZmluYWxseSB7XG5cdFx0dW50cmFja2luZyA9IHByZXZpb3VzX3VudHJhY2tpbmc7XG5cdH1cbn1cblxuY29uc3QgU1RBVFVTX01BU0sgPSB+KERJUlRZIHwgTUFZQkVfRElSVFkgfCBDTEVBTik7XG5cbi8qKlxuICogQHBhcmFtIHtTaWduYWx9IHNpZ25hbFxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXR1c1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc2lnbmFsX3N0YXR1cyhzaWduYWwsIHN0YXR1cykge1xuXHRzaWduYWwuZiA9IChzaWduYWwuZiAmIFNUQVRVU19NQVNLKSB8IHN0YXR1cztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHVua25vd24+fSBvYmpcbiAqIEBwYXJhbSB7c3RyaW5nW119IGtleXNcbiAqIEByZXR1cm5zIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4Y2x1ZGVfZnJvbV9vYmplY3Qob2JqLCBrZXlzKSB7XG5cdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59ICovXG5cdHZhciByZXN1bHQgPSB7fTtcblxuXHRmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdFx0aWYgKCFrZXlzLmluY2x1ZGVzKGtleSkpIHtcblx0XHRcdHJlc3VsdFtrZXldID0gb2JqW2tleV07XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBQb3NzaWJseSB0cmF2ZXJzZSBhbiBvYmplY3QgYW5kIHJlYWQgYWxsIGl0cyBwcm9wZXJ0aWVzIHNvIHRoYXQgdGhleSdyZSBhbGwgcmVhY3RpdmUgaW4gY2FzZSB0aGlzIGlzIGAkc3RhdGVgLlxuICogRG9lcyBvbmx5IGNoZWNrIGZpcnN0IGxldmVsIG9mIGFuIG9iamVjdCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyAoaGV1cmlzdGljIHNob3VsZCBiZSBnb29kIGZvciA5OSUgb2YgYWxsIGNhc2VzKS5cbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwX3JlYWRfc3RhdGUodmFsdWUpIHtcblx0aWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgIXZhbHVlIHx8IHZhbHVlIGluc3RhbmNlb2YgRXZlbnRUYXJnZXQpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpZiAoU1RBVEVfU1lNQk9MIGluIHZhbHVlKSB7XG5cdFx0ZGVlcF9yZWFkKHZhbHVlKTtcblx0fSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRmb3IgKGxldCBrZXkgaW4gdmFsdWUpIHtcblx0XHRcdGNvbnN0IHByb3AgPSB2YWx1ZVtrZXldO1xuXHRcdFx0aWYgKHR5cGVvZiBwcm9wID09PSAnb2JqZWN0JyAmJiBwcm9wICYmIFNUQVRFX1NZTUJPTCBpbiBwcm9wKSB7XG5cdFx0XHRcdGRlZXBfcmVhZChwcm9wKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBEZWVwbHkgdHJhdmVyc2UgYW4gb2JqZWN0IGFuZCByZWFkIGFsbCBpdHMgcHJvcGVydGllc1xuICogc28gdGhhdCB0aGV5J3JlIGFsbCByZWFjdGl2ZSBpbiBjYXNlIHRoaXMgaXMgYCRzdGF0ZWBcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHtTZXQ8YW55Pn0gdmlzaXRlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwX3JlYWQodmFsdWUsIHZpc2l0ZWQgPSBuZXcgU2V0KCkpIHtcblx0aWYgKFxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcblx0XHR2YWx1ZSAhPT0gbnVsbCAmJlxuXHRcdC8vIFdlIGRvbid0IHdhbnQgdG8gdHJhdmVyc2UgRE9NIGVsZW1lbnRzXG5cdFx0ISh2YWx1ZSBpbnN0YW5jZW9mIEV2ZW50VGFyZ2V0KSAmJlxuXHRcdCF2aXNpdGVkLmhhcyh2YWx1ZSlcblx0KSB7XG5cdFx0dmlzaXRlZC5hZGQodmFsdWUpO1xuXHRcdC8vIFdoZW4gd29ya2luZyB3aXRoIGEgcG9zc2libGUgU3ZlbHRlRGF0ZSwgdGhpc1xuXHRcdC8vIHdpbGwgZW5zdXJlIHdlIGNhcHR1cmUgY2hhbmdlcyB0byBpdC5cblx0XHRpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG5cdFx0XHR2YWx1ZS5nZXRUaW1lKCk7XG5cdFx0fVxuXHRcdGZvciAobGV0IGtleSBpbiB2YWx1ZSkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGVlcF9yZWFkKHZhbHVlW2tleV0sIHZpc2l0ZWQpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyBjb250aW51ZVxuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBwcm90byA9IGdldF9wcm90b3R5cGVfb2YodmFsdWUpO1xuXHRcdGlmIChcblx0XHRcdHByb3RvICE9PSBPYmplY3QucHJvdG90eXBlICYmXG5cdFx0XHRwcm90byAhPT0gQXJyYXkucHJvdG90eXBlICYmXG5cdFx0XHRwcm90byAhPT0gTWFwLnByb3RvdHlwZSAmJlxuXHRcdFx0cHJvdG8gIT09IFNldC5wcm90b3R5cGUgJiZcblx0XHRcdHByb3RvICE9PSBEYXRlLnByb3RvdHlwZVxuXHRcdCkge1xuXHRcdFx0Y29uc3QgZGVzY3JpcHRvcnMgPSBnZXRfZGVzY3JpcHRvcnMocHJvdG8pO1xuXHRcdFx0Zm9yIChsZXQga2V5IGluIGRlc2NyaXB0b3JzKSB7XG5cdFx0XHRcdGNvbnN0IGdldCA9IGRlc2NyaXB0b3JzW2tleV0uZ2V0O1xuXHRcdFx0XHRpZiAoZ2V0KSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGdldC5jYWxsKHZhbHVlKTtcblx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHQvLyBjb250aW51ZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuIiwiLyoqIEBpbXBvcnQgeyBDb21wb25lbnRDb250ZXh0LCBDb21wb25lbnRDb250ZXh0TGVnYWN5LCBEZXJpdmVkLCBFZmZlY3QsIFRlbXBsYXRlTm9kZSwgVHJhbnNpdGlvbk1hbmFnZXIgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHtcblx0aXNfZGlydHksXG5cdGFjdGl2ZV9lZmZlY3QsXG5cdGFjdGl2ZV9yZWFjdGlvbixcblx0dXBkYXRlX2VmZmVjdCxcblx0Z2V0LFxuXHRpc19kZXN0cm95aW5nX2VmZmVjdCxcblx0cmVtb3ZlX3JlYWN0aW9ucyxcblx0c2V0X2FjdGl2ZV9yZWFjdGlvbixcblx0c2V0X2lzX2Rlc3Ryb3lpbmdfZWZmZWN0LFxuXHRzZXRfc2lnbmFsX3N0YXR1cyxcblx0dW50cmFjayxcblx0dW50cmFja2luZ1xufSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCB7XG5cdERJUlRZLFxuXHRCUkFOQ0hfRUZGRUNULFxuXHRSRU5ERVJfRUZGRUNULFxuXHRFRkZFQ1QsXG5cdERFU1RST1lFRCxcblx0SU5FUlQsXG5cdEVGRkVDVF9SQU4sXG5cdEJMT0NLX0VGRkVDVCxcblx0Uk9PVF9FRkZFQ1QsXG5cdEVGRkVDVF9UUkFOU1BBUkVOVCxcblx0REVSSVZFRCxcblx0VU5PV05FRCxcblx0Q0xFQU4sXG5cdElOU1BFQ1RfRUZGRUNULFxuXHRIRUFEX0VGRkVDVCxcblx0TUFZQkVfRElSVFksXG5cdEVGRkVDVF9QUkVTRVJWRUQsXG5cdFNUQUxFX1JFQUNUSU9OLFxuXHRVU0VSX0VGRkVDVCxcblx0QVNZTkNcbn0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0ICogYXMgZSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBkZWZpbmVfcHJvcGVydHkgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0X25leHRfc2libGluZyB9IGZyb20gJy4uL2RvbS9vcGVyYXRpb25zLmpzJztcbmltcG9ydCB7IGNvbXBvbmVudF9jb250ZXh0LCBkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24sIGRldl9zdGFjayB9IGZyb20gJy4uL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgQmF0Y2gsIHNjaGVkdWxlX2VmZmVjdCB9IGZyb20gJy4vYmF0Y2guanMnO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4vYXN5bmMuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7JyRlZmZlY3QnIHwgJyRlZmZlY3QucHJlJyB8ICckaW5zcGVjdCd9IHJ1bmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlX2VmZmVjdChydW5lKSB7XG5cdGlmIChhY3RpdmVfZWZmZWN0ID09PSBudWxsICYmIGFjdGl2ZV9yZWFjdGlvbiA9PT0gbnVsbCkge1xuXHRcdGUuZWZmZWN0X29ycGhhbihydW5lKTtcblx0fVxuXG5cdGlmIChhY3RpdmVfcmVhY3Rpb24gIT09IG51bGwgJiYgKGFjdGl2ZV9yZWFjdGlvbi5mICYgVU5PV05FRCkgIT09IDAgJiYgYWN0aXZlX2VmZmVjdCA9PT0gbnVsbCkge1xuXHRcdGUuZWZmZWN0X2luX3Vub3duZWRfZGVyaXZlZCgpO1xuXHR9XG5cblx0aWYgKGlzX2Rlc3Ryb3lpbmdfZWZmZWN0KSB7XG5cdFx0ZS5lZmZlY3RfaW5fdGVhcmRvd24ocnVuZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKiBAcGFyYW0ge0VmZmVjdH0gcGFyZW50X2VmZmVjdFxuICovXG5mdW5jdGlvbiBwdXNoX2VmZmVjdChlZmZlY3QsIHBhcmVudF9lZmZlY3QpIHtcblx0dmFyIHBhcmVudF9sYXN0ID0gcGFyZW50X2VmZmVjdC5sYXN0O1xuXHRpZiAocGFyZW50X2xhc3QgPT09IG51bGwpIHtcblx0XHRwYXJlbnRfZWZmZWN0Lmxhc3QgPSBwYXJlbnRfZWZmZWN0LmZpcnN0ID0gZWZmZWN0O1xuXHR9IGVsc2Uge1xuXHRcdHBhcmVudF9sYXN0Lm5leHQgPSBlZmZlY3Q7XG5cdFx0ZWZmZWN0LnByZXYgPSBwYXJlbnRfbGFzdDtcblx0XHRwYXJlbnRfZWZmZWN0Lmxhc3QgPSBlZmZlY3Q7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdHlwZVxuICogQHBhcmFtIHtudWxsIHwgKCgpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCkpfSBmblxuICogQHBhcmFtIHtib29sZWFufSBzeW5jXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHB1c2hcbiAqIEByZXR1cm5zIHtFZmZlY3R9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZV9lZmZlY3QodHlwZSwgZm4sIHN5bmMsIHB1c2ggPSB0cnVlKSB7XG5cdHZhciBwYXJlbnQgPSBhY3RpdmVfZWZmZWN0O1xuXG5cdGlmIChERVYpIHtcblx0XHQvLyBFbnN1cmUgdGhlIHBhcmVudCBpcyBuZXZlciBhbiBpbnNwZWN0IGVmZmVjdFxuXHRcdHdoaWxlIChwYXJlbnQgIT09IG51bGwgJiYgKHBhcmVudC5mICYgSU5TUEVDVF9FRkZFQ1QpICE9PSAwKSB7XG5cdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuXHRcdH1cblx0fVxuXG5cdGlmIChwYXJlbnQgIT09IG51bGwgJiYgKHBhcmVudC5mICYgSU5FUlQpICE9PSAwKSB7XG5cdFx0dHlwZSB8PSBJTkVSVDtcblx0fVxuXG5cdC8qKiBAdHlwZSB7RWZmZWN0fSAqL1xuXHR2YXIgZWZmZWN0ID0ge1xuXHRcdGN0eDogY29tcG9uZW50X2NvbnRleHQsXG5cdFx0ZGVwczogbnVsbCxcblx0XHRub2Rlc19zdGFydDogbnVsbCxcblx0XHRub2Rlc19lbmQ6IG51bGwsXG5cdFx0ZjogdHlwZSB8IERJUlRZLFxuXHRcdGZpcnN0OiBudWxsLFxuXHRcdGZuLFxuXHRcdGxhc3Q6IG51bGwsXG5cdFx0bmV4dDogbnVsbCxcblx0XHRwYXJlbnQsXG5cdFx0YjogcGFyZW50ICYmIHBhcmVudC5iLFxuXHRcdHByZXY6IG51bGwsXG5cdFx0dGVhcmRvd246IG51bGwsXG5cdFx0dHJhbnNpdGlvbnM6IG51bGwsXG5cdFx0d3Y6IDAsXG5cdFx0YWM6IG51bGxcblx0fTtcblxuXHRpZiAoREVWKSB7XG5cdFx0ZWZmZWN0LmNvbXBvbmVudF9mdW5jdGlvbiA9IGRldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbjtcblx0fVxuXG5cdGlmIChzeW5jKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHVwZGF0ZV9lZmZlY3QoZWZmZWN0KTtcblx0XHRcdGVmZmVjdC5mIHw9IEVGRkVDVF9SQU47XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0ZGVzdHJveV9lZmZlY3QoZWZmZWN0KTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKGZuICE9PSBudWxsKSB7XG5cdFx0c2NoZWR1bGVfZWZmZWN0KGVmZmVjdCk7XG5cdH1cblxuXHQvLyBpZiBhbiBlZmZlY3QgaGFzIG5vIGRlcGVuZGVuY2llcywgbm8gRE9NIGFuZCBubyB0ZWFyZG93biBmdW5jdGlvbixcblx0Ly8gZG9uJ3QgYm90aGVyIGFkZGluZyBpdCB0byB0aGUgZWZmZWN0IHRyZWVcblx0dmFyIGluZXJ0ID1cblx0XHRzeW5jICYmXG5cdFx0ZWZmZWN0LmRlcHMgPT09IG51bGwgJiZcblx0XHRlZmZlY3QuZmlyc3QgPT09IG51bGwgJiZcblx0XHRlZmZlY3Qubm9kZXNfc3RhcnQgPT09IG51bGwgJiZcblx0XHRlZmZlY3QudGVhcmRvd24gPT09IG51bGwgJiZcblx0XHQoZWZmZWN0LmYgJiBFRkZFQ1RfUFJFU0VSVkVEKSA9PT0gMDtcblxuXHRpZiAoIWluZXJ0ICYmIHB1c2gpIHtcblx0XHRpZiAocGFyZW50ICE9PSBudWxsKSB7XG5cdFx0XHRwdXNoX2VmZmVjdChlZmZlY3QsIHBhcmVudCk7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgd2UncmUgaW4gYSBkZXJpdmVkLCBhZGQgdGhlIGVmZmVjdCB0aGVyZSB0b29cblx0XHRpZiAoYWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmIChhY3RpdmVfcmVhY3Rpb24uZiAmIERFUklWRUQpICE9PSAwKSB7XG5cdFx0XHR2YXIgZGVyaXZlZCA9IC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGFjdGl2ZV9yZWFjdGlvbik7XG5cdFx0XHQoZGVyaXZlZC5lZmZlY3RzID8/PSBbXSkucHVzaChlZmZlY3QpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlZmZlY3Q7XG59XG5cbi8qKlxuICogSW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYCRlZmZlY3QudHJhY2tpbmcoKWBcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0X3RyYWNraW5nKCkge1xuXHRyZXR1cm4gYWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmICF1bnRyYWNraW5nO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlYXJkb3duKGZuKSB7XG5cdGNvbnN0IGVmZmVjdCA9IGNyZWF0ZV9lZmZlY3QoUkVOREVSX0VGRkVDVCwgbnVsbCwgZmFsc2UpO1xuXHRzZXRfc2lnbmFsX3N0YXR1cyhlZmZlY3QsIENMRUFOKTtcblx0ZWZmZWN0LnRlYXJkb3duID0gZm47XG5cdHJldHVybiBlZmZlY3Q7XG59XG5cbi8qKlxuICogSW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYCRlZmZlY3QoLi4uKWBcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZXJfZWZmZWN0KGZuKSB7XG5cdHZhbGlkYXRlX2VmZmVjdCgnJGVmZmVjdCcpO1xuXG5cdGlmIChERVYpIHtcblx0XHRkZWZpbmVfcHJvcGVydHkoZm4sICduYW1lJywge1xuXHRcdFx0dmFsdWU6ICckZWZmZWN0J1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gTm9uLW5lc3RlZCBgJGVmZmVjdCguLi4pYCBpbiBhIGNvbXBvbmVudCBzaG91bGQgYmUgZGVmZXJyZWRcblx0Ly8gdW50aWwgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkXG5cdHZhciBmbGFncyA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCkuZjtcblx0dmFyIGRlZmVyID0gIWFjdGl2ZV9yZWFjdGlvbiAmJiAoZmxhZ3MgJiBCUkFOQ0hfRUZGRUNUKSAhPT0gMCAmJiAoZmxhZ3MgJiBFRkZFQ1RfUkFOKSA9PT0gMDtcblxuXHRpZiAoZGVmZXIpIHtcblx0XHQvLyBUb3AtbGV2ZWwgYCRlZmZlY3QoLi4uKWAgaW4gYW4gdW5tb3VudGVkIGNvbXBvbmVudCDigJQgZGVmZXIgdW50aWwgbW91bnRcblx0XHR2YXIgY29udGV4dCA9IC8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dH0gKi8gKGNvbXBvbmVudF9jb250ZXh0KTtcblx0XHQoY29udGV4dC5lID8/PSBbXSkucHVzaChmbik7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gRXZlcnl0aGluZyBlbHNlIOKAlCBjcmVhdGUgaW1tZWRpYXRlbHlcblx0XHRyZXR1cm4gY3JlYXRlX3VzZXJfZWZmZWN0KGZuKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV91c2VyX2VmZmVjdChmbikge1xuXHRyZXR1cm4gY3JlYXRlX2VmZmVjdChFRkZFQ1QgfCBVU0VSX0VGRkVDVCwgZm4sIGZhbHNlKTtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCByZXByZXNlbnRhdGlvbiBvZiBgJGVmZmVjdC5wcmUoLi4uKWBcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqIEByZXR1cm5zIHtFZmZlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VyX3ByZV9lZmZlY3QoZm4pIHtcblx0dmFsaWRhdGVfZWZmZWN0KCckZWZmZWN0LnByZScpO1xuXHRpZiAoREVWKSB7XG5cdFx0ZGVmaW5lX3Byb3BlcnR5KGZuLCAnbmFtZScsIHtcblx0XHRcdHZhbHVlOiAnJGVmZmVjdC5wcmUnXG5cdFx0fSk7XG5cdH1cblx0cmV0dXJuIGNyZWF0ZV9lZmZlY3QoUkVOREVSX0VGRkVDVCB8IFVTRVJfRUZGRUNULCBmbiwgdHJ1ZSk7XG59XG5cbi8qKiBAcGFyYW0geygpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zcGVjdF9lZmZlY3QoZm4pIHtcblx0cmV0dXJuIGNyZWF0ZV9lZmZlY3QoSU5TUEVDVF9FRkZFQ1QsIGZuLCB0cnVlKTtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCByZXByZXNlbnRhdGlvbiBvZiBgJGVmZmVjdC5yb290KC4uLilgXG4gKiBAcGFyYW0geygpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuXG4gKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdF9yb290KGZuKSB7XG5cdEJhdGNoLmVuc3VyZSgpO1xuXHRjb25zdCBlZmZlY3QgPSBjcmVhdGVfZWZmZWN0KFJPT1RfRUZGRUNULCBmbiwgdHJ1ZSk7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRkZXN0cm95X2VmZmVjdChlZmZlY3QpO1xuXHR9O1xufVxuXG4vKipcbiAqIEFuIGVmZmVjdCByb290IHdob3NlIGNoaWxkcmVuIGNhbiB0cmFuc2l0aW9uIG91dFxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMgeyhvcHRpb25zPzogeyBvdXRybz86IGJvb2xlYW4gfSkgPT4gUHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudF9yb290KGZuKSB7XG5cdEJhdGNoLmVuc3VyZSgpO1xuXHRjb25zdCBlZmZlY3QgPSBjcmVhdGVfZWZmZWN0KFJPT1RfRUZGRUNULCBmbiwgdHJ1ZSk7XG5cblx0cmV0dXJuIChvcHRpb25zID0ge30pID0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKGZ1bGZpbCkgPT4ge1xuXHRcdFx0aWYgKG9wdGlvbnMub3V0cm8pIHtcblx0XHRcdFx0cGF1c2VfZWZmZWN0KGVmZmVjdCwgKCkgPT4ge1xuXHRcdFx0XHRcdGRlc3Ryb3lfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHRcdFx0ZnVsZmlsKHVuZGVmaW5lZCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVzdHJveV9lZmZlY3QoZWZmZWN0KTtcblx0XHRcdFx0ZnVsZmlsKHVuZGVmaW5lZCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICogQHJldHVybnMge0VmZmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdChmbikge1xuXHRyZXR1cm4gY3JlYXRlX2VmZmVjdChFRkZFQ1QsIGZuLCBmYWxzZSk7XG59XG5cbi8qKlxuICogSW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYCQ6IC4uYFxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGRlcHNcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlZ2FjeV9wcmVfZWZmZWN0KGRlcHMsIGZuKSB7XG5cdHZhciBjb250ZXh0ID0gLyoqIEB0eXBlIHtDb21wb25lbnRDb250ZXh0TGVnYWN5fSAqLyAoY29tcG9uZW50X2NvbnRleHQpO1xuXG5cdC8qKiBAdHlwZSB7eyBlZmZlY3Q6IG51bGwgfCBFZmZlY3QsIHJhbjogYm9vbGVhbiwgZGVwczogKCkgPT4gYW55IH19ICovXG5cdHZhciB0b2tlbiA9IHsgZWZmZWN0OiBudWxsLCByYW46IGZhbHNlLCBkZXBzIH07XG5cblx0Y29udGV4dC5sLiQucHVzaCh0b2tlbik7XG5cblx0dG9rZW4uZWZmZWN0ID0gcmVuZGVyX2VmZmVjdCgoKSA9PiB7XG5cdFx0ZGVwcygpO1xuXG5cdFx0Ly8gSWYgdGhpcyBsZWdhY3kgcHJlIGVmZmVjdCBoYXMgYWxyZWFkeSBydW4gYmVmb3JlIHRoZSBlbmQgb2YgdGhlIHJlc2V0LCB0aGVuXG5cdFx0Ly8gYmFpbCBvdXQgdG8gZW11bGF0ZSB0aGUgc2FtZSBiZWhhdmlvci5cblx0XHRpZiAodG9rZW4ucmFuKSByZXR1cm47XG5cblx0XHR0b2tlbi5yYW4gPSB0cnVlO1xuXHRcdHVudHJhY2soZm4pO1xuXHR9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxlZ2FjeV9wcmVfZWZmZWN0X3Jlc2V0KCkge1xuXHR2YXIgY29udGV4dCA9IC8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dExlZ2FjeX0gKi8gKGNvbXBvbmVudF9jb250ZXh0KTtcblxuXHRyZW5kZXJfZWZmZWN0KCgpID0+IHtcblx0XHQvLyBSdW4gZGlydHkgYCQ6YCBzdGF0ZW1lbnRzXG5cdFx0Zm9yICh2YXIgdG9rZW4gb2YgY29udGV4dC5sLiQpIHtcblx0XHRcdHRva2VuLmRlcHMoKTtcblxuXHRcdFx0dmFyIGVmZmVjdCA9IHRva2VuLmVmZmVjdDtcblxuXHRcdFx0Ly8gSWYgdGhlIGVmZmVjdCBpcyBDTEVBTiwgdGhlbiBtYWtlIGl0IE1BWUJFX0RJUlRZLiBUaGlzIGVuc3VyZXMgd2UgdHJhdmVyc2UgdGhyb3VnaFxuXHRcdFx0Ly8gdGhlIGVmZmVjdHMgZGVwZW5kZW5jaWVzIGFuZCBjb3JyZWN0bHkgZW5zdXJlIGVhY2ggZGVwZW5kZW5jeSBpcyB1cC10by1kYXRlLlxuXHRcdFx0aWYgKChlZmZlY3QuZiAmIENMRUFOKSAhPT0gMCkge1xuXHRcdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhlZmZlY3QsIE1BWUJFX0RJUlRZKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzX2RpcnR5KGVmZmVjdCkpIHtcblx0XHRcdFx0dXBkYXRlX2VmZmVjdChlZmZlY3QpO1xuXHRcdFx0fVxuXG5cdFx0XHR0b2tlbi5yYW4gPSBmYWxzZTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqIEByZXR1cm5zIHtFZmZlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3luY19lZmZlY3QoZm4pIHtcblx0cmV0dXJuIGNyZWF0ZV9lZmZlY3QoQVNZTkMgfCBFRkZFQ1RfUFJFU0VSVkVELCBmbiwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICogQHJldHVybnMge0VmZmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcl9lZmZlY3QoZm4sIGZsYWdzID0gMCkge1xuXHRyZXR1cm4gY3JlYXRlX2VmZmVjdChSRU5ERVJfRUZGRUNUIHwgZmxhZ3MsIGZuLCB0cnVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyguLi5leHByZXNzaW9uczogYW55KSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICogQHBhcmFtIHtBcnJheTwoKSA9PiBhbnk+fSBzeW5jXG4gKiBAcGFyYW0ge0FycmF5PCgpID0+IFByb21pc2U8YW55Pj59IGFzeW5jXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZV9lZmZlY3QoZm4sIHN5bmMgPSBbXSwgYXN5bmMgPSBbXSkge1xuXHRmbGF0dGVuKHN5bmMsIGFzeW5jLCAodmFsdWVzKSA9PiB7XG5cdFx0Y3JlYXRlX2VmZmVjdChSRU5ERVJfRUZGRUNULCAoKSA9PiBmbiguLi52YWx1ZXMubWFwKGdldCkpLCB0cnVlKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKCkgPT4gdm9pZCl9IGZuXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrKGZuLCBmbGFncyA9IDApIHtcblx0dmFyIGVmZmVjdCA9IGNyZWF0ZV9lZmZlY3QoQkxPQ0tfRUZGRUNUIHwgZmxhZ3MsIGZuLCB0cnVlKTtcblx0aWYgKERFVikge1xuXHRcdGVmZmVjdC5kZXZfc3RhY2sgPSBkZXZfc3RhY2s7XG5cdH1cblx0cmV0dXJuIGVmZmVjdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygoKSA9PiB2b2lkKX0gZm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3B1c2hdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBicmFuY2goZm4sIHB1c2ggPSB0cnVlKSB7XG5cdHJldHVybiBjcmVhdGVfZWZmZWN0KEJSQU5DSF9FRkZFQ1QsIGZuLCB0cnVlLCBwdXNoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlX2VmZmVjdF90ZWFyZG93bihlZmZlY3QpIHtcblx0dmFyIHRlYXJkb3duID0gZWZmZWN0LnRlYXJkb3duO1xuXHRpZiAodGVhcmRvd24gIT09IG51bGwpIHtcblx0XHRjb25zdCBwcmV2aW91c2x5X2Rlc3Ryb3lpbmdfZWZmZWN0ID0gaXNfZGVzdHJveWluZ19lZmZlY3Q7XG5cdFx0Y29uc3QgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdFx0c2V0X2lzX2Rlc3Ryb3lpbmdfZWZmZWN0KHRydWUpO1xuXHRcdHNldF9hY3RpdmVfcmVhY3Rpb24obnVsbCk7XG5cdFx0dHJ5IHtcblx0XHRcdHRlYXJkb3duLmNhbGwobnVsbCk7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdHNldF9pc19kZXN0cm95aW5nX2VmZmVjdChwcmV2aW91c2x5X2Rlc3Ryb3lpbmdfZWZmZWN0KTtcblx0XHRcdHNldF9hY3RpdmVfcmVhY3Rpb24ocHJldmlvdXNfcmVhY3Rpb24pO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBzaWduYWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVtb3ZlX2RvbVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2VmZmVjdF9jaGlsZHJlbihzaWduYWwsIHJlbW92ZV9kb20gPSBmYWxzZSkge1xuXHR2YXIgZWZmZWN0ID0gc2lnbmFsLmZpcnN0O1xuXHRzaWduYWwuZmlyc3QgPSBzaWduYWwubGFzdCA9IG51bGw7XG5cblx0d2hpbGUgKGVmZmVjdCAhPT0gbnVsbCkge1xuXHRcdGVmZmVjdC5hYz8uYWJvcnQoU1RBTEVfUkVBQ1RJT04pO1xuXG5cdFx0dmFyIG5leHQgPSBlZmZlY3QubmV4dDtcblxuXHRcdGlmICgoZWZmZWN0LmYgJiBST09UX0VGRkVDVCkgIT09IDApIHtcblx0XHRcdC8vIHRoaXMgaXMgbm93IGFuIGluZGVwZW5kZW50IHJvb3Rcblx0XHRcdGVmZmVjdC5wYXJlbnQgPSBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkZXN0cm95X2VmZmVjdChlZmZlY3QsIHJlbW92ZV9kb20pO1xuXHRcdH1cblxuXHRcdGVmZmVjdCA9IG5leHQ7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gc2lnbmFsXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2tfZWZmZWN0X2NoaWxkcmVuKHNpZ25hbCkge1xuXHR2YXIgZWZmZWN0ID0gc2lnbmFsLmZpcnN0O1xuXG5cdHdoaWxlIChlZmZlY3QgIT09IG51bGwpIHtcblx0XHR2YXIgbmV4dCA9IGVmZmVjdC5uZXh0O1xuXHRcdGlmICgoZWZmZWN0LmYgJiBCUkFOQ0hfRUZGRUNUKSA9PT0gMCkge1xuXHRcdFx0ZGVzdHJveV9lZmZlY3QoZWZmZWN0KTtcblx0XHR9XG5cdFx0ZWZmZWN0ID0gbmV4dDtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZV9kb21dXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfZWZmZWN0KGVmZmVjdCwgcmVtb3ZlX2RvbSA9IHRydWUpIHtcblx0dmFyIHJlbW92ZWQgPSBmYWxzZTtcblxuXHRpZiAoXG5cdFx0KHJlbW92ZV9kb20gfHwgKGVmZmVjdC5mICYgSEVBRF9FRkZFQ1QpICE9PSAwKSAmJlxuXHRcdGVmZmVjdC5ub2Rlc19zdGFydCAhPT0gbnVsbCAmJlxuXHRcdGVmZmVjdC5ub2Rlc19lbmQgIT09IG51bGxcblx0KSB7XG5cdFx0cmVtb3ZlX2VmZmVjdF9kb20oZWZmZWN0Lm5vZGVzX3N0YXJ0LCAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGVmZmVjdC5ub2Rlc19lbmQpKTtcblx0XHRyZW1vdmVkID0gdHJ1ZTtcblx0fVxuXG5cdGRlc3Ryb3lfZWZmZWN0X2NoaWxkcmVuKGVmZmVjdCwgcmVtb3ZlX2RvbSAmJiAhcmVtb3ZlZCk7XG5cdHJlbW92ZV9yZWFjdGlvbnMoZWZmZWN0LCAwKTtcblx0c2V0X3NpZ25hbF9zdGF0dXMoZWZmZWN0LCBERVNUUk9ZRUQpO1xuXG5cdHZhciB0cmFuc2l0aW9ucyA9IGVmZmVjdC50cmFuc2l0aW9ucztcblxuXHRpZiAodHJhbnNpdGlvbnMgIT09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IHRyYW5zaXRpb24gb2YgdHJhbnNpdGlvbnMpIHtcblx0XHRcdHRyYW5zaXRpb24uc3RvcCgpO1xuXHRcdH1cblx0fVxuXG5cdGV4ZWN1dGVfZWZmZWN0X3RlYXJkb3duKGVmZmVjdCk7XG5cblx0dmFyIHBhcmVudCA9IGVmZmVjdC5wYXJlbnQ7XG5cblx0Ly8gSWYgdGhlIHBhcmVudCBkb2Vzbid0IGhhdmUgYW55IGNoaWxkcmVuLCB0aGVuIHNraXAgdGhpcyB3b3JrIGFsdG9nZXRoZXJcblx0aWYgKHBhcmVudCAhPT0gbnVsbCAmJiBwYXJlbnQuZmlyc3QgIT09IG51bGwpIHtcblx0XHR1bmxpbmtfZWZmZWN0KGVmZmVjdCk7XG5cdH1cblxuXHRpZiAoREVWKSB7XG5cdFx0ZWZmZWN0LmNvbXBvbmVudF9mdW5jdGlvbiA9IG51bGw7XG5cdH1cblxuXHQvLyBgZmlyc3RgIGFuZCBgY2hpbGRgIGFyZSBudWxsZWQgb3V0IGluIGRlc3Ryb3lfZWZmZWN0X2NoaWxkcmVuXG5cdC8vIHdlIGRvbid0IG51bGwgb3V0IGBwYXJlbnRgIHNvIHRoYXQgZXJyb3IgcHJvcGFnYXRpb24gY2FuIHdvcmsgY29ycmVjdGx5XG5cdGVmZmVjdC5uZXh0ID1cblx0XHRlZmZlY3QucHJldiA9XG5cdFx0ZWZmZWN0LnRlYXJkb3duID1cblx0XHRlZmZlY3QuY3R4ID1cblx0XHRlZmZlY3QuZGVwcyA9XG5cdFx0ZWZmZWN0LmZuID1cblx0XHRlZmZlY3Qubm9kZXNfc3RhcnQgPVxuXHRcdGVmZmVjdC5ub2Rlc19lbmQgPVxuXHRcdGVmZmVjdC5hYyA9XG5cdFx0XHRudWxsO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZSB8IG51bGx9IG5vZGVcbiAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBlbmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZV9lZmZlY3RfZG9tKG5vZGUsIGVuZCkge1xuXHR3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuXHRcdC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlIHwgbnVsbH0gKi9cblx0XHR2YXIgbmV4dCA9IG5vZGUgPT09IGVuZCA/IG51bGwgOiAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9uZXh0X3NpYmxpbmcobm9kZSkpO1xuXG5cdFx0bm9kZS5yZW1vdmUoKTtcblx0XHRub2RlID0gbmV4dDtcblx0fVxufVxuXG4vKipcbiAqIERldGFjaCBhbiBlZmZlY3QgZnJvbSB0aGUgZWZmZWN0IHRyZWUsIGZyZWVpbmcgdXAgbWVtb3J5IGFuZFxuICogcmVkdWNpbmcgdGhlIGFtb3VudCBvZiB3b3JrIHRoYXQgaGFwcGVucyBvbiBzdWJzZXF1ZW50IHRyYXZlcnNhbHNcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVubGlua19lZmZlY3QoZWZmZWN0KSB7XG5cdHZhciBwYXJlbnQgPSBlZmZlY3QucGFyZW50O1xuXHR2YXIgcHJldiA9IGVmZmVjdC5wcmV2O1xuXHR2YXIgbmV4dCA9IGVmZmVjdC5uZXh0O1xuXG5cdGlmIChwcmV2ICE9PSBudWxsKSBwcmV2Lm5leHQgPSBuZXh0O1xuXHRpZiAobmV4dCAhPT0gbnVsbCkgbmV4dC5wcmV2ID0gcHJldjtcblxuXHRpZiAocGFyZW50ICE9PSBudWxsKSB7XG5cdFx0aWYgKHBhcmVudC5maXJzdCA9PT0gZWZmZWN0KSBwYXJlbnQuZmlyc3QgPSBuZXh0O1xuXHRcdGlmIChwYXJlbnQubGFzdCA9PT0gZWZmZWN0KSBwYXJlbnQubGFzdCA9IHByZXY7XG5cdH1cbn1cblxuLyoqXG4gKiBXaGVuIGEgYmxvY2sgZWZmZWN0IGlzIHJlbW92ZWQsIHdlIGRvbid0IGltbWVkaWF0ZWx5IGRlc3Ryb3kgaXQgb3IgeWFuayBpdFxuICogb3V0IG9mIHRoZSBET00sIGJlY2F1c2UgaXQgbWlnaHQgaGF2ZSB0cmFuc2l0aW9ucy4gSW5zdGVhZCwgd2UgJ3BhdXNlJyBpdC5cbiAqIEl0IHN0YXlzIGFyb3VuZCAoaW4gbWVtb3J5LCBhbmQgaW4gdGhlIERPTSkgdW50aWwgb3V0cm8gdHJhbnNpdGlvbnMgaGF2ZVxuICogY29tcGxldGVkLCBhbmQgaWYgdGhlIHN0YXRlIGNoYW5nZSBpcyByZXZlcnNlZCB0aGVuIHdlIF9yZXN1bWVfIGl0LlxuICogQSBwYXVzZWQgZWZmZWN0IGRvZXMgbm90IHVwZGF0ZSwgYW5kIHRoZSBET00gc3VidHJlZSBiZWNvbWVzIGluZXJ0LlxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXVzZV9lZmZlY3QoZWZmZWN0LCBjYWxsYmFjaykge1xuXHQvKiogQHR5cGUge1RyYW5zaXRpb25NYW5hZ2VyW119ICovXG5cdHZhciB0cmFuc2l0aW9ucyA9IFtdO1xuXG5cdHBhdXNlX2NoaWxkcmVuKGVmZmVjdCwgdHJhbnNpdGlvbnMsIHRydWUpO1xuXG5cdHJ1bl9vdXRfdHJhbnNpdGlvbnModHJhbnNpdGlvbnMsICgpID0+IHtcblx0XHRkZXN0cm95X2VmZmVjdChlZmZlY3QpO1xuXHRcdGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUcmFuc2l0aW9uTWFuYWdlcltdfSB0cmFuc2l0aW9uc1xuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuX291dF90cmFuc2l0aW9ucyh0cmFuc2l0aW9ucywgZm4pIHtcblx0dmFyIHJlbWFpbmluZyA9IHRyYW5zaXRpb25zLmxlbmd0aDtcblx0aWYgKHJlbWFpbmluZyA+IDApIHtcblx0XHR2YXIgY2hlY2sgPSAoKSA9PiAtLXJlbWFpbmluZyB8fCBmbigpO1xuXHRcdGZvciAodmFyIHRyYW5zaXRpb24gb2YgdHJhbnNpdGlvbnMpIHtcblx0XHRcdHRyYW5zaXRpb24ub3V0KGNoZWNrKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Zm4oKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbk1hbmFnZXJbXX0gdHJhbnNpdGlvbnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9jYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhdXNlX2NoaWxkcmVuKGVmZmVjdCwgdHJhbnNpdGlvbnMsIGxvY2FsKSB7XG5cdGlmICgoZWZmZWN0LmYgJiBJTkVSVCkgIT09IDApIHJldHVybjtcblx0ZWZmZWN0LmYgXj0gSU5FUlQ7XG5cblx0aWYgKGVmZmVjdC50cmFuc2l0aW9ucyAhPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgdHJhbnNpdGlvbiBvZiBlZmZlY3QudHJhbnNpdGlvbnMpIHtcblx0XHRcdGlmICh0cmFuc2l0aW9uLmlzX2dsb2JhbCB8fCBsb2NhbCkge1xuXHRcdFx0XHR0cmFuc2l0aW9ucy5wdXNoKHRyYW5zaXRpb24pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHZhciBjaGlsZCA9IGVmZmVjdC5maXJzdDtcblxuXHR3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcblx0XHR2YXIgc2libGluZyA9IGNoaWxkLm5leHQ7XG5cdFx0dmFyIHRyYW5zcGFyZW50ID0gKGNoaWxkLmYgJiBFRkZFQ1RfVFJBTlNQQVJFTlQpICE9PSAwIHx8IChjaGlsZC5mICYgQlJBTkNIX0VGRkVDVCkgIT09IDA7XG5cdFx0Ly8gVE9ETyB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgcGF1c2VfY2hpbGRyZW4gcmVjdXJzaXZlbHkgd2l0aCBhIGxpbmtlZCBsaXN0IGluIHBsYWNlXG5cdFx0Ly8gaXQncyBzbGlnaHRseSBtb3JlIGludm9sdmVkIHRob3VnaCBhcyB3ZSBoYXZlIHRvIGFjY291bnQgZm9yIGB0cmFuc3BhcmVudGAgY2hhbmdpbmdcblx0XHQvLyB0aHJvdWdoIHRoZSB0cmVlLlxuXHRcdHBhdXNlX2NoaWxkcmVuKGNoaWxkLCB0cmFuc2l0aW9ucywgdHJhbnNwYXJlbnQgPyBsb2NhbCA6IGZhbHNlKTtcblx0XHRjaGlsZCA9IHNpYmxpbmc7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgb3Bwb3NpdGUgb2YgYHBhdXNlX2VmZmVjdGAuIFdlIGNhbGwgdGhpcyBpZiAoZm9yIGV4YW1wbGUpXG4gKiBgeGAgYmVjb21lcyBmYWxzeSB0aGVuIHRydXRoeTogYHsjaWYgeH0uLi57L2lmfWBcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc3VtZV9lZmZlY3QoZWZmZWN0KSB7XG5cdHJlc3VtZV9jaGlsZHJlbihlZmZlY3QsIHRydWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9jYWxcbiAqL1xuZnVuY3Rpb24gcmVzdW1lX2NoaWxkcmVuKGVmZmVjdCwgbG9jYWwpIHtcblx0aWYgKChlZmZlY3QuZiAmIElORVJUKSA9PT0gMCkgcmV0dXJuO1xuXHRlZmZlY3QuZiBePSBJTkVSVDtcblxuXHQvLyBJZiBhIGRlcGVuZGVuY3kgb2YgdGhpcyBlZmZlY3QgY2hhbmdlZCB3aGlsZSBpdCB3YXMgcGF1c2VkLFxuXHQvLyBzY2hlZHVsZSB0aGUgZWZmZWN0IHRvIHVwZGF0ZS4gd2UgZG9uJ3QgdXNlIGBpc19kaXJ0eWBcblx0Ly8gaGVyZSBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdG8gZWFnZXJseSByZWNvbXB1dGUgYSBkZXJpdmVkIGxpa2Vcblx0Ly8gYHsjaWYgZm9vfXtmb28uYmFyKCl9ey9pZn1gIGlmIGBmb29gIGlzIG5vdyBgdW5kZWZpbmVkXG5cdGlmICgoZWZmZWN0LmYgJiBDTEVBTikgPT09IDApIHtcblx0XHRzZXRfc2lnbmFsX3N0YXR1cyhlZmZlY3QsIERJUlRZKTtcblx0XHRzY2hlZHVsZV9lZmZlY3QoZWZmZWN0KTtcblx0fVxuXG5cdHZhciBjaGlsZCA9IGVmZmVjdC5maXJzdDtcblxuXHR3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcblx0XHR2YXIgc2libGluZyA9IGNoaWxkLm5leHQ7XG5cdFx0dmFyIHRyYW5zcGFyZW50ID0gKGNoaWxkLmYgJiBFRkZFQ1RfVFJBTlNQQVJFTlQpICE9PSAwIHx8IChjaGlsZC5mICYgQlJBTkNIX0VGRkVDVCkgIT09IDA7XG5cdFx0Ly8gVE9ETyB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgcmVzdW1lX2NoaWxkcmVuIHJlY3Vyc2l2ZWx5IHdpdGggYSBsaW5rZWQgbGlzdCBpbiBwbGFjZVxuXHRcdC8vIGl0J3Mgc2xpZ2h0bHkgbW9yZSBpbnZvbHZlZCB0aG91Z2ggYXMgd2UgaGF2ZSB0byBhY2NvdW50IGZvciBgdHJhbnNwYXJlbnRgIGNoYW5naW5nXG5cdFx0Ly8gdGhyb3VnaCB0aGUgdHJlZS5cblx0XHRyZXN1bWVfY2hpbGRyZW4oY2hpbGQsIHRyYW5zcGFyZW50ID8gbG9jYWwgOiBmYWxzZSk7XG5cdFx0Y2hpbGQgPSBzaWJsaW5nO1xuXHR9XG5cblx0aWYgKGVmZmVjdC50cmFuc2l0aW9ucyAhPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgdHJhbnNpdGlvbiBvZiBlZmZlY3QudHJhbnNpdGlvbnMpIHtcblx0XHRcdGlmICh0cmFuc2l0aW9uLmlzX2dsb2JhbCB8fCBsb2NhbCkge1xuXHRcdFx0XHR0cmFuc2l0aW9uLmluKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhYm9ydGVkKCkge1xuXHR2YXIgZWZmZWN0ID0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KTtcblx0cmV0dXJuIChlZmZlY3QuZiAmIERFU1RST1lFRCkgIT09IDA7XG59XG4iLCJpbXBvcnQgeyB0ZWFyZG93biB9IGZyb20gJy4uLy4uLy4uL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQge1xuXHRhY3RpdmVfZWZmZWN0LFxuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdHNldF9hY3RpdmVfZWZmZWN0LFxuXHRzZXRfYWN0aXZlX3JlYWN0aW9uXG59IGZyb20gJy4uLy4uLy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgYWRkX2Zvcm1fcmVzZXRfbGlzdGVuZXIgfSBmcm9tICcuLi9taXNjLmpzJztcblxuLyoqXG4gKiBGaXJlcyB0aGUgaGFuZGxlciBvbmNlIGltbWVkaWF0ZWx5ICh1bmxlc3MgY29ycmVzcG9uZGluZyBhcmcgaXMgc2V0IHRvIGBmYWxzZWApLFxuICogdGhlbiBsaXN0ZW5zIHRvIHRoZSBnaXZlbiBldmVudHMgdW50aWwgdGhlIHJlbmRlciBlZmZlY3QgY29udGV4dCBpcyBkZXN0cm95ZWRcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBldmVudHNcbiAqIEBwYXJhbSB7KGV2ZW50PzogRXZlbnQpID0+IHZvaWR9IGhhbmRsZXJcbiAqIEBwYXJhbSB7YW55fSBjYWxsX2hhbmRsZXJfaW1tZWRpYXRlbHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbih0YXJnZXQsIGV2ZW50cywgaGFuZGxlciwgY2FsbF9oYW5kbGVyX2ltbWVkaWF0ZWx5ID0gdHJ1ZSkge1xuXHRpZiAoY2FsbF9oYW5kbGVyX2ltbWVkaWF0ZWx5KSB7XG5cdFx0aGFuZGxlcigpO1xuXHR9XG5cblx0Zm9yICh2YXIgbmFtZSBvZiBldmVudHMpIHtcblx0XHR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKTtcblx0fVxuXG5cdHRlYXJkb3duKCgpID0+IHtcblx0XHRmb3IgKHZhciBuYW1lIG9mIGV2ZW50cykge1xuXHRcdFx0dGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlcik7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBUfSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aG91dF9yZWFjdGl2ZV9jb250ZXh0KGZuKSB7XG5cdHZhciBwcmV2aW91c19yZWFjdGlvbiA9IGFjdGl2ZV9yZWFjdGlvbjtcblx0dmFyIHByZXZpb3VzX2VmZmVjdCA9IGFjdGl2ZV9lZmZlY3Q7XG5cdHNldF9hY3RpdmVfcmVhY3Rpb24obnVsbCk7XG5cdHNldF9hY3RpdmVfZWZmZWN0KG51bGwpO1xuXHR0cnkge1xuXHRcdHJldHVybiBmbigpO1xuXHR9IGZpbmFsbHkge1xuXHRcdHNldF9hY3RpdmVfcmVhY3Rpb24ocHJldmlvdXNfcmVhY3Rpb24pO1xuXHRcdHNldF9hY3RpdmVfZWZmZWN0KHByZXZpb3VzX2VmZmVjdCk7XG5cdH1cbn1cblxuLyoqXG4gKiBMaXN0ZW4gdG8gdGhlIGdpdmVuIGV2ZW50LCBhbmQgdGhlbiBpbnN0YW50aWF0ZSBhIGdsb2JhbCBmb3JtIHJlc2V0IGxpc3RlbmVyIGlmIG5vdCBhbHJlYWR5IGRvbmUsXG4gKiB0byBub3RpZnkgYWxsIGJpbmRpbmdzIHdoZW4gdGhlIGZvcm0gaXMgcmVzZXRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICogQHBhcmFtIHsoaXNfcmVzZXQ/OiB0cnVlKSA9PiB2b2lkfSBoYW5kbGVyXG4gKiBAcGFyYW0geyhpc19yZXNldD86IHRydWUpID0+IHZvaWR9IFtvbl9yZXNldF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3Rlbl90b19ldmVudF9hbmRfcmVzZXRfZXZlbnQoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIsIG9uX3Jlc2V0ID0gaGFuZGxlcikge1xuXHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsICgpID0+IHdpdGhvdXRfcmVhY3RpdmVfY29udGV4dChoYW5kbGVyKSk7XG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0Y29uc3QgcHJldiA9IGVsZW1lbnQuX19vbl9yO1xuXHRpZiAocHJldikge1xuXHRcdC8vIHNwZWNpYWwgY2FzZSBmb3IgY2hlY2tib3ggdGhhdCBjYW4gaGF2ZSBtdWx0aXBsZSBiaW5kcyAoZ3JvdXAgJiBjaGVja2VkKVxuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50Ll9fb25fciA9ICgpID0+IHtcblx0XHRcdHByZXYoKTtcblx0XHRcdG9uX3Jlc2V0KHRydWUpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdGVsZW1lbnQuX19vbl9yID0gKCkgPT4gb25fcmVzZXQodHJ1ZSk7XG5cdH1cblxuXHRhZGRfZm9ybV9yZXNldF9saXN0ZW5lcigpO1xufVxuIiwiaW1wb3J0IHsgdGVhcmRvd24gfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgZGVmaW5lX3Byb3BlcnR5LCBpc19hcnJheSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBoeWRyYXRpbmcgfSBmcm9tICcuLi9oeWRyYXRpb24uanMnO1xuaW1wb3J0IHsgcXVldWVfbWljcm9fdGFzayB9IGZyb20gJy4uL3Rhc2suanMnO1xuaW1wb3J0IHsgRklMRU5BTUUgfSBmcm9tICcuLi8uLi8uLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0ICogYXMgdyBmcm9tICcuLi8uLi93YXJuaW5ncy5qcyc7XG5pbXBvcnQge1xuXHRhY3RpdmVfZWZmZWN0LFxuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdHNldF9hY3RpdmVfZWZmZWN0LFxuXHRzZXRfYWN0aXZlX3JlYWN0aW9uXG59IGZyb20gJy4uLy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgd2l0aG91dF9yZWFjdGl2ZV9jb250ZXh0IH0gZnJvbSAnLi9iaW5kaW5ncy9zaGFyZWQuanMnO1xuXG4vKiogQHR5cGUge1NldDxzdHJpbmc+fSAqL1xuZXhwb3J0IGNvbnN0IGFsbF9yZWdpc3RlcmVkX2V2ZW50cyA9IG5ldyBTZXQoKTtcblxuLyoqIEB0eXBlIHtTZXQ8KGV2ZW50czogQXJyYXk8c3RyaW5nPikgPT4gdm9pZD59ICovXG5leHBvcnQgY29uc3Qgcm9vdF9ldmVudF9oYW5kbGVzID0gbmV3IFNldCgpO1xuXG4vKipcbiAqIFNTUiBhZGRzIG9ubG9hZCBhbmQgb25lcnJvciBhdHRyaWJ1dGVzIHRvIGNhdGNoIHRob3NlIGV2ZW50cyBiZWZvcmUgdGhlIGh5ZHJhdGlvbi5cbiAqIFRoaXMgZnVuY3Rpb24gZGV0ZWN0cyB0aG9zZSBjYXNlcywgcmVtb3ZlcyB0aGUgYXR0cmlidXRlcyBhbmQgcmVwbGF5cyB0aGUgZXZlbnRzLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZG9tXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYXlfZXZlbnRzKGRvbSkge1xuXHRpZiAoIWh5ZHJhdGluZykgcmV0dXJuO1xuXG5cdGRvbS5yZW1vdmVBdHRyaWJ1dGUoJ29ubG9hZCcpO1xuXHRkb20ucmVtb3ZlQXR0cmlidXRlKCdvbmVycm9yJyk7XG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0Y29uc3QgZXZlbnQgPSBkb20uX19lO1xuXHRpZiAoZXZlbnQgIT09IHVuZGVmaW5lZCkge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRkb20uX19lID0gdW5kZWZpbmVkO1xuXHRcdHF1ZXVlTWljcm90YXNrKCgpID0+IHtcblx0XHRcdGlmIChkb20uaXNDb25uZWN0ZWQpIHtcblx0XHRcdFx0ZG9tLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50X25hbWVcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGRvbVxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyfSBbaGFuZGxlcl1cbiAqIEBwYXJhbSB7QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN9IFtvcHRpb25zXVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2V2ZW50KGV2ZW50X25hbWUsIGRvbSwgaGFuZGxlciwgb3B0aW9ucyA9IHt9KSB7XG5cdC8qKlxuXHQgKiBAdGhpcyB7RXZlbnRUYXJnZXR9XG5cdCAqL1xuXHRmdW5jdGlvbiB0YXJnZXRfaGFuZGxlcigvKiogQHR5cGUge0V2ZW50fSAqLyBldmVudCkge1xuXHRcdGlmICghb3B0aW9ucy5jYXB0dXJlKSB7XG5cdFx0XHQvLyBPbmx5IGNhbGwgaW4gdGhlIGJ1YmJsZSBwaGFzZSwgZWxzZSBkZWxlZ2F0ZWQgZXZlbnRzIHdvdWxkIGJlIGNhbGxlZCBiZWZvcmUgdGhlIGNhcHR1cmluZyBldmVudHNcblx0XHRcdGhhbmRsZV9ldmVudF9wcm9wYWdhdGlvbi5jYWxsKGRvbSwgZXZlbnQpO1xuXHRcdH1cblx0XHRpZiAoIWV2ZW50LmNhbmNlbEJ1YmJsZSkge1xuXHRcdFx0cmV0dXJuIHdpdGhvdXRfcmVhY3RpdmVfY29udGV4dCgoKSA9PiB7XG5cdFx0XHRcdHJldHVybiBoYW5kbGVyPy5jYWxsKHRoaXMsIGV2ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIENocm9tZSBoYXMgYSBidWcgd2hlcmUgcG9pbnRlciBldmVudHMgZG9uJ3Qgd29yayB3aGVuIGF0dGFjaGVkIHRvIGEgRE9NIGVsZW1lbnQgdGhhdCBoYXMgYmVlbiBjbG9uZWRcblx0Ly8gd2l0aCBjbG9uZU5vZGUoKSBhbmQgdGhlIERPTSBlbGVtZW50IGlzIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBkb2N1bWVudC4gVG8gZW5zdXJlIHRoZSBldmVudCB3b3Jrcywgd2Vcblx0Ly8gZGVmZXIgdGhlIGF0dGFjaG1lbnQgdGlsbCBhZnRlciBpdCdzIGJlZW4gYXBwZW5kZWQgdG8gdGhlIGRvY3VtZW50LiBUT0RPOiByZW1vdmUgdGhpcyBvbmNlIENocm9tZSBmaXhlc1xuXHQvLyB0aGlzIGJ1Zy4gVGhlIHNhbWUgYXBwbGllcyB0byB3aGVlbCBldmVudHMgYW5kIHRvdWNoIGV2ZW50cy5cblx0aWYgKFxuXHRcdGV2ZW50X25hbWUuc3RhcnRzV2l0aCgncG9pbnRlcicpIHx8XG5cdFx0ZXZlbnRfbmFtZS5zdGFydHNXaXRoKCd0b3VjaCcpIHx8XG5cdFx0ZXZlbnRfbmFtZSA9PT0gJ3doZWVsJ1xuXHQpIHtcblx0XHRxdWV1ZV9taWNyb190YXNrKCgpID0+IHtcblx0XHRcdGRvbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50X25hbWUsIHRhcmdldF9oYW5kbGVyLCBvcHRpb25zKTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRkb20uYWRkRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCB0YXJnZXRfaGFuZGxlciwgb3B0aW9ucyk7XG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0X2hhbmRsZXI7XG59XG5cbi8qKlxuICogQXR0YWNoZXMgYW4gZXZlbnQgaGFuZGxlciB0byBhbiBlbGVtZW50IGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCByZW1vdmVzIHRoZSBoYW5kbGVyLiBVc2luZyB0aGlzXG4gKiByYXRoZXIgdGhhbiBgYWRkRXZlbnRMaXN0ZW5lcmAgd2lsbCBwcmVzZXJ2ZSB0aGUgY29ycmVjdCBvcmRlciByZWxhdGl2ZSB0byBoYW5kbGVycyBhZGRlZCBkZWNsYXJhdGl2ZWx5XG4gKiAod2l0aCBhdHRyaWJ1dGVzIGxpa2UgYG9uY2xpY2tgKSwgd2hpY2ggdXNlIGV2ZW50IGRlbGVnYXRpb24gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAqXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyfSBoYW5kbGVyXG4gKiBAcGFyYW0ge0FkZEV2ZW50TGlzdGVuZXJPcHRpb25zfSBbb3B0aW9uc11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uKGVsZW1lbnQsIHR5cGUsIGhhbmRsZXIsIG9wdGlvbnMgPSB7fSkge1xuXHR2YXIgdGFyZ2V0X2hhbmRsZXIgPSBjcmVhdGVfZXZlbnQodHlwZSwgZWxlbWVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgdGFyZ2V0X2hhbmRsZXIsIG9wdGlvbnMpO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudF9uYW1lXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGRvbVxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyfSBbaGFuZGxlcl1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NhcHR1cmVdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwYXNzaXZlXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBldmVudChldmVudF9uYW1lLCBkb20sIGhhbmRsZXIsIGNhcHR1cmUsIHBhc3NpdmUpIHtcblx0dmFyIG9wdGlvbnMgPSB7IGNhcHR1cmUsIHBhc3NpdmUgfTtcblx0dmFyIHRhcmdldF9oYW5kbGVyID0gY3JlYXRlX2V2ZW50KGV2ZW50X25hbWUsIGRvbSwgaGFuZGxlciwgb3B0aW9ucyk7XG5cblx0aWYgKFxuXHRcdGRvbSA9PT0gZG9jdW1lbnQuYm9keSB8fFxuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRkb20gPT09IHdpbmRvdyB8fFxuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRkb20gPT09IGRvY3VtZW50IHx8XG5cdFx0Ly8gRmlyZWZveCBoYXMgcXVpcmt5IGJlaGF2aW9yLCBpdCBjYW4gaGFwcGVuIHRoYXQgd2Ugc3RpbGwgZ2V0IFwiY2FucGxheVwiIGV2ZW50cyB3aGVuIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgcmVtb3ZlZFxuXHRcdGRvbSBpbnN0YW5jZW9mIEhUTUxNZWRpYUVsZW1lbnRcblx0KSB7XG5cdFx0dGVhcmRvd24oKCkgPT4ge1xuXHRcdFx0ZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgdGFyZ2V0X2hhbmRsZXIsIG9wdGlvbnMpO1xuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBldmVudHNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZWdhdGUoZXZlbnRzKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0YWxsX3JlZ2lzdGVyZWRfZXZlbnRzLmFkZChldmVudHNbaV0pO1xuXHR9XG5cblx0Zm9yICh2YXIgZm4gb2Ygcm9vdF9ldmVudF9oYW5kbGVzKSB7XG5cdFx0Zm4oZXZlbnRzKTtcblx0fVxufVxuXG4vKipcbiAqIEB0aGlzIHtFdmVudFRhcmdldH1cbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZV9ldmVudF9wcm9wYWdhdGlvbihldmVudCkge1xuXHR2YXIgaGFuZGxlcl9lbGVtZW50ID0gdGhpcztcblx0dmFyIG93bmVyX2RvY3VtZW50ID0gLyoqIEB0eXBlIHtOb2RlfSAqLyAoaGFuZGxlcl9lbGVtZW50KS5vd25lckRvY3VtZW50O1xuXHR2YXIgZXZlbnRfbmFtZSA9IGV2ZW50LnR5cGU7XG5cdHZhciBwYXRoID0gZXZlbnQuY29tcG9zZWRQYXRoPy4oKSB8fCBbXTtcblx0dmFyIGN1cnJlbnRfdGFyZ2V0ID0gLyoqIEB0eXBlIHtudWxsIHwgRWxlbWVudH0gKi8gKHBhdGhbMF0gfHwgZXZlbnQudGFyZ2V0KTtcblxuXHQvLyBjb21wb3NlZFBhdGggY29udGFpbnMgbGlzdCBvZiBub2RlcyB0aGUgZXZlbnQgaGFzIHByb3BhZ2F0ZWQgdGhyb3VnaC5cblx0Ly8gV2UgY2hlY2sgX19yb290IHRvIHNraXAgYWxsIG5vZGVzIGJlbG93IGl0IGluIGNhc2UgdGhpcyBpcyBhXG5cdC8vIHBhcmVudCBvZiB0aGUgX19yb290IG5vZGUsIHdoaWNoIGluZGljYXRlcyB0aGF0IHRoZXJlJ3MgbmVzdGVkXG5cdC8vIG1vdW50ZWQgYXBwcy4gSW4gdGhpcyBjYXNlIHdlIGRvbid0IHdhbnQgdG8gdHJpZ2dlciBldmVudHMgbXVsdGlwbGUgdGltZXMuXG5cdHZhciBwYXRoX2lkeCA9IDA7XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvciBpcyBhZGRlZCBiZWxvd1xuXHR2YXIgaGFuZGxlZF9hdCA9IGV2ZW50Ll9fcm9vdDtcblxuXHRpZiAoaGFuZGxlZF9hdCkge1xuXHRcdHZhciBhdF9pZHggPSBwYXRoLmluZGV4T2YoaGFuZGxlZF9hdCk7XG5cdFx0aWYgKFxuXHRcdFx0YXRfaWR4ICE9PSAtMSAmJlxuXHRcdFx0KGhhbmRsZXJfZWxlbWVudCA9PT0gZG9jdW1lbnQgfHwgaGFuZGxlcl9lbGVtZW50ID09PSAvKiogQHR5cGUge2FueX0gKi8gKHdpbmRvdykpXG5cdFx0KSB7XG5cdFx0XHQvLyBUaGlzIGlzIHRoZSBmYWxsYmFjayBkb2N1bWVudCBsaXN0ZW5lciBvciBhIHdpbmRvdyBsaXN0ZW5lciwgYnV0IHRoZSBldmVudCB3YXMgYWxyZWFkeSBoYW5kbGVkXG5cdFx0XHQvLyAtPiBpZ25vcmUsIGJ1dCBzZXQgaGFuZGxlX2F0IHRvIGRvY3VtZW50L3dpbmRvdyBzbyB0aGF0IHdlJ3JlIHJlc2V0dGluZyB0aGUgZXZlbnRcblx0XHRcdC8vIGNoYWluIGluIGNhc2Ugc29tZW9uZSBtYW51YWxseSBkaXNwYXRjaGVzIHRoZSBzYW1lIGV2ZW50IG9iamVjdCBhZ2Fpbi5cblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdGV2ZW50Ll9fcm9vdCA9IGhhbmRsZXJfZWxlbWVudDtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBXZSdyZSBkZWxpYmVyYXRlbHkgbm90IHNraXBwaW5nIGlmIHRoZSBpbmRleCBpcyBoaWdoZXIsIGJlY2F1c2Vcblx0XHQvLyBzb21lb25lIGNvdWxkIGNyZWF0ZSBhbiBldmVudCBwcm9ncmFtbWF0aWNhbGx5IGFuZCBlbWl0IGl0IG11bHRpcGxlIHRpbWVzLFxuXHRcdC8vIGluIHdoaWNoIGNhc2Ugd2Ugd2FudCB0byBoYW5kbGUgdGhlIHdob2xlIHByb3BhZ2F0aW9uIGNoYWluIHByb3Blcmx5IGVhY2ggdGltZS5cblx0XHQvLyAodGhpcyB3aWxsIG9ubHkgYmUgYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGUgZXZlbnQgaXMgZGlzcGF0Y2hlZCBtdWx0aXBsZSB0aW1lcyBhbmRcblx0XHQvLyB0aGUgZmFsbGJhY2sgZG9jdW1lbnQgbGlzdGVuZXIgaXNuJ3QgcmVhY2hlZCBpbiBiZXR3ZWVuLCBidXQgdGhhdCdzIHN1cGVyIHJhcmUpXG5cdFx0dmFyIGhhbmRsZXJfaWR4ID0gcGF0aC5pbmRleE9mKGhhbmRsZXJfZWxlbWVudCk7XG5cdFx0aWYgKGhhbmRsZXJfaWR4ID09PSAtMSkge1xuXHRcdFx0Ly8gaGFuZGxlX2lkeCBjYW4gdGhlb3JldGljYWxseSBiZSAtMSAoaGFwcGVuZWQgaW4gc29tZSBKU0RPTSB0ZXN0aW5nIHNjZW5hcmlvcyB3aXRoIGFuIGV2ZW50IGxpc3RlbmVyIG9uIHRoZSB3aW5kb3cgb2JqZWN0KVxuXHRcdFx0Ly8gc28gZ3VhcmQgYWdhaW5zdCB0aGF0LCB0b28sIGFuZCBhc3N1bWUgdGhhdCBldmVyeXRoaW5nIHdhcyBoYW5kbGVkIGF0IHRoaXMgcG9pbnQuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKGF0X2lkeCA8PSBoYW5kbGVyX2lkeCkge1xuXHRcdFx0cGF0aF9pZHggPSBhdF9pZHg7XG5cdFx0fVxuXHR9XG5cblx0Y3VycmVudF90YXJnZXQgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChwYXRoW3BhdGhfaWR4XSB8fCBldmVudC50YXJnZXQpO1xuXHQvLyB0aGVyZSBjYW4gb25seSBiZSBvbmUgZGVsZWdhdGVkIGV2ZW50IHBlciBlbGVtZW50LCBhbmQgd2UgZWl0aGVyIGFscmVhZHkgaGFuZGxlZCB0aGUgY3VycmVudCB0YXJnZXQsXG5cdC8vIG9yIHRoaXMgaXMgdGhlIHZlcnkgZmlyc3QgdGFyZ2V0IGluIHRoZSBjaGFpbiB3aGljaCBoYXMgYSBub24tZGVsZWdhdGVkIGxpc3RlbmVyLCBpbiB3aGljaCBjYXNlIGl0J3Mgc2FmZVxuXHQvLyB0byBoYW5kbGUgYSBwb3NzaWJsZSBkZWxlZ2F0ZWQgZXZlbnQgb24gaXQgbGF0ZXIgKHRocm91Z2ggdGhlIHJvb3QgZGVsZWdhdGlvbiBsaXN0ZW5lciBmb3IgZXhhbXBsZSkuXG5cdGlmIChjdXJyZW50X3RhcmdldCA9PT0gaGFuZGxlcl9lbGVtZW50KSByZXR1cm47XG5cblx0Ly8gUHJveHkgY3VycmVudFRhcmdldCB0byBjb3JyZWN0IHRhcmdldFxuXHRkZWZpbmVfcHJvcGVydHkoZXZlbnQsICdjdXJyZW50VGFyZ2V0Jywge1xuXHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRnZXQoKSB7XG5cdFx0XHRyZXR1cm4gY3VycmVudF90YXJnZXQgfHwgb3duZXJfZG9jdW1lbnQ7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBUaGlzIHN0YXJ0ZWQgYmVjYXVzZSBvZiBDaHJvbWl1bSBpc3N1ZSBodHRwczovL2Nocm9tZXN0YXR1cy5jb20vZmVhdHVyZS81MTI4Njk2ODIzNTQ1ODU2LFxuXHQvLyB3aGVyZSByZW1vdmFsIG9yIG1vdmluZyBvZiBvZiB0aGUgRE9NIGNhbiBjYXVzZSBzeW5jIGBibHVyYCBldmVudHMgdG8gZmlyZSwgd2hpY2ggY2FuIGNhdXNlIGxvZ2ljXG5cdC8vIHRvIHJ1biBpbnNpZGUgdGhlIGN1cnJlbnQgYGFjdGl2ZV9yZWFjdGlvbmAsIHdoaWNoIGlzbid0IHdoYXQgd2Ugd2FudCBhdCBhbGwuIEhvd2V2ZXIsIG9uIHJlZmxlY3Rpb24sXG5cdC8vIGl0J3MgcHJvYmFibHkgYmVzdCB0aGF0IGFsbCBldmVudCBoYW5kbGVkIGJ5IFN2ZWx0ZSBoYXZlIHRoaXMgYmVoYXZpb3VyLCBhcyB3ZSBkb24ndCByZWFsbHkgd2FudFxuXHQvLyBhbiBldmVudCBoYW5kbGVyIHRvIHJ1biBpbiB0aGUgY29udGV4dCBvZiBhbm90aGVyIHJlYWN0aW9uIG9yIGVmZmVjdC5cblx0dmFyIHByZXZpb3VzX3JlYWN0aW9uID0gYWN0aXZlX3JlYWN0aW9uO1xuXHR2YXIgcHJldmlvdXNfZWZmZWN0ID0gYWN0aXZlX2VmZmVjdDtcblx0c2V0X2FjdGl2ZV9yZWFjdGlvbihudWxsKTtcblx0c2V0X2FjdGl2ZV9lZmZlY3QobnVsbCk7XG5cblx0dHJ5IHtcblx0XHQvKipcblx0XHQgKiBAdHlwZSB7dW5rbm93bn1cblx0XHQgKi9cblx0XHR2YXIgdGhyb3dfZXJyb3I7XG5cdFx0LyoqXG5cdFx0ICogQHR5cGUge3Vua25vd25bXX1cblx0XHQgKi9cblx0XHR2YXIgb3RoZXJfZXJyb3JzID0gW107XG5cblx0XHR3aGlsZSAoY3VycmVudF90YXJnZXQgIT09IG51bGwpIHtcblx0XHRcdC8qKiBAdHlwZSB7bnVsbCB8IEVsZW1lbnR9ICovXG5cdFx0XHR2YXIgcGFyZW50X2VsZW1lbnQgPVxuXHRcdFx0XHRjdXJyZW50X3RhcmdldC5hc3NpZ25lZFNsb3QgfHxcblx0XHRcdFx0Y3VycmVudF90YXJnZXQucGFyZW50Tm9kZSB8fFxuXHRcdFx0XHQvKiogQHR5cGUge2FueX0gKi8gKGN1cnJlbnRfdGFyZ2V0KS5ob3N0IHx8XG5cdFx0XHRcdG51bGw7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdFx0dmFyIGRlbGVnYXRlZCA9IGN1cnJlbnRfdGFyZ2V0WydfXycgKyBldmVudF9uYW1lXTtcblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0ZGVsZWdhdGVkICE9IG51bGwgJiZcblx0XHRcdFx0XHQoISgvKiogQHR5cGUge2FueX0gKi8gKGN1cnJlbnRfdGFyZ2V0KS5kaXNhYmxlZCkgfHxcblx0XHRcdFx0XHRcdC8vIERPTSBjb3VsZCd2ZSBiZWVuIHVwZGF0ZWQgYWxyZWFkeSBieSB0aGUgdGltZSB0aGlzIGlzIHJlYWNoZWQsIHNvIHdlIGNoZWNrIHRoaXMgYXMgd2VsbFxuXHRcdFx0XHRcdFx0Ly8gLT4gdGhlIHRhcmdldCBjb3VsZCBub3QgaGF2ZSBiZWVuIGRpc2FibGVkIGJlY2F1c2UgaXQgZW1pdHMgdGhlIGV2ZW50IGluIHRoZSBmaXJzdCBwbGFjZVxuXHRcdFx0XHRcdFx0ZXZlbnQudGFyZ2V0ID09PSBjdXJyZW50X3RhcmdldClcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0aWYgKGlzX2FycmF5KGRlbGVnYXRlZCkpIHtcblx0XHRcdFx0XHRcdHZhciBbZm4sIC4uLmRhdGFdID0gZGVsZWdhdGVkO1xuXHRcdFx0XHRcdFx0Zm4uYXBwbHkoY3VycmVudF90YXJnZXQsIFtldmVudCwgLi4uZGF0YV0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRkZWxlZ2F0ZWQuY2FsbChjdXJyZW50X3RhcmdldCwgZXZlbnQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0aWYgKHRocm93X2Vycm9yKSB7XG5cdFx0XHRcdFx0b3RoZXJfZXJyb3JzLnB1c2goZXJyb3IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRocm93X2Vycm9yID0gZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChldmVudC5jYW5jZWxCdWJibGUgfHwgcGFyZW50X2VsZW1lbnQgPT09IGhhbmRsZXJfZWxlbWVudCB8fCBwYXJlbnRfZWxlbWVudCA9PT0gbnVsbCkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGN1cnJlbnRfdGFyZ2V0ID0gcGFyZW50X2VsZW1lbnQ7XG5cdFx0fVxuXG5cdFx0aWYgKHRocm93X2Vycm9yKSB7XG5cdFx0XHRmb3IgKGxldCBlcnJvciBvZiBvdGhlcl9lcnJvcnMpIHtcblx0XHRcdFx0Ly8gVGhyb3cgdGhlIHJlc3Qgb2YgdGhlIGVycm9ycywgb25lLWJ5LW9uZSBvbiBhIG1pY3JvdGFza1xuXHRcdFx0XHRxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG5cdFx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0dGhyb3cgdGhyb3dfZXJyb3I7XG5cdFx0fVxuXHR9IGZpbmFsbHkge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgaXMgdXNlZCBhYm92ZVxuXHRcdGV2ZW50Ll9fcm9vdCA9IGhhbmRsZXJfZWxlbWVudDtcblx0XHQvLyBAdHMtaWdub3JlIHJlbW92ZSBwcm94eSBvbiBjdXJyZW50VGFyZ2V0XG5cdFx0ZGVsZXRlIGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG5cdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihwcmV2aW91c19yZWFjdGlvbik7XG5cdFx0c2V0X2FjdGl2ZV9lZmZlY3QocHJldmlvdXNfZWZmZWN0KTtcblx0fVxufVxuXG4vKipcbiAqIEluIGRldiwgd2FybiBpZiBhbiBldmVudCBoYW5kbGVyIGlzIG5vdCBhIGZ1bmN0aW9uLCBhcyBpdCBtZWFucyB0aGVcbiAqIHVzZXIgcHJvYmFibHkgY2FsbGVkIHRoZSBoYW5kbGVyIG9yIGZvcmdvdCB0byBhZGQgYSBgKCkgPT5gXG4gKiBAcGFyYW0geygpID0+IChldmVudDogRXZlbnQsIC4uLmFyZ3M6IGFueSkgPT4gdm9pZH0gdGh1bmtcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7W0V2ZW50LCAuLi5hbnldfSBhcmdzXG4gKiBAcGFyYW0ge2FueX0gY29tcG9uZW50XG4gKiBAcGFyYW0ge1tudW1iZXIsIG51bWJlcl19IFtsb2NdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVfcGFyZW5zXVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHkoXG5cdHRodW5rLFxuXHRlbGVtZW50LFxuXHRhcmdzLFxuXHRjb21wb25lbnQsXG5cdGxvYyxcblx0aGFzX3NpZGVfZWZmZWN0cyA9IGZhbHNlLFxuXHRyZW1vdmVfcGFyZW5zID0gZmFsc2Vcbikge1xuXHRsZXQgaGFuZGxlcjtcblx0bGV0IGVycm9yO1xuXG5cdHRyeSB7XG5cdFx0aGFuZGxlciA9IHRodW5rKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRlcnJvciA9IGU7XG5cdH1cblxuXHRpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicgJiYgKGhhc19zaWRlX2VmZmVjdHMgfHwgaGFuZGxlciAhPSBudWxsIHx8IGVycm9yKSkge1xuXHRcdGNvbnN0IGZpbGVuYW1lID0gY29tcG9uZW50Py5bRklMRU5BTUVdO1xuXHRcdGNvbnN0IGxvY2F0aW9uID0gbG9jID8gYCBhdCAke2ZpbGVuYW1lfToke2xvY1swXX06JHtsb2NbMV19YCA6IGAgaW4gJHtmaWxlbmFtZX1gO1xuXHRcdGNvbnN0IHBoYXNlID0gYXJnc1swXT8uZXZlbnRQaGFzZSA8IEV2ZW50LkJVQkJMSU5HX1BIQVNFID8gJ2NhcHR1cmUnIDogJyc7XG5cdFx0Y29uc3QgZXZlbnRfbmFtZSA9IGFyZ3NbMF0/LnR5cGUgKyBwaGFzZTtcblx0XHRjb25zdCBkZXNjcmlwdGlvbiA9IGBcXGAke2V2ZW50X25hbWV9XFxgIGhhbmRsZXIke2xvY2F0aW9ufWA7XG5cdFx0Y29uc3Qgc3VnZ2VzdGlvbiA9IHJlbW92ZV9wYXJlbnMgPyAncmVtb3ZlIHRoZSB0cmFpbGluZyBgKClgJyA6ICdhZGQgYSBsZWFkaW5nIGAoKSA9PmAnO1xuXG5cdFx0dy5ldmVudF9oYW5kbGVyX2ludmFsaWQoZGVzY3JpcHRpb24sIHN1Z2dlc3Rpb24pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cdH1cblx0aGFuZGxlcj8uYXBwbHkoZWxlbWVudCwgYXJncyk7XG59XG4iLCIvKiogQHBhcmFtIHtzdHJpbmd9IGh0bWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnRfZnJvbV9odG1sKGh0bWwpIHtcblx0dmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXHRlbGVtLmlubmVySFRNTCA9IGh0bWwucmVwbGFjZUFsbCgnPCE+JywgJzwhLS0tLT4nKTsgLy8gWEhUTUwgY29tcGxpYW5jZVxuXHRyZXR1cm4gZWxlbS5jb250ZW50O1xufVxuIiwiLyoqIEBpbXBvcnQgeyBFZmZlY3QsIFRlbXBsYXRlTm9kZSB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IFRlbXBsYXRlU3RydWN0dXJlIH0gZnJvbSAnLi90eXBlcycgKi9cbmltcG9ydCB7IGh5ZHJhdGVfbmV4dCwgaHlkcmF0ZV9ub2RlLCBoeWRyYXRpbmcsIHNldF9oeWRyYXRlX25vZGUgfSBmcm9tICcuL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQge1xuXHRjcmVhdGVfdGV4dCxcblx0Z2V0X2ZpcnN0X2NoaWxkLFxuXHRpc19maXJlZm94LFxuXHRjcmVhdGVfZWxlbWVudCxcblx0Y3JlYXRlX2ZyYWdtZW50LFxuXHRjcmVhdGVfY29tbWVudCxcblx0c2V0X2F0dHJpYnV0ZVxufSBmcm9tICcuL29wZXJhdGlvbnMuanMnO1xuaW1wb3J0IHsgY3JlYXRlX2ZyYWdtZW50X2Zyb21faHRtbCB9IGZyb20gJy4vcmVjb25jaWxlci5qcyc7XG5pbXBvcnQgeyBhY3RpdmVfZWZmZWN0IH0gZnJvbSAnLi4vcnVudGltZS5qcyc7XG5pbXBvcnQge1xuXHROQU1FU1BBQ0VfTUFUSE1MLFxuXHROQU1FU1BBQ0VfU1ZHLFxuXHRURU1QTEFURV9GUkFHTUVOVCxcblx0VEVNUExBVEVfVVNFX0lNUE9SVF9OT0RFLFxuXHRURU1QTEFURV9VU0VfTUFUSE1MLFxuXHRURU1QTEFURV9VU0VfU1ZHXG59IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBDT01NRU5UX05PREUsIERPQ1VNRU5UX0ZSQUdNRU5UX05PREUsIFRFWFRfTk9ERSB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcblxuLyoqXG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gc3RhcnRcbiAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlIHwgbnVsbH0gZW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25fbm9kZXMoc3RhcnQsIGVuZCkge1xuXHR2YXIgZWZmZWN0ID0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KTtcblx0aWYgKGVmZmVjdC5ub2Rlc19zdGFydCA9PT0gbnVsbCkge1xuXHRcdGVmZmVjdC5ub2Rlc19zdGFydCA9IHN0YXJ0O1xuXHRcdGVmZmVjdC5ub2Rlc19lbmQgPSBlbmQ7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcmV0dXJucyB7KCkgPT4gTm9kZSB8IE5vZGVbXX1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZnJvbV9odG1sKGNvbnRlbnQsIGZsYWdzKSB7XG5cdHZhciBpc19mcmFnbWVudCA9IChmbGFncyAmIFRFTVBMQVRFX0ZSQUdNRU5UKSAhPT0gMDtcblx0dmFyIHVzZV9pbXBvcnRfbm9kZSA9IChmbGFncyAmIFRFTVBMQVRFX1VTRV9JTVBPUlRfTk9ERSkgIT09IDA7XG5cblx0LyoqIEB0eXBlIHtOb2RlfSAqL1xuXHR2YXIgbm9kZTtcblxuXHQvKipcblx0ICogV2hldGhlciBvciBub3QgdGhlIGZpcnN0IGl0ZW0gaXMgYSB0ZXh0L2VsZW1lbnQgbm9kZS4gSWYgbm90LCB3ZSBuZWVkIHRvXG5cdCAqIGNyZWF0ZSBhbiBhZGRpdGlvbmFsIGNvbW1lbnQgbm9kZSB0byBhY3QgYXMgYGVmZmVjdC5ub2Rlcy5zdGFydGBcblx0ICovXG5cdHZhciBoYXNfc3RhcnQgPSAhY29udGVudC5zdGFydHNXaXRoKCc8IT4nKTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdGFzc2lnbl9ub2RlcyhoeWRyYXRlX25vZGUsIG51bGwpO1xuXHRcdFx0cmV0dXJuIGh5ZHJhdGVfbm9kZTtcblx0XHR9XG5cblx0XHRpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRub2RlID0gY3JlYXRlX2ZyYWdtZW50X2Zyb21faHRtbChoYXNfc3RhcnQgPyBjb250ZW50IDogJzwhPicgKyBjb250ZW50KTtcblx0XHRcdGlmICghaXNfZnJhZ21lbnQpIG5vZGUgPSAvKiogQHR5cGUge05vZGV9ICovIChnZXRfZmlyc3RfY2hpbGQobm9kZSkpO1xuXHRcdH1cblxuXHRcdHZhciBjbG9uZSA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoXG5cdFx0XHR1c2VfaW1wb3J0X25vZGUgfHwgaXNfZmlyZWZveCA/IGRvY3VtZW50LmltcG9ydE5vZGUobm9kZSwgdHJ1ZSkgOiBub2RlLmNsb25lTm9kZSh0cnVlKVxuXHRcdCk7XG5cblx0XHRpZiAoaXNfZnJhZ21lbnQpIHtcblx0XHRcdHZhciBzdGFydCA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X2ZpcnN0X2NoaWxkKGNsb25lKSk7XG5cdFx0XHR2YXIgZW5kID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChjbG9uZS5sYXN0Q2hpbGQpO1xuXG5cdFx0XHRhc3NpZ25fbm9kZXMoc3RhcnQsIGVuZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFzc2lnbl9ub2RlcyhjbG9uZSwgY2xvbmUpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjbG9uZTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcGFyYW0geydzdmcnIHwgJ21hdGgnfSBuc1xuICogQHJldHVybnMgeygpID0+IE5vZGUgfCBOb2RlW119XG4gKi9cbi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuZnVuY3Rpb24gZnJvbV9uYW1lc3BhY2UoY29udGVudCwgZmxhZ3MsIG5zID0gJ3N2ZycpIHtcblx0LyoqXG5cdCAqIFdoZXRoZXIgb3Igbm90IHRoZSBmaXJzdCBpdGVtIGlzIGEgdGV4dC9lbGVtZW50IG5vZGUuIElmIG5vdCwgd2UgbmVlZCB0b1xuXHQgKiBjcmVhdGUgYW4gYWRkaXRpb25hbCBjb21tZW50IG5vZGUgdG8gYWN0IGFzIGBlZmZlY3Qubm9kZXMuc3RhcnRgXG5cdCAqL1xuXHR2YXIgaGFzX3N0YXJ0ID0gIWNvbnRlbnQuc3RhcnRzV2l0aCgnPCE+Jyk7XG5cblx0dmFyIGlzX2ZyYWdtZW50ID0gKGZsYWdzICYgVEVNUExBVEVfRlJBR01FTlQpICE9PSAwO1xuXHR2YXIgd3JhcHBlZCA9IGA8JHtuc30+JHtoYXNfc3RhcnQgPyBjb250ZW50IDogJzwhPicgKyBjb250ZW50fTwvJHtuc30+YDtcblxuXHQvKiogQHR5cGUge0VsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50fSAqL1xuXHR2YXIgbm9kZTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdGFzc2lnbl9ub2RlcyhoeWRyYXRlX25vZGUsIG51bGwpO1xuXHRcdFx0cmV0dXJuIGh5ZHJhdGVfbm9kZTtcblx0XHR9XG5cblx0XHRpZiAoIW5vZGUpIHtcblx0XHRcdHZhciBmcmFnbWVudCA9IC8qKiBAdHlwZSB7RG9jdW1lbnRGcmFnbWVudH0gKi8gKGNyZWF0ZV9mcmFnbWVudF9mcm9tX2h0bWwod3JhcHBlZCkpO1xuXHRcdFx0dmFyIHJvb3QgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChnZXRfZmlyc3RfY2hpbGQoZnJhZ21lbnQpKTtcblxuXHRcdFx0aWYgKGlzX2ZyYWdtZW50KSB7XG5cdFx0XHRcdG5vZGUgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0XHRcdHdoaWxlIChnZXRfZmlyc3RfY2hpbGQocm9vdCkpIHtcblx0XHRcdFx0XHRub2RlLmFwcGVuZENoaWxkKC8qKiBAdHlwZSB7Tm9kZX0gKi8gKGdldF9maXJzdF9jaGlsZChyb290KSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoZ2V0X2ZpcnN0X2NoaWxkKHJvb3QpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgY2xvbmUgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKG5vZGUuY2xvbmVOb2RlKHRydWUpKTtcblxuXHRcdGlmIChpc19mcmFnbWVudCkge1xuXHRcdFx0dmFyIHN0YXJ0ID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfZmlyc3RfY2hpbGQoY2xvbmUpKTtcblx0XHRcdHZhciBlbmQgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGNsb25lLmxhc3RDaGlsZCk7XG5cblx0XHRcdGFzc2lnbl9ub2RlcyhzdGFydCwgZW5kKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXNzaWduX25vZGVzKGNsb25lLCBjbG9uZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50XG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZnJvbV9zdmcoY29udGVudCwgZmxhZ3MpIHtcblx0cmV0dXJuIGZyb21fbmFtZXNwYWNlKGNvbnRlbnQsIGZsYWdzLCAnc3ZnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tX21hdGhtbChjb250ZW50LCBmbGFncykge1xuXHRyZXR1cm4gZnJvbV9uYW1lc3BhY2UoY29udGVudCwgZmxhZ3MsICdtYXRoJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZW1wbGF0ZVN0cnVjdHVyZVtdfSBzdHJ1Y3R1cmVcbiAqIEBwYXJhbSB7TkFNRVNQQUNFX1NWRyB8IE5BTUVTUEFDRV9NQVRITUwgfCB1bmRlZmluZWR9IFtuc11cbiAqL1xuZnVuY3Rpb24gZnJhZ21lbnRfZnJvbV90cmVlKHN0cnVjdHVyZSwgbnMpIHtcblx0dmFyIGZyYWdtZW50ID0gY3JlYXRlX2ZyYWdtZW50KCk7XG5cblx0Zm9yICh2YXIgaXRlbSBvZiBzdHJ1Y3R1cmUpIHtcblx0XHRpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRmcmFnbWVudC5hcHBlbmQoY3JlYXRlX3RleHQoaXRlbSkpO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgYHByZXNlcnZlQ29tbWVudHMgPT09IHRydWVgLCBjb21tZW50cyBhcmUgcmVwcmVzZW50ZWQgYXMgYFsnLy8gPGRhdGE+J11gXG5cdFx0aWYgKGl0ZW0gPT09IHVuZGVmaW5lZCB8fCBpdGVtWzBdWzBdID09PSAnLycpIHtcblx0XHRcdGZyYWdtZW50LmFwcGVuZChjcmVhdGVfY29tbWVudChpdGVtID8gaXRlbVswXS5zbGljZSgzKSA6ICcnKSk7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRjb25zdCBbbmFtZSwgYXR0cmlidXRlcywgLi4uY2hpbGRyZW5dID0gaXRlbTtcblxuXHRcdGNvbnN0IG5hbWVzcGFjZSA9IG5hbWUgPT09ICdzdmcnID8gTkFNRVNQQUNFX1NWRyA6IG5hbWUgPT09ICdtYXRoJyA/IE5BTUVTUEFDRV9NQVRITUwgOiBucztcblxuXHRcdHZhciBlbGVtZW50ID0gY3JlYXRlX2VsZW1lbnQobmFtZSwgbmFtZXNwYWNlLCBhdHRyaWJ1dGVzPy5pcyk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0c2V0X2F0dHJpYnV0ZShlbGVtZW50LCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cdFx0fVxuXG5cdFx0aWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcblx0XHRcdHZhciB0YXJnZXQgPVxuXHRcdFx0XHRlbGVtZW50LnRhZ05hbWUgPT09ICdURU1QTEFURSdcblx0XHRcdFx0XHQ/IC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8gKGVsZW1lbnQpLmNvbnRlbnRcblx0XHRcdFx0XHQ6IGVsZW1lbnQ7XG5cblx0XHRcdHRhcmdldC5hcHBlbmQoXG5cdFx0XHRcdGZyYWdtZW50X2Zyb21fdHJlZShjaGlsZHJlbiwgZWxlbWVudC50YWdOYW1lID09PSAnZm9yZWlnbk9iamVjdCcgPyB1bmRlZmluZWQgOiBuYW1lc3BhY2UpXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGZyYWdtZW50LmFwcGVuZChlbGVtZW50KTtcblx0fVxuXG5cdHJldHVybiBmcmFnbWVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RlbXBsYXRlU3RydWN0dXJlW119IHN0cnVjdHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcmV0dXJucyB7KCkgPT4gTm9kZSB8IE5vZGVbXX1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZnJvbV90cmVlKHN0cnVjdHVyZSwgZmxhZ3MpIHtcblx0dmFyIGlzX2ZyYWdtZW50ID0gKGZsYWdzICYgVEVNUExBVEVfRlJBR01FTlQpICE9PSAwO1xuXHR2YXIgdXNlX2ltcG9ydF9ub2RlID0gKGZsYWdzICYgVEVNUExBVEVfVVNFX0lNUE9SVF9OT0RFKSAhPT0gMDtcblxuXHQvKiogQHR5cGUge05vZGV9ICovXG5cdHZhciBub2RlO1xuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0YXNzaWduX25vZGVzKGh5ZHJhdGVfbm9kZSwgbnVsbCk7XG5cdFx0XHRyZXR1cm4gaHlkcmF0ZV9ub2RlO1xuXHRcdH1cblxuXHRcdGlmIChub2RlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IG5zID1cblx0XHRcdFx0KGZsYWdzICYgVEVNUExBVEVfVVNFX1NWRykgIT09IDBcblx0XHRcdFx0XHQ/IE5BTUVTUEFDRV9TVkdcblx0XHRcdFx0XHQ6IChmbGFncyAmIFRFTVBMQVRFX1VTRV9NQVRITUwpICE9PSAwXG5cdFx0XHRcdFx0XHQ/IE5BTUVTUEFDRV9NQVRITUxcblx0XHRcdFx0XHRcdDogdW5kZWZpbmVkO1xuXG5cdFx0XHRub2RlID0gZnJhZ21lbnRfZnJvbV90cmVlKHN0cnVjdHVyZSwgbnMpO1xuXHRcdFx0aWYgKCFpc19mcmFnbWVudCkgbm9kZSA9IC8qKiBAdHlwZSB7Tm9kZX0gKi8gKGdldF9maXJzdF9jaGlsZChub2RlKSk7XG5cdFx0fVxuXG5cdFx0dmFyIGNsb25lID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChcblx0XHRcdHVzZV9pbXBvcnRfbm9kZSB8fCBpc19maXJlZm94ID8gZG9jdW1lbnQuaW1wb3J0Tm9kZShub2RlLCB0cnVlKSA6IG5vZGUuY2xvbmVOb2RlKHRydWUpXG5cdFx0KTtcblxuXHRcdGlmIChpc19mcmFnbWVudCkge1xuXHRcdFx0dmFyIHN0YXJ0ID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfZmlyc3RfY2hpbGQoY2xvbmUpKTtcblx0XHRcdHZhciBlbmQgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGNsb25lLmxhc3RDaGlsZCk7XG5cblx0XHRcdGFzc2lnbl9ub2RlcyhzdGFydCwgZW5kKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXNzaWduX25vZGVzKGNsb25lLCBjbG9uZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnR9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoX3NjcmlwdChmbikge1xuXHRyZXR1cm4gKCkgPT4gcnVuX3NjcmlwdHMoZm4oKSk7XG59XG5cbi8qKlxuICogQ3JlYXRpbmcgYSBkb2N1bWVudCBmcmFnbWVudCBmcm9tIEhUTUwgdGhhdCBjb250YWlucyBzY3JpcHQgdGFncyB3aWxsIG5vdCBleGVjdXRlXG4gKiB0aGUgc2NyaXB0cy4gV2UgbmVlZCB0byByZXBsYWNlIHRoZSBzY3JpcHQgdGFncyB3aXRoIG5ldyBvbmVzIHNvIHRoYXQgdGhleSBhcmUgZXhlY3V0ZWQuXG4gKiBAcGFyYW0ge0VsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50fSBub2RlXG4gKiBAcmV0dXJucyB7Tm9kZSB8IE5vZGVbXX1cbiAqL1xuZnVuY3Rpb24gcnVuX3NjcmlwdHMobm9kZSkge1xuXHQvLyBzY3JpcHRzIHdlcmUgU1NSJ2QsIGluIHdoaWNoIGNhc2UgdGhleSB3aWxsIHJ1blxuXHRpZiAoaHlkcmF0aW5nKSByZXR1cm4gbm9kZTtcblxuXHRjb25zdCBpc19mcmFnbWVudCA9IG5vZGUubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREU7XG5cdGNvbnN0IHNjcmlwdHMgPVxuXHRcdC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChub2RlKS50YWdOYW1lID09PSAnU0NSSVBUJ1xuXHRcdFx0PyBbLyoqIEB0eXBlIHtIVE1MU2NyaXB0RWxlbWVudH0gKi8gKG5vZGUpXVxuXHRcdFx0OiBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdCcpO1xuXHRjb25zdCBlZmZlY3QgPSAvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpO1xuXG5cdGZvciAoY29uc3Qgc2NyaXB0IG9mIHNjcmlwdHMpIHtcblx0XHRjb25zdCBjbG9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXHRcdGZvciAodmFyIGF0dHJpYnV0ZSBvZiBzY3JpcHQuYXR0cmlidXRlcykge1xuXHRcdFx0Y2xvbmUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZS5uYW1lLCBhdHRyaWJ1dGUudmFsdWUpO1xuXHRcdH1cblxuXHRcdGNsb25lLnRleHRDb250ZW50ID0gc2NyaXB0LnRleHRDb250ZW50O1xuXG5cdFx0Ly8gVGhlIHNjcmlwdCBoYXMgY2hhbmdlZCAtIGlmIGl0J3MgYXQgdGhlIGVkZ2VzLCB0aGUgZWZmZWN0IG5vdyBwb2ludHMgYXQgZGVhZCBub2Rlc1xuXHRcdGlmIChpc19mcmFnbWVudCA/IG5vZGUuZmlyc3RDaGlsZCA9PT0gc2NyaXB0IDogbm9kZSA9PT0gc2NyaXB0KSB7XG5cdFx0XHRlZmZlY3Qubm9kZXNfc3RhcnQgPSBjbG9uZTtcblx0XHR9XG5cdFx0aWYgKGlzX2ZyYWdtZW50ID8gbm9kZS5sYXN0Q2hpbGQgPT09IHNjcmlwdCA6IG5vZGUgPT09IHNjcmlwdCkge1xuXHRcdFx0ZWZmZWN0Lm5vZGVzX2VuZCA9IGNsb25lO1xuXHRcdH1cblxuXHRcdHNjcmlwdC5yZXBsYWNlV2l0aChjbG9uZSk7XG5cdH1cblx0cmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogRG9uJ3QgbWFyayB0aGlzIGFzIHNpZGUtZWZmZWN0LWZyZWUsIGh5ZHJhdGlvbiBuZWVkcyB0byB3YWxrIGFsbCBub2Rlc1xuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0KHZhbHVlID0gJycpIHtcblx0aWYgKCFoeWRyYXRpbmcpIHtcblx0XHR2YXIgdCA9IGNyZWF0ZV90ZXh0KHZhbHVlICsgJycpO1xuXHRcdGFzc2lnbl9ub2Rlcyh0LCB0KTtcblx0XHRyZXR1cm4gdDtcblx0fVxuXG5cdHZhciBub2RlID0gaHlkcmF0ZV9ub2RlO1xuXG5cdGlmIChub2RlLm5vZGVUeXBlICE9PSBURVhUX05PREUpIHtcblx0XHQvLyBpZiBhbiB7ZXhwcmVzc2lvbn0gaXMgZW1wdHkgZHVyaW5nIFNTUiwgd2UgbmVlZCB0byBpbnNlcnQgYW4gZW1wdHkgdGV4dCBub2RlXG5cdFx0bm9kZS5iZWZvcmUoKG5vZGUgPSBjcmVhdGVfdGV4dCgpKSk7XG5cdFx0c2V0X2h5ZHJhdGVfbm9kZShub2RlKTtcblx0fVxuXG5cdGFzc2lnbl9ub2Rlcyhub2RlLCBub2RlKTtcblx0cmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21tZW50KCkge1xuXHQvLyB3ZSdyZSBub3QgZGVsZWdhdGluZyB0byBgdGVtcGxhdGVgIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdGFzc2lnbl9ub2RlcyhoeWRyYXRlX25vZGUsIG51bGwpO1xuXHRcdHJldHVybiBoeWRyYXRlX25vZGU7XG5cdH1cblxuXHR2YXIgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0dmFyIHN0YXJ0ID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJyk7XG5cdHZhciBhbmNob3IgPSBjcmVhdGVfdGV4dCgpO1xuXHRmcmFnLmFwcGVuZChzdGFydCwgYW5jaG9yKTtcblxuXHRhc3NpZ25fbm9kZXMoc3RhcnQsIGFuY2hvcik7XG5cblx0cmV0dXJuIGZyYWc7XG59XG5cbi8qKlxuICogQXNzaWduIHRoZSBjcmVhdGVkIChvciBpbiBoeWRyYXRpb24gbW9kZSwgdHJhdmVyc2VkKSBkb20gZWxlbWVudHMgdG8gdGhlIGN1cnJlbnQgYmxvY2tcbiAqIGFuZCBpbnNlcnQgdGhlIGVsZW1lbnRzIGludG8gdGhlIGRvbSAoaW4gY2xpZW50IG1vZGUpLlxuICogQHBhcmFtIHtUZXh0IHwgQ29tbWVudCB8IEVsZW1lbnR9IGFuY2hvclxuICogQHBhcmFtIHtEb2N1bWVudEZyYWdtZW50IHwgRWxlbWVudH0gZG9tXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQoYW5jaG9yLCBkb20pIHtcblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCkubm9kZXNfZW5kID0gaHlkcmF0ZV9ub2RlO1xuXHRcdGh5ZHJhdGVfbmV4dCgpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGlmIChhbmNob3IgPT09IG51bGwpIHtcblx0XHQvLyBlZGdlIGNhc2Ug4oCUIHZvaWQgYDxzdmVsdGU6ZWxlbWVudD5gIHdpdGggY29udGVudFxuXHRcdHJldHVybjtcblx0fVxuXG5cdGFuY2hvci5iZWZvcmUoLyoqIEB0eXBlIHtOb2RlfSAqLyAoZG9tKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIChvciBoeWRyYXRlKSBhbiB1bmlxdWUgVUlEIGZvciB0aGUgY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvcHNfaWQoKSB7XG5cdGlmIChcblx0XHRoeWRyYXRpbmcgJiZcblx0XHRoeWRyYXRlX25vZGUgJiZcblx0XHRoeWRyYXRlX25vZGUubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSAmJlxuXHRcdGh5ZHJhdGVfbm9kZS50ZXh0Q29udGVudD8uc3RhcnRzV2l0aChgI2ApXG5cdCkge1xuXHRcdGNvbnN0IGlkID0gaHlkcmF0ZV9ub2RlLnRleHRDb250ZW50LnN1YnN0cmluZygxKTtcblx0XHRoeWRyYXRlX25leHQoKTtcblx0XHRyZXR1cm4gaWQ7XG5cdH1cblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yIFRoaXMgd2F5IHdlIGVuc3VyZSB0aGUgaWQgaXMgdW5pcXVlIGV2ZW4gYWNyb3NzIFN2ZWx0ZSBydW50aW1lc1xuXHQod2luZG93Ll9fc3ZlbHRlID8/PSB7fSkudWlkID8/PSAxO1xuXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0cmV0dXJuIGBjJHt3aW5kb3cuX19zdmVsdGUudWlkKyt9YDtcbn1cbiIsImNvbnN0IHJlZ2V4X3JldHVybl9jaGFyYWN0ZXJzID0gL1xcci9nO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoKHN0cikge1xuXHRzdHIgPSBzdHIucmVwbGFjZShyZWdleF9yZXR1cm5fY2hhcmFjdGVycywgJycpO1xuXHRsZXQgaGFzaCA9IDUzODE7XG5cdGxldCBpID0gc3RyLmxlbmd0aDtcblxuXHR3aGlsZSAoaS0tKSBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgXiBzdHIuY2hhckNvZGVBdChpKTtcblx0cmV0dXJuIChoYXNoID4+PiAwKS50b1N0cmluZygzNik7XG59XG5cbmNvbnN0IFZPSURfRUxFTUVOVF9OQU1FUyA9IFtcblx0J2FyZWEnLFxuXHQnYmFzZScsXG5cdCdicicsXG5cdCdjb2wnLFxuXHQnY29tbWFuZCcsXG5cdCdlbWJlZCcsXG5cdCdocicsXG5cdCdpbWcnLFxuXHQnaW5wdXQnLFxuXHQna2V5Z2VuJyxcblx0J2xpbmsnLFxuXHQnbWV0YScsXG5cdCdwYXJhbScsXG5cdCdzb3VyY2UnLFxuXHQndHJhY2snLFxuXHQnd2JyJ1xuXTtcblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgbmFtZWAgaXMgb2YgYSB2b2lkIGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc192b2lkKG5hbWUpIHtcblx0cmV0dXJuIFZPSURfRUxFTUVOVF9OQU1FUy5pbmNsdWRlcyhuYW1lKSB8fCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICchZG9jdHlwZSc7XG59XG5cbmNvbnN0IFJFU0VSVkVEX1dPUkRTID0gW1xuXHQnYXJndW1lbnRzJyxcblx0J2F3YWl0Jyxcblx0J2JyZWFrJyxcblx0J2Nhc2UnLFxuXHQnY2F0Y2gnLFxuXHQnY2xhc3MnLFxuXHQnY29uc3QnLFxuXHQnY29udGludWUnLFxuXHQnZGVidWdnZXInLFxuXHQnZGVmYXVsdCcsXG5cdCdkZWxldGUnLFxuXHQnZG8nLFxuXHQnZWxzZScsXG5cdCdlbnVtJyxcblx0J2V2YWwnLFxuXHQnZXhwb3J0Jyxcblx0J2V4dGVuZHMnLFxuXHQnZmFsc2UnLFxuXHQnZmluYWxseScsXG5cdCdmb3InLFxuXHQnZnVuY3Rpb24nLFxuXHQnaWYnLFxuXHQnaW1wbGVtZW50cycsXG5cdCdpbXBvcnQnLFxuXHQnaW4nLFxuXHQnaW5zdGFuY2VvZicsXG5cdCdpbnRlcmZhY2UnLFxuXHQnbGV0Jyxcblx0J25ldycsXG5cdCdudWxsJyxcblx0J3BhY2thZ2UnLFxuXHQncHJpdmF0ZScsXG5cdCdwcm90ZWN0ZWQnLFxuXHQncHVibGljJyxcblx0J3JldHVybicsXG5cdCdzdGF0aWMnLFxuXHQnc3VwZXInLFxuXHQnc3dpdGNoJyxcblx0J3RoaXMnLFxuXHQndGhyb3cnLFxuXHQndHJ1ZScsXG5cdCd0cnknLFxuXHQndHlwZW9mJyxcblx0J3ZhcicsXG5cdCd2b2lkJyxcblx0J3doaWxlJyxcblx0J3dpdGgnLFxuXHQneWllbGQnXG5dO1xuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIGB3b3JkYCBpcyBhIHJlc2VydmVkIEphdmFTY3JpcHQga2V5d29yZFxuICogQHBhcmFtIHtzdHJpbmd9IHdvcmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3Jlc2VydmVkKHdvcmQpIHtcblx0cmV0dXJuIFJFU0VSVkVEX1dPUkRTLmluY2x1ZGVzKHdvcmQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19jYXB0dXJlX2V2ZW50KG5hbWUpIHtcblx0cmV0dXJuIG5hbWUuZW5kc1dpdGgoJ2NhcHR1cmUnKSAmJiBuYW1lICE9PSAnZ290cG9pbnRlcmNhcHR1cmUnICYmIG5hbWUgIT09ICdsb3N0cG9pbnRlcmNhcHR1cmUnO1xufVxuXG4vKiogTGlzdCBvZiBFbGVtZW50IGV2ZW50cyB0aGF0IHdpbGwgYmUgZGVsZWdhdGVkICovXG5jb25zdCBERUxFR0FURURfRVZFTlRTID0gW1xuXHQnYmVmb3JlaW5wdXQnLFxuXHQnY2xpY2snLFxuXHQnY2hhbmdlJyxcblx0J2RibGNsaWNrJyxcblx0J2NvbnRleHRtZW51Jyxcblx0J2ZvY3VzaW4nLFxuXHQnZm9jdXNvdXQnLFxuXHQnaW5wdXQnLFxuXHQna2V5ZG93bicsXG5cdCdrZXl1cCcsXG5cdCdtb3VzZWRvd24nLFxuXHQnbW91c2Vtb3ZlJyxcblx0J21vdXNlb3V0Jyxcblx0J21vdXNlb3ZlcicsXG5cdCdtb3VzZXVwJyxcblx0J3BvaW50ZXJkb3duJyxcblx0J3BvaW50ZXJtb3ZlJyxcblx0J3BvaW50ZXJvdXQnLFxuXHQncG9pbnRlcm92ZXInLFxuXHQncG9pbnRlcnVwJyxcblx0J3RvdWNoZW5kJyxcblx0J3RvdWNobW92ZScsXG5cdCd0b3VjaHN0YXJ0J1xuXTtcblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgZXZlbnRfbmFtZWAgaXMgYSBkZWxlZ2F0ZWQgZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudF9uYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19kZWxlZ2F0ZWQoZXZlbnRfbmFtZSkge1xuXHRyZXR1cm4gREVMRUdBVEVEX0VWRU5UUy5pbmNsdWRlcyhldmVudF9uYW1lKTtcbn1cblxuLyoqXG4gKiBBdHRyaWJ1dGVzIHRoYXQgYXJlIGJvb2xlYW4sIGkuZS4gdGhleSBhcmUgcHJlc2VudCBvciBub3QgcHJlc2VudC5cbiAqL1xuY29uc3QgRE9NX0JPT0xFQU5fQVRUUklCVVRFUyA9IFtcblx0J2FsbG93ZnVsbHNjcmVlbicsXG5cdCdhc3luYycsXG5cdCdhdXRvZm9jdXMnLFxuXHQnYXV0b3BsYXknLFxuXHQnY2hlY2tlZCcsXG5cdCdjb250cm9scycsXG5cdCdkZWZhdWx0Jyxcblx0J2Rpc2FibGVkJyxcblx0J2Zvcm1ub3ZhbGlkYXRlJyxcblx0J2hpZGRlbicsXG5cdCdpbmRldGVybWluYXRlJyxcblx0J2luZXJ0Jyxcblx0J2lzbWFwJyxcblx0J2xvb3AnLFxuXHQnbXVsdGlwbGUnLFxuXHQnbXV0ZWQnLFxuXHQnbm9tb2R1bGUnLFxuXHQnbm92YWxpZGF0ZScsXG5cdCdvcGVuJyxcblx0J3BsYXlzaW5saW5lJyxcblx0J3JlYWRvbmx5Jyxcblx0J3JlcXVpcmVkJyxcblx0J3JldmVyc2VkJyxcblx0J3NlYW1sZXNzJyxcblx0J3NlbGVjdGVkJyxcblx0J3dlYmtpdGRpcmVjdG9yeScsXG5cdCdkZWZlcicsXG5cdCdkaXNhYmxlcGljdHVyZWlucGljdHVyZScsXG5cdCdkaXNhYmxlcmVtb3RlcGxheWJhY2snXG5dO1xuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIGBuYW1lYCBpcyBhIGJvb2xlYW4gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfYm9vbGVhbl9hdHRyaWJ1dGUobmFtZSkge1xuXHRyZXR1cm4gRE9NX0JPT0xFQU5fQVRUUklCVVRFUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuLyoqXG4gKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgc3RyaW5nPn1cbiAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRoYXQgc2hvdWxkIGJlIGFsaWFzZWQgdG8gdGhlaXIgcHJvcGVydHkgbmFtZXNcbiAqIGJlY2F1c2UgdGhleSBiZWhhdmUgZGlmZmVyZW50bHkgYmV0d2VlbiBzZXR0aW5nIHRoZW0gYXMgYW4gYXR0cmlidXRlIGFuZFxuICogc2V0dGluZyB0aGVtIGFzIGEgcHJvcGVydHkuXG4gKi9cbmNvbnN0IEFUVFJJQlVURV9BTElBU0VTID0ge1xuXHQvLyBubyBgY2xhc3M6ICdjbGFzc05hbWUnYCBiZWNhdXNlIHdlIGhhbmRsZSB0aGF0IHNlcGFyYXRlbHlcblx0Zm9ybW5vdmFsaWRhdGU6ICdmb3JtTm9WYWxpZGF0ZScsXG5cdGlzbWFwOiAnaXNNYXAnLFxuXHRub21vZHVsZTogJ25vTW9kdWxlJyxcblx0cGxheXNpbmxpbmU6ICdwbGF5c0lubGluZScsXG5cdHJlYWRvbmx5OiAncmVhZE9ubHknLFxuXHRkZWZhdWx0dmFsdWU6ICdkZWZhdWx0VmFsdWUnLFxuXHRkZWZhdWx0Y2hlY2tlZDogJ2RlZmF1bHRDaGVja2VkJyxcblx0c3Jjb2JqZWN0OiAnc3JjT2JqZWN0Jyxcblx0bm92YWxpZGF0ZTogJ25vVmFsaWRhdGUnLFxuXHRhbGxvd2Z1bGxzY3JlZW46ICdhbGxvd0Z1bGxzY3JlZW4nLFxuXHRkaXNhYmxlcGljdHVyZWlucGljdHVyZTogJ2Rpc2FibGVQaWN0dXJlSW5QaWN0dXJlJyxcblx0ZGlzYWJsZXJlbW90ZXBsYXliYWNrOiAnZGlzYWJsZVJlbW90ZVBsYXliYWNrJ1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplX2F0dHJpYnV0ZShuYW1lKSB7XG5cdG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdHJldHVybiBBVFRSSUJVVEVfQUxJQVNFU1tuYW1lXSA/PyBuYW1lO1xufVxuXG5jb25zdCBET01fUFJPUEVSVElFUyA9IFtcblx0Li4uRE9NX0JPT0xFQU5fQVRUUklCVVRFUyxcblx0J2Zvcm1Ob1ZhbGlkYXRlJyxcblx0J2lzTWFwJyxcblx0J25vTW9kdWxlJyxcblx0J3BsYXlzSW5saW5lJyxcblx0J3JlYWRPbmx5Jyxcblx0J3ZhbHVlJyxcblx0J3ZvbHVtZScsXG5cdCdkZWZhdWx0VmFsdWUnLFxuXHQnZGVmYXVsdENoZWNrZWQnLFxuXHQnc3JjT2JqZWN0Jyxcblx0J25vVmFsaWRhdGUnLFxuXHQnYWxsb3dGdWxsc2NyZWVuJyxcblx0J2Rpc2FibGVQaWN0dXJlSW5QaWN0dXJlJyxcblx0J2Rpc2FibGVSZW1vdGVQbGF5YmFjaydcbl07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2RvbV9wcm9wZXJ0eShuYW1lKSB7XG5cdHJldHVybiBET01fUFJPUEVSVElFUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgTk9OX1NUQVRJQ19QUk9QRVJUSUVTID0gWydhdXRvZm9jdXMnLCAnbXV0ZWQnLCAnZGVmYXVsdFZhbHVlJywgJ2RlZmF1bHRDaGVja2VkJ107XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGF0dHJpYnV0ZSBjYW5ub3QgYmUgc2V0IHRocm91Z2ggdGhlIHRlbXBsYXRlXG4gKiBzdHJpbmcsIGkuZS4gbmVlZHMgc29tZSBraW5kIG9mIEphdmFTY3JpcHQgaGFuZGxpbmcgdG8gd29yay5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5ub3RfYmVfc2V0X3N0YXRpY2FsbHkobmFtZSkge1xuXHRyZXR1cm4gTk9OX1NUQVRJQ19QUk9QRVJUSUVTLmluY2x1ZGVzKG5hbWUpO1xufVxuXG4vKipcbiAqIFN1YnNldCBvZiBkZWxlZ2F0ZWQgZXZlbnRzIHdoaWNoIHNob3VsZCBiZSBwYXNzaXZlIGJ5IGRlZmF1bHQuXG4gKiBUaGVzZSB0d28gYXJlIGFscmVhZHkgcGFzc2l2ZSB2aWEgYnJvd3NlciBkZWZhdWx0cyBvbiB3aW5kb3csIGRvY3VtZW50IGFuZCBib2R5LlxuICogQnV0IHNpbmNlXG4gKiAtIHdlJ3JlIGRlbGVnYXRpbmcgdGhlbVxuICogLSB0aGV5IGhhcHBlbiBvZnRlblxuICogLSB0aGV5IGFwcGx5IHRvIG1vYmlsZSB3aGljaCBpcyBnZW5lcmFsbHkgbGVzcyBwZXJmb3JtYW50XG4gKiB3ZSdyZSBtYXJraW5nIHRoZW0gYXMgcGFzc2l2ZSBieSBkZWZhdWx0IGZvciBvdGhlciBlbGVtZW50cywgdG9vLlxuICovXG5jb25zdCBQQVNTSVZFX0VWRU5UUyA9IFsndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnXTtcblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgbmFtZWAgaXMgYSBwYXNzaXZlIGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfcGFzc2l2ZV9ldmVudChuYW1lKSB7XG5cdHJldHVybiBQQVNTSVZFX0VWRU5UUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgQ09OVEVOVF9FRElUQUJMRV9CSU5ESU5HUyA9IFsndGV4dENvbnRlbnQnLCAnaW5uZXJIVE1MJywgJ2lubmVyVGV4dCddO1xuXG4vKiogQHBhcmFtIHtzdHJpbmd9IG5hbWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19jb250ZW50X2VkaXRhYmxlX2JpbmRpbmcobmFtZSkge1xuXHRyZXR1cm4gQ09OVEVOVF9FRElUQUJMRV9CSU5ESU5HUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgTE9BRF9FUlJPUl9FTEVNRU5UUyA9IFtcblx0J2JvZHknLFxuXHQnZW1iZWQnLFxuXHQnaWZyYW1lJyxcblx0J2ltZycsXG5cdCdsaW5rJyxcblx0J29iamVjdCcsXG5cdCdzY3JpcHQnLFxuXHQnc3R5bGUnLFxuXHQndHJhY2snXG5dO1xuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBlbGVtZW50IGVtaXRzIGBsb2FkYCBhbmQgYGVycm9yYCBldmVudHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19sb2FkX2Vycm9yX2VsZW1lbnQobmFtZSkge1xuXHRyZXR1cm4gTE9BRF9FUlJPUl9FTEVNRU5UUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgU1ZHX0VMRU1FTlRTID0gW1xuXHQnYWx0R2x5cGgnLFxuXHQnYWx0R2x5cGhEZWYnLFxuXHQnYWx0R2x5cGhJdGVtJyxcblx0J2FuaW1hdGUnLFxuXHQnYW5pbWF0ZUNvbG9yJyxcblx0J2FuaW1hdGVNb3Rpb24nLFxuXHQnYW5pbWF0ZVRyYW5zZm9ybScsXG5cdCdjaXJjbGUnLFxuXHQnY2xpcFBhdGgnLFxuXHQnY29sb3ItcHJvZmlsZScsXG5cdCdjdXJzb3InLFxuXHQnZGVmcycsXG5cdCdkZXNjJyxcblx0J2Rpc2NhcmQnLFxuXHQnZWxsaXBzZScsXG5cdCdmZUJsZW5kJyxcblx0J2ZlQ29sb3JNYXRyaXgnLFxuXHQnZmVDb21wb25lbnRUcmFuc2ZlcicsXG5cdCdmZUNvbXBvc2l0ZScsXG5cdCdmZUNvbnZvbHZlTWF0cml4Jyxcblx0J2ZlRGlmZnVzZUxpZ2h0aW5nJyxcblx0J2ZlRGlzcGxhY2VtZW50TWFwJyxcblx0J2ZlRGlzdGFudExpZ2h0Jyxcblx0J2ZlRHJvcFNoYWRvdycsXG5cdCdmZUZsb29kJyxcblx0J2ZlRnVuY0EnLFxuXHQnZmVGdW5jQicsXG5cdCdmZUZ1bmNHJyxcblx0J2ZlRnVuY1InLFxuXHQnZmVHYXVzc2lhbkJsdXInLFxuXHQnZmVJbWFnZScsXG5cdCdmZU1lcmdlJyxcblx0J2ZlTWVyZ2VOb2RlJyxcblx0J2ZlTW9ycGhvbG9neScsXG5cdCdmZU9mZnNldCcsXG5cdCdmZVBvaW50TGlnaHQnLFxuXHQnZmVTcGVjdWxhckxpZ2h0aW5nJyxcblx0J2ZlU3BvdExpZ2h0Jyxcblx0J2ZlVGlsZScsXG5cdCdmZVR1cmJ1bGVuY2UnLFxuXHQnZmlsdGVyJyxcblx0J2ZvbnQnLFxuXHQnZm9udC1mYWNlJyxcblx0J2ZvbnQtZmFjZS1mb3JtYXQnLFxuXHQnZm9udC1mYWNlLW5hbWUnLFxuXHQnZm9udC1mYWNlLXNyYycsXG5cdCdmb250LWZhY2UtdXJpJyxcblx0J2ZvcmVpZ25PYmplY3QnLFxuXHQnZycsXG5cdCdnbHlwaCcsXG5cdCdnbHlwaFJlZicsXG5cdCdoYXRjaCcsXG5cdCdoYXRjaHBhdGgnLFxuXHQnaGtlcm4nLFxuXHQnaW1hZ2UnLFxuXHQnbGluZScsXG5cdCdsaW5lYXJHcmFkaWVudCcsXG5cdCdtYXJrZXInLFxuXHQnbWFzaycsXG5cdCdtZXNoJyxcblx0J21lc2hncmFkaWVudCcsXG5cdCdtZXNocGF0Y2gnLFxuXHQnbWVzaHJvdycsXG5cdCdtZXRhZGF0YScsXG5cdCdtaXNzaW5nLWdseXBoJyxcblx0J21wYXRoJyxcblx0J3BhdGgnLFxuXHQncGF0dGVybicsXG5cdCdwb2x5Z29uJyxcblx0J3BvbHlsaW5lJyxcblx0J3JhZGlhbEdyYWRpZW50Jyxcblx0J3JlY3QnLFxuXHQnc2V0Jyxcblx0J3NvbGlkY29sb3InLFxuXHQnc3RvcCcsXG5cdCdzdmcnLFxuXHQnc3dpdGNoJyxcblx0J3N5bWJvbCcsXG5cdCd0ZXh0Jyxcblx0J3RleHRQYXRoJyxcblx0J3RyZWYnLFxuXHQndHNwYW4nLFxuXHQndW5rbm93bicsXG5cdCd1c2UnLFxuXHQndmlldycsXG5cdCd2a2Vybidcbl07XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3N2ZyhuYW1lKSB7XG5cdHJldHVybiBTVkdfRUxFTUVOVFMuaW5jbHVkZXMobmFtZSk7XG59XG5cbmNvbnN0IE1BVEhNTF9FTEVNRU5UUyA9IFtcblx0J2Fubm90YXRpb24nLFxuXHQnYW5ub3RhdGlvbi14bWwnLFxuXHQnbWFjdGlvbicsXG5cdCdtYXRoJyxcblx0J21lcnJvcicsXG5cdCdtZnJhYycsXG5cdCdtaScsXG5cdCdtbXVsdGlzY3JpcHRzJyxcblx0J21uJyxcblx0J21vJyxcblx0J21vdmVyJyxcblx0J21wYWRkZWQnLFxuXHQnbXBoYW50b20nLFxuXHQnbXByZXNjcmlwdHMnLFxuXHQnbXJvb3QnLFxuXHQnbXJvdycsXG5cdCdtcycsXG5cdCdtc3BhY2UnLFxuXHQnbXNxcnQnLFxuXHQnbXN0eWxlJyxcblx0J21zdWInLFxuXHQnbXN1YnN1cCcsXG5cdCdtc3VwJyxcblx0J210YWJsZScsXG5cdCdtdGQnLFxuXHQnbXRleHQnLFxuXHQnbXRyJyxcblx0J211bmRlcicsXG5cdCdtdW5kZXJvdmVyJyxcblx0J3NlbWFudGljcydcbl07XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX21hdGhtbChuYW1lKSB7XG5cdHJldHVybiBNQVRITUxfRUxFTUVOVFMuaW5jbHVkZXMobmFtZSk7XG59XG5cbmNvbnN0IFNUQVRFX0NSRUFUSU9OX1JVTkVTID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKFtcblx0JyRzdGF0ZScsXG5cdCckc3RhdGUucmF3Jyxcblx0JyRkZXJpdmVkJyxcblx0JyRkZXJpdmVkLmJ5J1xuXSk7XG5cbmNvbnN0IFJVTkVTID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKFtcblx0Li4uU1RBVEVfQ1JFQVRJT05fUlVORVMsXG5cdCckc3RhdGUuc25hcHNob3QnLFxuXHQnJHByb3BzJyxcblx0JyRwcm9wcy5pZCcsXG5cdCckYmluZGFibGUnLFxuXHQnJGVmZmVjdCcsXG5cdCckZWZmZWN0LnByZScsXG5cdCckZWZmZWN0LnRyYWNraW5nJyxcblx0JyRlZmZlY3Qucm9vdCcsXG5cdCckZWZmZWN0LnBlbmRpbmcnLFxuXHQnJGluc3BlY3QnLFxuXHQnJGluc3BlY3QoKS53aXRoJyxcblx0JyRpbnNwZWN0LnRyYWNlJyxcblx0JyRob3N0J1xuXSk7XG5cbi8qKiBAdHlwZWRlZiB7UlVORVNbbnVtYmVyXX0gUnVuZU5hbWUgKi9cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge25hbWUgaXMgUnVuZU5hbWV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19ydW5lKG5hbWUpIHtcblx0cmV0dXJuIFJVTkVTLmluY2x1ZGVzKC8qKiBAdHlwZSB7UnVuZU5hbWV9ICovIChuYW1lKSk7XG59XG5cbi8qKiBAdHlwZWRlZiB7U1RBVEVfQ1JFQVRJT05fUlVORVNbbnVtYmVyXX0gU3RhdGVDcmVhdGlvblJ1bmVOYW1lICovXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuYW1lIGlzIFN0YXRlQ3JlYXRpb25SdW5lTmFtZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3N0YXRlX2NyZWF0aW9uX3J1bmUobmFtZSkge1xuXHRyZXR1cm4gU1RBVEVfQ1JFQVRJT05fUlVORVMuaW5jbHVkZXMoLyoqIEB0eXBlIHtTdGF0ZUNyZWF0aW9uUnVuZU5hbWV9ICovIChuYW1lKSk7XG59XG5cbi8qKiBMaXN0IG9mIGVsZW1lbnRzIHRoYXQgcmVxdWlyZSByYXcgY29udGVudHMgYW5kIHNob3VsZCBub3QgaGF2ZSBTU1IgY29tbWVudHMgcHV0IGluIHRoZW0gKi9cbmNvbnN0IFJBV19URVhUX0VMRU1FTlRTID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKFsndGV4dGFyZWEnLCAnc2NyaXB0JywgJ3N0eWxlJywgJ3RpdGxlJ10pO1xuXG4vKiogQHBhcmFtIHtzdHJpbmd9IG5hbWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19yYXdfdGV4dF9lbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIFJBV19URVhUX0VMRU1FTlRTLmluY2x1ZGVzKC8qKiBAdHlwZSB7UkFXX1RFWFRfRUxFTUVOVFNbbnVtYmVyXX0gKi8gKG5hbWUpKTtcbn1cblxuLyoqXG4gKiBQcmV2ZW50IGRldnRvb2xzIHRyeWluZyB0byBtYWtlIGBsb2NhdGlvbmAgYSBjbGlja2FibGUgbGluayBieSBpbnNlcnRpbmcgYSB6ZXJvLXdpZHRoIHNwYWNlXG4gKiBAdGVtcGxhdGUge3N0cmluZyB8IHVuZGVmaW5lZH0gVFxuICogQHBhcmFtIHtUfSBsb2NhdGlvblxuICogQHJldHVybnMge1R9O1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVfbG9jYXRpb24obG9jYXRpb24pIHtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VH0gKi8gKGxvY2F0aW9uPy5yZXBsYWNlKC9cXC8vZywgJy9cXHUyMDBiJykpO1xufVxuIiwiLyoqIEBpbXBvcnQgeyBDb21wb25lbnRDb250ZXh0LCBFZmZlY3QsIFRlbXBsYXRlTm9kZSB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IENvbXBvbmVudCwgQ29tcG9uZW50VHlwZSwgU3ZlbHRlQ29tcG9uZW50LCBNb3VudE9wdGlvbnMgfSBmcm9tICcuLi8uLi9pbmRleC5qcycgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHtcblx0Y2xlYXJfdGV4dF9jb250ZW50LFxuXHRjcmVhdGVfdGV4dCxcblx0Z2V0X2ZpcnN0X2NoaWxkLFxuXHRnZXRfbmV4dF9zaWJsaW5nLFxuXHRpbml0X29wZXJhdGlvbnNcbn0gZnJvbSAnLi9kb20vb3BlcmF0aW9ucy5qcyc7XG5pbXBvcnQgeyBIWURSQVRJT05fRU5ELCBIWURSQVRJT05fRVJST1IsIEhZRFJBVElPTl9TVEFSVCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBhY3RpdmVfZWZmZWN0IH0gZnJvbSAnLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IHB1c2gsIHBvcCwgY29tcG9uZW50X2NvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgY29tcG9uZW50X3Jvb3QsIGJyYW5jaCB9IGZyb20gJy4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7XG5cdGh5ZHJhdGVfbmV4dCxcblx0aHlkcmF0ZV9ub2RlLFxuXHRoeWRyYXRpbmcsXG5cdHNldF9oeWRyYXRlX25vZGUsXG5cdHNldF9oeWRyYXRpbmdcbn0gZnJvbSAnLi9kb20vaHlkcmF0aW9uLmpzJztcbmltcG9ydCB7IGFycmF5X2Zyb20gfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHtcblx0YWxsX3JlZ2lzdGVyZWRfZXZlbnRzLFxuXHRoYW5kbGVfZXZlbnRfcHJvcGFnYXRpb24sXG5cdHJvb3RfZXZlbnRfaGFuZGxlc1xufSBmcm9tICcuL2RvbS9lbGVtZW50cy9ldmVudHMuanMnO1xuaW1wb3J0IHsgcmVzZXRfaGVhZF9hbmNob3IgfSBmcm9tICcuL2RvbS9ibG9ja3Mvc3ZlbHRlLWhlYWQuanMnO1xuaW1wb3J0ICogYXMgdyBmcm9tICcuL3dhcm5pbmdzLmpzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgYXNzaWduX25vZGVzIH0gZnJvbSAnLi9kb20vdGVtcGxhdGUuanMnO1xuaW1wb3J0IHsgaXNfcGFzc2l2ZV9ldmVudCB9IGZyb20gJy4uLy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IENPTU1FTlRfTk9ERSB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxuLyoqXG4gKiBUaGlzIGlzIG5vcm1hbGx5IHRydWUg4oCUIGJsb2NrIGVmZmVjdHMgc2hvdWxkIHJ1biB0aGVpciBpbnRybyB0cmFuc2l0aW9ucyDigJRcbiAqIGJ1dCBpcyBmYWxzZSBkdXJpbmcgaHlkcmF0aW9uICh1bmxlc3MgYG9wdGlvbnMuaW50cm9gIGlzIGB0cnVlYCkgYW5kXG4gKiB3aGVuIGNyZWF0aW5nIHRoZSBjaGlsZHJlbiBvZiBhIGA8c3ZlbHRlOmVsZW1lbnQ+YCB0aGF0IGp1c3QgY2hhbmdlZCB0YWdcbiAqL1xuZXhwb3J0IGxldCBzaG91bGRfaW50cm8gPSB0cnVlO1xuXG4vKiogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zaG91bGRfaW50cm8odmFsdWUpIHtcblx0c2hvdWxkX2ludHJvID0gdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSB0ZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3RleHQodGV4dCwgdmFsdWUpIHtcblx0Ly8gRm9yIG9iamVjdHMsIHdlIGFwcGx5IHN0cmluZyBjb2VyY2lvbiAod2hpY2ggbWlnaHQgbWFrZSB0aGluZ3MgbGlrZSAkc3RhdGUgYXJyYXkgcmVmZXJlbmNlcyBpbiB0aGUgdGVtcGxhdGUgcmVhY3RpdmUpIGJlZm9yZSBkaWZmaW5nXG5cdHZhciBzdHIgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID8gdmFsdWUgKyAnJyA6IHZhbHVlO1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdGlmIChzdHIgIT09ICh0ZXh0Ll9fdCA/Pz0gdGV4dC5ub2RlVmFsdWUpKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdHRleHQuX190ID0gc3RyO1xuXHRcdHRleHQubm9kZVZhbHVlID0gc3RyICsgJyc7XG5cdH1cbn1cblxuLyoqXG4gKiBNb3VudHMgYSBjb21wb25lbnQgdG8gdGhlIGdpdmVuIHRhcmdldCBhbmQgcmV0dXJucyB0aGUgZXhwb3J0cyBhbmQgcG90ZW50aWFsbHkgdGhlIHByb3BzIChpZiBjb21waWxlZCB3aXRoIGBhY2Nlc3NvcnM6IHRydWVgKSBvZiB0aGUgY29tcG9uZW50LlxuICogVHJhbnNpdGlvbnMgd2lsbCBwbGF5IGR1cmluZyB0aGUgaW5pdGlhbCByZW5kZXIgdW5sZXNzIHRoZSBgaW50cm9gIG9wdGlvbiBpcyBzZXQgdG8gYGZhbHNlYC5cbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFByb3BzXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IEV4cG9ydHNcbiAqIEBwYXJhbSB7Q29tcG9uZW50VHlwZTxTdmVsdGVDb21wb25lbnQ8UHJvcHM+PiB8IENvbXBvbmVudDxQcm9wcywgRXhwb3J0cywgYW55Pn0gY29tcG9uZW50XG4gKiBAcGFyYW0ge01vdW50T3B0aW9uczxQcm9wcz59IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtFeHBvcnRzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbW91bnQoY29tcG9uZW50LCBvcHRpb25zKSB7XG5cdHJldHVybiBfbW91bnQoY29tcG9uZW50LCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBIeWRyYXRlcyBhIGNvbXBvbmVudCBvbiB0aGUgZ2l2ZW4gdGFyZ2V0IGFuZCByZXR1cm5zIHRoZSBleHBvcnRzIGFuZCBwb3RlbnRpYWxseSB0aGUgcHJvcHMgKGlmIGNvbXBpbGVkIHdpdGggYGFjY2Vzc29yczogdHJ1ZWApIG9mIHRoZSBjb21wb25lbnRcbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFByb3BzXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IEV4cG9ydHNcbiAqIEBwYXJhbSB7Q29tcG9uZW50VHlwZTxTdmVsdGVDb21wb25lbnQ8UHJvcHM+PiB8IENvbXBvbmVudDxQcm9wcywgRXhwb3J0cywgYW55Pn0gY29tcG9uZW50XG4gKiBAcGFyYW0ge3t9IGV4dGVuZHMgUHJvcHMgPyB7XG4gKiBcdFx0dGFyZ2V0OiBEb2N1bWVudCB8IEVsZW1lbnQgfCBTaGFkb3dSb290O1xuICogXHRcdHByb3BzPzogUHJvcHM7XG4gKiBcdFx0ZXZlbnRzPzogUmVjb3JkPHN0cmluZywgKGU6IGFueSkgPT4gYW55PjtcbiAqICBcdGNvbnRleHQ/OiBNYXA8YW55LCBhbnk+O1xuICogXHRcdGludHJvPzogYm9vbGVhbjtcbiAqIFx0XHRyZWNvdmVyPzogYm9vbGVhbjtcbiAqIFx0fSA6IHtcbiAqIFx0XHR0YXJnZXQ6IERvY3VtZW50IHwgRWxlbWVudCB8IFNoYWRvd1Jvb3Q7XG4gKiBcdFx0cHJvcHM6IFByb3BzO1xuICogXHRcdGV2ZW50cz86IFJlY29yZDxzdHJpbmcsIChlOiBhbnkpID0+IGFueT47XG4gKiAgXHRjb250ZXh0PzogTWFwPGFueSwgYW55PjtcbiAqIFx0XHRpbnRybz86IGJvb2xlYW47XG4gKiBcdFx0cmVjb3Zlcj86IGJvb2xlYW47XG4gKiBcdH19IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtFeHBvcnRzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShjb21wb25lbnQsIG9wdGlvbnMpIHtcblx0aW5pdF9vcGVyYXRpb25zKCk7XG5cdG9wdGlvbnMuaW50cm8gPSBvcHRpb25zLmludHJvID8/IGZhbHNlO1xuXHRjb25zdCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcblx0Y29uc3Qgd2FzX2h5ZHJhdGluZyA9IGh5ZHJhdGluZztcblx0Y29uc3QgcHJldmlvdXNfaHlkcmF0ZV9ub2RlID0gaHlkcmF0ZV9ub2RlO1xuXG5cdHRyeSB7XG5cdFx0dmFyIGFuY2hvciA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X2ZpcnN0X2NoaWxkKHRhcmdldCkpO1xuXHRcdHdoaWxlIChcblx0XHRcdGFuY2hvciAmJlxuXHRcdFx0KGFuY2hvci5ub2RlVHlwZSAhPT0gQ09NTUVOVF9OT0RFIHx8IC8qKiBAdHlwZSB7Q29tbWVudH0gKi8gKGFuY2hvcikuZGF0YSAhPT0gSFlEUkFUSU9OX1NUQVJUKVxuXHRcdCkge1xuXHRcdFx0YW5jaG9yID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfbmV4dF9zaWJsaW5nKGFuY2hvcikpO1xuXHRcdH1cblxuXHRcdGlmICghYW5jaG9yKSB7XG5cdFx0XHR0aHJvdyBIWURSQVRJT05fRVJST1I7XG5cdFx0fVxuXG5cdFx0c2V0X2h5ZHJhdGluZyh0cnVlKTtcblx0XHRzZXRfaHlkcmF0ZV9ub2RlKC8qKiBAdHlwZSB7Q29tbWVudH0gKi8gKGFuY2hvcikpO1xuXHRcdGh5ZHJhdGVfbmV4dCgpO1xuXG5cdFx0Y29uc3QgaW5zdGFuY2UgPSBfbW91bnQoY29tcG9uZW50LCB7IC4uLm9wdGlvbnMsIGFuY2hvciB9KTtcblxuXHRcdGlmIChcblx0XHRcdGh5ZHJhdGVfbm9kZSA9PT0gbnVsbCB8fFxuXHRcdFx0aHlkcmF0ZV9ub2RlLm5vZGVUeXBlICE9PSBDT01NRU5UX05PREUgfHxcblx0XHRcdC8qKiBAdHlwZSB7Q29tbWVudH0gKi8gKGh5ZHJhdGVfbm9kZSkuZGF0YSAhPT0gSFlEUkFUSU9OX0VORFxuXHRcdCkge1xuXHRcdFx0dy5oeWRyYXRpb25fbWlzbWF0Y2goKTtcblx0XHRcdHRocm93IEhZRFJBVElPTl9FUlJPUjtcblx0XHR9XG5cblx0XHRzZXRfaHlkcmF0aW5nKGZhbHNlKTtcblxuXHRcdHJldHVybiAvKiogIEB0eXBlIHtFeHBvcnRzfSAqLyAoaW5zdGFuY2UpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGlmIChlcnJvciA9PT0gSFlEUkFUSU9OX0VSUk9SKSB7XG5cdFx0XHRpZiAob3B0aW9ucy5yZWNvdmVyID09PSBmYWxzZSkge1xuXHRcdFx0XHRlLmh5ZHJhdGlvbl9mYWlsZWQoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYW4gZXJyb3Igb2NjdXJlZCBhYm92ZSwgdGhlIG9wZXJhdGlvbnMgbWlnaHQgbm90IHlldCBoYXZlIGJlZW4gaW5pdGlhbGlzZWQuXG5cdFx0XHRpbml0X29wZXJhdGlvbnMoKTtcblx0XHRcdGNsZWFyX3RleHRfY29udGVudCh0YXJnZXQpO1xuXG5cdFx0XHRzZXRfaHlkcmF0aW5nKGZhbHNlKTtcblx0XHRcdHJldHVybiBtb3VudChjb21wb25lbnQsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGZpbmFsbHkge1xuXHRcdHNldF9oeWRyYXRpbmcod2FzX2h5ZHJhdGluZyk7XG5cdFx0c2V0X2h5ZHJhdGVfbm9kZShwcmV2aW91c19oeWRyYXRlX25vZGUpO1xuXHRcdHJlc2V0X2hlYWRfYW5jaG9yKCk7XG5cdH1cbn1cblxuLyoqIEB0eXBlIHtNYXA8c3RyaW5nLCBudW1iZXI+fSAqL1xuY29uc3QgZG9jdW1lbnRfbGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gRXhwb3J0c1xuICogQHBhcmFtIHtDb21wb25lbnRUeXBlPFN2ZWx0ZUNvbXBvbmVudDxhbnk+PiB8IENvbXBvbmVudDxhbnk+fSBDb21wb25lbnRcbiAqIEBwYXJhbSB7TW91bnRPcHRpb25zfSBvcHRpb25zXG4gKiBAcmV0dXJucyB7RXhwb3J0c31cbiAqL1xuZnVuY3Rpb24gX21vdW50KENvbXBvbmVudCwgeyB0YXJnZXQsIGFuY2hvciwgcHJvcHMgPSB7fSwgZXZlbnRzLCBjb250ZXh0LCBpbnRybyA9IHRydWUgfSkge1xuXHRpbml0X29wZXJhdGlvbnMoKTtcblxuXHR2YXIgcmVnaXN0ZXJlZF9ldmVudHMgPSBuZXcgU2V0KCk7XG5cblx0LyoqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gZXZlbnRzICovXG5cdHZhciBldmVudF9oYW5kbGUgPSAoZXZlbnRzKSA9PiB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBldmVudF9uYW1lID0gZXZlbnRzW2ldO1xuXG5cdFx0XHRpZiAocmVnaXN0ZXJlZF9ldmVudHMuaGFzKGV2ZW50X25hbWUpKSBjb250aW51ZTtcblx0XHRcdHJlZ2lzdGVyZWRfZXZlbnRzLmFkZChldmVudF9uYW1lKTtcblxuXHRcdFx0dmFyIHBhc3NpdmUgPSBpc19wYXNzaXZlX2V2ZW50KGV2ZW50X25hbWUpO1xuXG5cdFx0XHQvLyBBZGQgdGhlIGV2ZW50IGxpc3RlbmVyIHRvIGJvdGggdGhlIGNvbnRhaW5lciBhbmQgdGhlIGRvY3VtZW50LlxuXHRcdFx0Ly8gVGhlIGNvbnRhaW5lciBsaXN0ZW5lciBlbnN1cmVzIHdlIGNhdGNoIGV2ZW50cyBmcm9tIHdpdGhpbiBpbiBjYXNlXG5cdFx0XHQvLyB0aGUgb3V0ZXIgY29udGVudCBzdG9wcyBwcm9wYWdhdGlvbiBvZiB0aGUgZXZlbnQuXG5cdFx0XHR0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCBoYW5kbGVfZXZlbnRfcHJvcGFnYXRpb24sIHsgcGFzc2l2ZSB9KTtcblxuXHRcdFx0dmFyIG4gPSBkb2N1bWVudF9saXN0ZW5lcnMuZ2V0KGV2ZW50X25hbWUpO1xuXG5cdFx0XHRpZiAobiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdC8vIFRoZSBkb2N1bWVudCBsaXN0ZW5lciBlbnN1cmVzIHdlIGNhdGNoIGV2ZW50cyB0aGF0IG9yaWdpbmF0ZSBmcm9tIGVsZW1lbnRzIHRoYXQgd2VyZVxuXHRcdFx0XHQvLyBtYW51YWxseSBtb3ZlZCBvdXRzaWRlIG9mIHRoZSBjb250YWluZXIgKGUuZy4gdmlhIG1hbnVhbCBwb3J0YWxzKS5cblx0XHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCBoYW5kbGVfZXZlbnRfcHJvcGFnYXRpb24sIHsgcGFzc2l2ZSB9KTtcblx0XHRcdFx0ZG9jdW1lbnRfbGlzdGVuZXJzLnNldChldmVudF9uYW1lLCAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvY3VtZW50X2xpc3RlbmVycy5zZXQoZXZlbnRfbmFtZSwgbiArIDEpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHRldmVudF9oYW5kbGUoYXJyYXlfZnJvbShhbGxfcmVnaXN0ZXJlZF9ldmVudHMpKTtcblx0cm9vdF9ldmVudF9oYW5kbGVzLmFkZChldmVudF9oYW5kbGUpO1xuXG5cdC8qKiBAdHlwZSB7RXhwb3J0c30gKi9cblx0Ly8gQHRzLWV4cGVjdC1lcnJvciB3aWxsIGJlIGRlZmluZWQgYmVjYXVzZSB0aGUgcmVuZGVyIGVmZmVjdCBydW5zIHN5bmNocm9ub3VzbHlcblx0dmFyIGNvbXBvbmVudCA9IHVuZGVmaW5lZDtcblxuXHR2YXIgdW5tb3VudCA9IGNvbXBvbmVudF9yb290KCgpID0+IHtcblx0XHR2YXIgYW5jaG9yX25vZGUgPSBhbmNob3IgPz8gdGFyZ2V0LmFwcGVuZENoaWxkKGNyZWF0ZV90ZXh0KCkpO1xuXG5cdFx0YnJhbmNoKCgpID0+IHtcblx0XHRcdGlmIChjb250ZXh0KSB7XG5cdFx0XHRcdHB1c2goe30pO1xuXHRcdFx0XHR2YXIgY3R4ID0gLyoqIEB0eXBlIHtDb21wb25lbnRDb250ZXh0fSAqLyAoY29tcG9uZW50X2NvbnRleHQpO1xuXHRcdFx0XHRjdHguYyA9IGNvbnRleHQ7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChldmVudHMpIHtcblx0XHRcdFx0Ly8gV2UgY2FuJ3Qgc3ByZWFkIHRoZSBvYmplY3Qgb3IgZWxzZSB3ZSdkIGxvc2UgdGhlIHN0YXRlIHByb3h5IHN0dWZmLCBpZiBpdCBpcyBvbmVcblx0XHRcdFx0LyoqIEB0eXBlIHthbnl9ICovIChwcm9wcykuJCRldmVudHMgPSBldmVudHM7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdFx0YXNzaWduX25vZGVzKC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoYW5jaG9yX25vZGUpLCBudWxsKTtcblx0XHRcdH1cblxuXHRcdFx0c2hvdWxkX2ludHJvID0gaW50cm87XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIHRoZSBwdWJsaWMgdHlwaW5ncyBhcmUgbm90IHdoYXQgdGhlIGFjdHVhbCBmdW5jdGlvbiBsb29rcyBsaWtlXG5cdFx0XHRjb21wb25lbnQgPSBDb21wb25lbnQoYW5jaG9yX25vZGUsIHByb3BzKSB8fCB7fTtcblx0XHRcdHNob3VsZF9pbnRybyA9IHRydWU7XG5cblx0XHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdFx0LyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KS5ub2Rlc19lbmQgPSBoeWRyYXRlX25vZGU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjb250ZXh0KSB7XG5cdFx0XHRcdHBvcCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGZvciAodmFyIGV2ZW50X25hbWUgb2YgcmVnaXN0ZXJlZF9ldmVudHMpIHtcblx0XHRcdFx0dGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgaGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uKTtcblxuXHRcdFx0XHR2YXIgbiA9IC8qKiBAdHlwZSB7bnVtYmVyfSAqLyAoZG9jdW1lbnRfbGlzdGVuZXJzLmdldChldmVudF9uYW1lKSk7XG5cblx0XHRcdFx0aWYgKC0tbiA9PT0gMCkge1xuXHRcdFx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgaGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uKTtcblx0XHRcdFx0XHRkb2N1bWVudF9saXN0ZW5lcnMuZGVsZXRlKGV2ZW50X25hbWUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRvY3VtZW50X2xpc3RlbmVycy5zZXQoZXZlbnRfbmFtZSwgbik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cm9vdF9ldmVudF9oYW5kbGVzLmRlbGV0ZShldmVudF9oYW5kbGUpO1xuXG5cdFx0XHRpZiAoYW5jaG9yX25vZGUgIT09IGFuY2hvcikge1xuXHRcdFx0XHRhbmNob3Jfbm9kZS5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZChhbmNob3Jfbm9kZSk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSk7XG5cblx0bW91bnRlZF9jb21wb25lbnRzLnNldChjb21wb25lbnQsIHVubW91bnQpO1xuXHRyZXR1cm4gY29tcG9uZW50O1xufVxuXG4vKipcbiAqIFJlZmVyZW5jZXMgb2YgdGhlIGNvbXBvbmVudHMgdGhhdCB3ZXJlIG1vdW50ZWQgb3IgaHlkcmF0ZWQuXG4gKiBVc2VzIGEgYFdlYWtNYXBgIHRvIGF2b2lkIG1lbW9yeSBsZWFrcy5cbiAqL1xubGV0IG1vdW50ZWRfY29tcG9uZW50cyA9IG5ldyBXZWFrTWFwKCk7XG5cbi8qKlxuICogVW5tb3VudHMgYSBjb21wb25lbnQgdGhhdCB3YXMgcHJldmlvdXNseSBtb3VudGVkIHVzaW5nIGBtb3VudGAgb3IgYGh5ZHJhdGVgLlxuICpcbiAqIFNpbmNlIDUuMTMuMCwgaWYgYG9wdGlvbnMub3V0cm9gIGlzIGB0cnVlYCwgW3RyYW5zaXRpb25zXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvdHJhbnNpdGlvbikgd2lsbCBwbGF5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICpcbiAqIFJldHVybnMgYSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyBhZnRlciB0cmFuc2l0aW9ucyBoYXZlIGNvbXBsZXRlZCBpZiBgb3B0aW9ucy5vdXRyb2AgaXMgdHJ1ZSwgb3IgaW1tZWRpYXRlbHkgb3RoZXJ3aXNlIChwcmlvciB0byA1LjEzLjAsIHJldHVybnMgYHZvaWRgKS5cbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgbW91bnQsIHVubW91bnQgfSBmcm9tICdzdmVsdGUnO1xuICogaW1wb3J0IEFwcCBmcm9tICcuL0FwcC5zdmVsdGUnO1xuICpcbiAqIGNvbnN0IGFwcCA9IG1vdW50KEFwcCwgeyB0YXJnZXQ6IGRvY3VtZW50LmJvZHkgfSk7XG4gKlxuICogLy8gbGF0ZXIuLi5cbiAqIHVubW91bnQoYXBwLCB7IG91dHJvOiB0cnVlIH0pO1xuICogYGBgXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT59IGNvbXBvbmVudFxuICogQHBhcmFtIHt7IG91dHJvPzogYm9vbGVhbiB9fSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5tb3VudChjb21wb25lbnQsIG9wdGlvbnMpIHtcblx0Y29uc3QgZm4gPSBtb3VudGVkX2NvbXBvbmVudHMuZ2V0KGNvbXBvbmVudCk7XG5cblx0aWYgKGZuKSB7XG5cdFx0bW91bnRlZF9jb21wb25lbnRzLmRlbGV0ZShjb21wb25lbnQpO1xuXHRcdHJldHVybiBmbihvcHRpb25zKTtcblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHR3LmxpZmVjeWNsZV9kb3VibGVfdW5tb3VudCgpO1xuXHR9XG5cblx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufVxuIiwiLyoqIEBpbXBvcnQgeyBDb21wb25lbnRDb25zdHJ1Y3Rvck9wdGlvbnMsIENvbXBvbmVudFR5cGUsIFN2ZWx0ZUNvbXBvbmVudCwgQ29tcG9uZW50IH0gZnJvbSAnc3ZlbHRlJyAqL1xuaW1wb3J0IHsgRElSVFksIExFR0FDWV9QUk9QUywgTUFZQkVfRElSVFkgfSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IHVzZXJfcHJlX2VmZmVjdCB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgbXV0YWJsZV9zb3VyY2UsIHNldCB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L3NvdXJjZXMuanMnO1xuaW1wb3J0IHsgaHlkcmF0ZSwgbW91bnQsIHVubW91bnQgfSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvcmVuZGVyLmpzJztcbmltcG9ydCB7IGFjdGl2ZV9lZmZlY3QsIGdldCwgc2V0X3NpZ25hbF9zdGF0dXMgfSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvcnVudGltZS5qcyc7XG5pbXBvcnQgeyBmbHVzaFN5bmMgfSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9iYXRjaC5qcyc7XG5pbXBvcnQgeyBkZWZpbmVfcHJvcGVydHksIGlzX2FycmF5IH0gZnJvbSAnLi4vaW50ZXJuYWwvc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi4vaW50ZXJuYWwvY2xpZW50L2Vycm9ycy5qcyc7XG5pbXBvcnQgKiBhcyB3IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC93YXJuaW5ncy5qcyc7XG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7IEZJTEVOQU1FIH0gZnJvbSAnLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGNvbXBvbmVudF9jb250ZXh0LCBkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24gfSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvY29udGV4dC5qcyc7XG5pbXBvcnQgeyBhc3luY19tb2RlX2ZsYWcgfSBmcm9tICcuLi9pbnRlcm5hbC9mbGFncy9pbmRleC5qcyc7XG5cbi8qKlxuICogVGFrZXMgdGhlIHNhbWUgb3B0aW9ucyBhcyBhIFN2ZWx0ZSA0IGNvbXBvbmVudCBhbmQgdGhlIGNvbXBvbmVudCBmdW5jdGlvbiBhbmQgcmV0dXJucyBhIFN2ZWx0ZSA0IGNvbXBhdGlibGUgY29tcG9uZW50LlxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSB0aGlzIG9ubHkgYXMgYSB0ZW1wb3Jhcnkgc29sdXRpb24gdG8gbWlncmF0ZSB5b3VyIGltcGVyYXRpdmUgY29tcG9uZW50IGNvZGUgdG8gU3ZlbHRlIDUuXG4gKlxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBQcm9wc1xuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBFeHBvcnRzXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IEV2ZW50c1xuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBTbG90c1xuICpcbiAqIEBwYXJhbSB7Q29tcG9uZW50Q29uc3RydWN0b3JPcHRpb25zPFByb3BzPiAmIHtcbiAqIFx0Y29tcG9uZW50OiBDb21wb25lbnRUeXBlPFN2ZWx0ZUNvbXBvbmVudDxQcm9wcywgRXZlbnRzLCBTbG90cz4+IHwgQ29tcG9uZW50PFByb3BzPjtcbiAqIH19IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtTdmVsdGVDb21wb25lbnQ8UHJvcHMsIEV2ZW50cywgU2xvdHM+ICYgRXhwb3J0c31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsYXNzQ29tcG9uZW50KG9wdGlvbnMpIHtcblx0Ly8gQHRzLWV4cGVjdC1lcnJvciAkJHByb3BfZGVmIGV0YyBhcmUgbm90IGFjdHVhbGx5IGRlZmluZWRcblx0cmV0dXJuIG5ldyBTdmVsdGU0Q29tcG9uZW50KG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFRha2VzIHRoZSBjb21wb25lbnQgZnVuY3Rpb24gYW5kIHJldHVybnMgYSBTdmVsdGUgNCBjb21wYXRpYmxlIGNvbXBvbmVudCBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgdGhpcyBvbmx5IGFzIGEgdGVtcG9yYXJ5IHNvbHV0aW9uIHRvIG1pZ3JhdGUgeW91ciBpbXBlcmF0aXZlIGNvbXBvbmVudCBjb2RlIHRvIFN2ZWx0ZSA1LlxuICpcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gUHJvcHNcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gRXhwb3J0c1xuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBFdmVudHNcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gU2xvdHNcbiAqXG4gKiBAcGFyYW0ge1N2ZWx0ZUNvbXBvbmVudDxQcm9wcywgRXZlbnRzLCBTbG90cz4gfCBDb21wb25lbnQ8UHJvcHM+fSBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtDb21wb25lbnRUeXBlPFN2ZWx0ZUNvbXBvbmVudDxQcm9wcywgRXZlbnRzLCBTbG90cz4gJiBFeHBvcnRzPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSB7XG5cdC8vIEB0cy1leHBlY3QtZXJyb3IgJCRwcm9wX2RlZiBldGMgYXJlIG5vdCBhY3R1YWxseSBkZWZpbmVkXG5cdHJldHVybiBjbGFzcyBleHRlbmRzIFN2ZWx0ZTRDb21wb25lbnQge1xuXHRcdC8qKiBAcGFyYW0ge2FueX0gb3B0aW9ucyAqL1xuXHRcdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRcdHN1cGVyKHtcblx0XHRcdFx0Y29tcG9uZW50LFxuXHRcdFx0XHQuLi5vcHRpb25zXG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogU3VwcG9ydCB1c2luZyB0aGUgY29tcG9uZW50IGFzIGJvdGggYSBjbGFzcyBhbmQgZnVuY3Rpb24gZHVyaW5nIHRoZSB0cmFuc2l0aW9uIHBlcmlvZFxuICogQHR5cGVkZWYgIHt7bmV3IChvOiBDb21wb25lbnRDb25zdHJ1Y3Rvck9wdGlvbnMpOiBTdmVsdGVDb21wb25lbnQ7KC4uLmFyZ3M6IFBhcmFtZXRlcnM8Q29tcG9uZW50PFJlY29yZDxzdHJpbmcsIGFueT4+Pik6IFJldHVyblR5cGU8Q29tcG9uZW50PFJlY29yZDxzdHJpbmcsIGFueT4sIFJlY29yZDxzdHJpbmcsIGFueT4+Pjt9fSBMZWdhY3lDb21wb25lbnRUeXBlXG4gKi9cblxuY2xhc3MgU3ZlbHRlNENvbXBvbmVudCB7XG5cdC8qKiBAdHlwZSB7YW55fSAqL1xuXHQjZXZlbnRzO1xuXG5cdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gKi9cblx0I2luc3RhbmNlO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge0NvbXBvbmVudENvbnN0cnVjdG9yT3B0aW9ucyAmIHtcblx0ICogIGNvbXBvbmVudDogYW55O1xuXHQgKiB9fSBvcHRpb25zXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0dmFyIHNvdXJjZXMgPSBuZXcgTWFwKCk7XG5cblx0XHQvKipcblx0XHQgKiBAcGFyYW0ge3N0cmluZyB8IHN5bWJvbH0ga2V5XG5cdFx0ICogQHBhcmFtIHt1bmtub3dufSB2YWx1ZVxuXHRcdCAqL1xuXHRcdHZhciBhZGRfc291cmNlID0gKGtleSwgdmFsdWUpID0+IHtcblx0XHRcdHZhciBzID0gbXV0YWJsZV9zb3VyY2UodmFsdWUsIGZhbHNlLCBmYWxzZSk7XG5cdFx0XHRzb3VyY2VzLnNldChrZXksIHMpO1xuXHRcdFx0cmV0dXJuIHM7XG5cdFx0fTtcblxuXHRcdC8vIFJlcGxpY2F0ZSBjb2Fyc2UtZ3JhaW5lZCBwcm9wcyB0aHJvdWdoIGEgcHJveHkgdGhhdCBoYXMgYSB2ZXJzaW9uIHNvdXJjZSBmb3Jcblx0XHQvLyBlYWNoIHByb3BlcnR5LCB3aGljaCBpcyBpbmNyZW1lbnRlZCBvbiB1cGRhdGVzIHRvIHRoZSBwcm9wZXJ0eSBpdHNlbGYuIERvIG5vdFxuXHRcdC8vIHVzZSBvdXIgJHN0YXRlIHByb3h5IGJlY2F1c2UgdGhhdCBvbmUgaGFzIGZpbmUtZ3JhaW5lZCByZWFjdGl2aXR5LlxuXHRcdGNvbnN0IHByb3BzID0gbmV3IFByb3h5KFxuXHRcdFx0eyAuLi4ob3B0aW9ucy5wcm9wcyB8fCB7fSksICQkZXZlbnRzOiB7fSB9LFxuXHRcdFx0e1xuXHRcdFx0XHRnZXQodGFyZ2V0LCBwcm9wKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGdldChzb3VyY2VzLmdldChwcm9wKSA/PyBhZGRfc291cmNlKHByb3AsIFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCkpKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0aGFzKHRhcmdldCwgcHJvcCkge1xuXHRcdFx0XHRcdC8vIE5lY2Vzc2FyeSB0byBub3QgdGhyb3cgXCJpbnZhbGlkIGJpbmRpbmdcIiB2YWxpZGF0aW9uIGVycm9ycyBvbiB0aGUgY29tcG9uZW50IHNpZGVcblx0XHRcdFx0XHRpZiAocHJvcCA9PT0gTEVHQUNZX1BST1BTKSByZXR1cm4gdHJ1ZTtcblxuXHRcdFx0XHRcdGdldChzb3VyY2VzLmdldChwcm9wKSA/PyBhZGRfc291cmNlKHByb3AsIFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCkpKTtcblx0XHRcdFx0XHRyZXR1cm4gUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0c2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcblx0XHRcdFx0XHRzZXQoc291cmNlcy5nZXQocHJvcCkgPz8gYWRkX3NvdXJjZShwcm9wLCB2YWx1ZSksIHZhbHVlKTtcblx0XHRcdFx0XHRyZXR1cm4gUmVmbGVjdC5zZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0dGhpcy4jaW5zdGFuY2UgPSAob3B0aW9ucy5oeWRyYXRlID8gaHlkcmF0ZSA6IG1vdW50KShvcHRpb25zLmNvbXBvbmVudCwge1xuXHRcdFx0dGFyZ2V0OiBvcHRpb25zLnRhcmdldCxcblx0XHRcdGFuY2hvcjogb3B0aW9ucy5hbmNob3IsXG5cdFx0XHRwcm9wcyxcblx0XHRcdGNvbnRleHQ6IG9wdGlvbnMuY29udGV4dCxcblx0XHRcdGludHJvOiBvcHRpb25zLmludHJvID8/IGZhbHNlLFxuXHRcdFx0cmVjb3Zlcjogb3B0aW9ucy5yZWNvdmVyXG5cdFx0fSk7XG5cblx0XHQvLyBXZSBkb24ndCBmbHVzaFN5bmMgZm9yIGN1c3RvbSBlbGVtZW50IHdyYXBwZXJzIG9yIGlmIHRoZSB1c2VyIGRvZXNuJ3Qgd2FudCBpdCxcblx0XHQvLyBvciBpZiB3ZSdyZSBpbiBhc3luYyBtb2RlIHNpbmNlIGBmbHVzaFN5bmMoKWAgd2lsbCBmYWlsXG5cdFx0aWYgKCFhc3luY19tb2RlX2ZsYWcgJiYgKCFvcHRpb25zPy5wcm9wcz8uJCRob3N0IHx8IG9wdGlvbnMuc3luYyA9PT0gZmFsc2UpKSB7XG5cdFx0XHRmbHVzaFN5bmMoKTtcblx0XHR9XG5cblx0XHR0aGlzLiNldmVudHMgPSBwcm9wcy4kJGV2ZW50cztcblxuXHRcdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMuI2luc3RhbmNlKSkge1xuXHRcdFx0aWYgKGtleSA9PT0gJyRzZXQnIHx8IGtleSA9PT0gJyRkZXN0cm95JyB8fCBrZXkgPT09ICckb24nKSBjb250aW51ZTtcblx0XHRcdGRlZmluZV9wcm9wZXJ0eSh0aGlzLCBrZXksIHtcblx0XHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLiNpbnN0YW5jZVtrZXldO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKiogQHBhcmFtIHthbnl9IHZhbHVlICovXG5cdFx0XHRcdHNldCh2YWx1ZSkge1xuXHRcdFx0XHRcdHRoaXMuI2luc3RhbmNlW2tleV0gPSB2YWx1ZTtcblx0XHRcdFx0fSxcblx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0dGhpcy4jaW5zdGFuY2UuJHNldCA9IC8qKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT59IG5leHQgKi8gKG5leHQpID0+IHtcblx0XHRcdE9iamVjdC5hc3NpZ24ocHJvcHMsIG5leHQpO1xuXHRcdH07XG5cblx0XHR0aGlzLiNpbnN0YW5jZS4kZGVzdHJveSA9ICgpID0+IHtcblx0XHRcdHVubW91bnQodGhpcy4jaW5zdGFuY2UpO1xuXHRcdH07XG5cdH1cblxuXHQvKiogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBwcm9wcyAqL1xuXHQkc2V0KHByb3BzKSB7XG5cdFx0dGhpcy4jaW5zdGFuY2UuJHNldChwcm9wcyk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG5cdCAqIEBwYXJhbSB7KC4uLmFyZ3M6IGFueVtdKSA9PiBhbnl9IGNhbGxiYWNrXG5cdCAqIEByZXR1cm5zIHthbnl9XG5cdCAqL1xuXHQkb24oZXZlbnQsIGNhbGxiYWNrKSB7XG5cdFx0dGhpcy4jZXZlbnRzW2V2ZW50XSA9IHRoaXMuI2V2ZW50c1tldmVudF0gfHwgW107XG5cblx0XHQvKiogQHBhcmFtIHthbnlbXX0gYXJncyAqL1xuXHRcdGNvbnN0IGNiID0gKC4uLmFyZ3MpID0+IGNhbGxiYWNrLmNhbGwodGhpcywgLi4uYXJncyk7XG5cdFx0dGhpcy4jZXZlbnRzW2V2ZW50XS5wdXNoKGNiKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0dGhpcy4jZXZlbnRzW2V2ZW50XSA9IHRoaXMuI2V2ZW50c1tldmVudF0uZmlsdGVyKC8qKiBAcGFyYW0ge2FueX0gZm4gKi8gKGZuKSA9PiBmbiAhPT0gY2IpO1xuXHRcdH07XG5cdH1cblxuXHQkZGVzdHJveSgpIHtcblx0XHR0aGlzLiNpbnN0YW5jZS4kZGVzdHJveSgpO1xuXHR9XG59XG5cbi8qKlxuICogUnVucyB0aGUgZ2l2ZW4gZnVuY3Rpb24gb25jZSBpbW1lZGlhdGVseSBvbiB0aGUgc2VydmVyLCBhbmQgd29ya3MgbGlrZSBgJGVmZmVjdC5wcmVgIG9uIHRoZSBjbGllbnQuXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIHRoaXMgb25seSBhcyBhIHRlbXBvcmFyeSBzb2x1dGlvbiB0byBtaWdyYXRlIHlvdXIgY29tcG9uZW50IGNvZGUgdG8gU3ZlbHRlIDUuXG4gKiBAcGFyYW0geygpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ1bihmbikge1xuXHR1c2VyX3ByZV9lZmZlY3QoKCkgPT4ge1xuXHRcdGZuKCk7XG5cdFx0dmFyIGVmZmVjdCA9IC8qKiBAdHlwZSB7aW1wb3J0KCcjY2xpZW50JykuRWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCk7XG5cdFx0Ly8gSWYgdGhlIGVmZmVjdCBpcyBpbW1lZGlhdGVseSBtYWRlIGRpcnR5IGFnYWluLCBtYXJrIGl0IGFzIG1heWJlIGRpcnR5IHRvIGVtdWxhdGUgbGVnYWN5IGJlaGF2aW91clxuXHRcdGlmICgoZWZmZWN0LmYgJiBESVJUWSkgIT09IDApIHtcblx0XHRcdGxldCBmaWxlbmFtZSA9IFwiYSBmaWxlICh3ZSBjYW4ndCBrbm93IHdoaWNoIG9uZSlcIjtcblx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRmaWxlbmFtZSA9IGRldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbj8uW0ZJTEVOQU1FXSA/PyBmaWxlbmFtZTtcblx0XHRcdH1cblx0XHRcdHcubGVnYWN5X3JlY3Vyc2l2ZV9yZWFjdGl2ZV9ibG9jayhmaWxlbmFtZSk7XG5cdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhlZmZlY3QsIE1BWUJFX0RJUlRZKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIG1pbWljIHRoZSBtdWx0aXBsZSBsaXN0ZW5lcnMgYXZhaWxhYmxlIGluIHN2ZWx0ZSA0XG4gKiBAZGVwcmVjYXRlZFxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyW119IGhhbmRsZXJzXG4gKiBAcmV0dXJucyB7RXZlbnRMaXN0ZW5lcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZXJzKC4uLmhhbmRsZXJzKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRjb25zdCB7IHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiB9ID0gZXZlbnQ7XG5cdFx0bGV0IHN0b3BwZWQgPSBmYWxzZTtcblxuXHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9ICgpID0+IHtcblx0XHRcdHN0b3BwZWQgPSB0cnVlO1xuXHRcdFx0c3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLmNhbGwoZXZlbnQpO1xuXHRcdH07XG5cblx0XHRjb25zdCBlcnJvcnMgPSBbXTtcblxuXHRcdGZvciAoY29uc3QgaGFuZGxlciBvZiBoYW5kbGVycykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBgdGhpc2AgaXMgbm90IHR5cGVkXG5cdFx0XHRcdGhhbmRsZXI/LmNhbGwodGhpcywgZXZlbnQpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRlcnJvcnMucHVzaChlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHN0b3BwZWQpIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChsZXQgZXJyb3Igb2YgZXJyb3JzKSB7XG5cdFx0XHRxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG5cdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIGBidWJibGVgIGZ1bmN0aW9uIHRoYXQgbWltaWMgdGhlIGJlaGF2aW9yIG9mIGBvbjpjbGlja2Agd2l0aG91dCBoYW5kbGVyIGF2YWlsYWJsZSBpbiBzdmVsdGUgNC5cbiAqIEBkZXByZWNhdGVkIFVzZSB0aGlzIG9ubHkgYXMgYSB0ZW1wb3Jhcnkgc29sdXRpb24gdG8gbWlncmF0ZSB5b3VyIGF1dG9tYXRpY2FsbHkgZGVsZWdhdGVkIGV2ZW50cyBpbiBTdmVsdGUgNS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJ1YmJsZXIoKSB7XG5cdGNvbnN0IGFjdGl2ZV9jb21wb25lbnRfY29udGV4dCA9IGNvbXBvbmVudF9jb250ZXh0O1xuXHRpZiAoYWN0aXZlX2NvbXBvbmVudF9jb250ZXh0ID09PSBudWxsKSB7XG5cdFx0ZS5saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnQoJ2NyZWF0ZUJ1YmJsZXInKTtcblx0fVxuXG5cdHJldHVybiAoLyoqQHR5cGUge3N0cmluZ30qLyB0eXBlKSA9PiAoLyoqQHR5cGUge0V2ZW50fSovIGV2ZW50KSA9PiB7XG5cdFx0Y29uc3QgZXZlbnRzID0gLyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBGdW5jdGlvbiB8IEZ1bmN0aW9uW10+fSAqLyAoXG5cdFx0XHRhY3RpdmVfY29tcG9uZW50X2NvbnRleHQucy4kJGV2ZW50c1xuXHRcdCk/LlsvKiogQHR5cGUge2FueX0gKi8gKHR5cGUpXTtcblxuXHRcdGlmIChldmVudHMpIHtcblx0XHRcdGNvbnN0IGNhbGxiYWNrcyA9IGlzX2FycmF5KGV2ZW50cykgPyBldmVudHMuc2xpY2UoKSA6IFtldmVudHNdO1xuXHRcdFx0Zm9yIChjb25zdCBmbiBvZiBjYWxsYmFja3MpIHtcblx0XHRcdFx0Zm4uY2FsbChhY3RpdmVfY29tcG9uZW50X2NvbnRleHQueCwgZXZlbnQpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuICFldmVudC5kZWZhdWx0UHJldmVudGVkO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcbn1cblxuZXhwb3J0IHtcblx0b25jZSxcblx0cHJldmVudERlZmF1bHQsXG5cdHNlbGYsXG5cdHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbixcblx0c3RvcFByb3BhZ2F0aW9uLFxuXHR0cnVzdGVkLFxuXHRwYXNzaXZlLFxuXHRub25wYXNzaXZlXG59IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9kb20vbGVnYWN5L2V2ZW50LW1vZGlmaWVycy5qcyc7XG4iLCIvLyBnZW5lcmF0ZWQgZHVyaW5nIHJlbGVhc2UsIGRvIG5vdCBtb2RpZnlcblxuLyoqXG4gKiBUaGUgY3VycmVudCB2ZXJzaW9uLCBhcyBzZXQgaW4gcGFja2FnZS5qc29uLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNS4zNi41JztcbmV4cG9ydCBjb25zdCBQVUJMSUNfVkVSU0lPTiA9ICc1JztcbiIsImltcG9ydCB7IFBVQkxJQ19WRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbi5qcyc7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdCgod2luZG93Ll9fc3ZlbHRlID8/PSB7fSkudiA/Pz0gbmV3IFNldCgpKS5hZGQoUFVCTElDX1ZFUlNJT04pO1xufVxuIiwiaW1wb3J0IHsgZW5hYmxlX2xlZ2FjeV9tb2RlX2ZsYWcgfSBmcm9tICcuL2luZGV4LmpzJztcblxuZW5hYmxlX2xlZ2FjeV9tb2RlX2ZsYWcoKTtcbiIsIi8qKiBAaW1wb3J0IHsgQ29tcG9uZW50Q29udGV4dCwgQ29tcG9uZW50Q29udGV4dExlZ2FjeSB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciB9IGZyb20gJy4vaW5kZXguanMnICovXG4vKiogQGltcG9ydCB7IE5vdEZ1bmN0aW9uIH0gZnJvbSAnLi9pbnRlcm5hbC90eXBlcy5qcycgKi9cbmltcG9ydCB7IGFjdGl2ZV9yZWFjdGlvbiwgdW50cmFjayB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgaXNfYXJyYXkgfSBmcm9tICcuL2ludGVybmFsL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyB1c2VyX2VmZmVjdCB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L2luZGV4LmpzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi9pbnRlcm5hbC9jbGllbnQvZXJyb3JzLmpzJztcbmltcG9ydCB7IGxlZ2FjeV9tb2RlX2ZsYWcgfSBmcm9tICcuL2ludGVybmFsL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IGNvbXBvbmVudF9jb250ZXh0IH0gZnJvbSAnLi9pbnRlcm5hbC9jbGllbnQvY29udGV4dC5qcyc7XG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcblxuaWYgKERFVikge1xuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IHJ1bmVcblx0ICovXG5cdGZ1bmN0aW9uIHRocm93X3J1bmVfZXJyb3IocnVuZSkge1xuXHRcdGlmICghKHJ1bmUgaW4gZ2xvYmFsVGhpcykpIHtcblx0XHRcdC8vIFRPRE8gaWYgcGVvcGxlIHN0YXJ0IGFkanVzdGluZyB0aGUgXCJ0aGlzIGNhbiBjb250YWluIHJ1bmVzXCIgY29uZmlnIHRocm91Z2ggdi1wLXMgbW9yZSwgYWRqdXN0IHRoaXMgbWVzc2FnZVxuXHRcdFx0LyoqIEB0eXBlIHthbnl9ICovXG5cdFx0XHRsZXQgdmFsdWU7IC8vIGxldCdzIGhvcGUgbm9vbmUgbW9kaWZpZXMgdGhpcyBnbG9iYWwsIGJ1dCBiZWx0cyBhbmQgYnJhY2VzXG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsVGhpcywgcnVuZSwge1xuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBnZXR0ZXItcmV0dXJuXG5cdFx0XHRcdGdldDogKCkgPT4ge1xuXHRcdFx0XHRcdGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZS5ydW5lX291dHNpZGVfc3ZlbHRlKHJ1bmUpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZXQ6ICh2KSA9PiB7XG5cdFx0XHRcdFx0dmFsdWUgPSB2O1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHR0aHJvd19ydW5lX2Vycm9yKCckc3RhdGUnKTtcblx0dGhyb3dfcnVuZV9lcnJvcignJGVmZmVjdCcpO1xuXHR0aHJvd19ydW5lX2Vycm9yKCckZGVyaXZlZCcpO1xuXHR0aHJvd19ydW5lX2Vycm9yKCckaW5zcGVjdCcpO1xuXHR0aHJvd19ydW5lX2Vycm9yKCckcHJvcHMnKTtcblx0dGhyb3dfcnVuZV9lcnJvcignJGJpbmRhYmxlJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBbYEFib3J0U2lnbmFsYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Fib3J0U2lnbmFsKSB0aGF0IGFib3J0cyB3aGVuIHRoZSBjdXJyZW50IFtkZXJpdmVkXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvJGRlcml2ZWQpIG9yIFtlZmZlY3RdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS8kZWZmZWN0KSByZS1ydW5zIG9yIGlzIGRlc3Ryb3llZC5cbiAqXG4gKiBNdXN0IGJlIGNhbGxlZCB3aGlsZSBhIGRlcml2ZWQgb3IgZWZmZWN0IGlzIHJ1bm5pbmcuXG4gKlxuICogYGBgc3ZlbHRlXG4gKiA8c2NyaXB0PlxuICogXHRpbXBvcnQgeyBnZXRBYm9ydFNpZ25hbCB9IGZyb20gJ3N2ZWx0ZSc7XG4gKlxuICogXHRsZXQgeyBpZCB9ID0gJHByb3BzKCk7XG4gKlxuICogXHRhc3luYyBmdW5jdGlvbiBnZXREYXRhKGlkKSB7XG4gKiBcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2l0ZW1zLyR7aWR9YCwge1xuICogXHRcdFx0c2lnbmFsOiBnZXRBYm9ydFNpZ25hbCgpXG4gKiBcdFx0fSk7XG4gKlxuICogXHRcdHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gKiBcdH1cbiAqXG4gKiBcdGNvbnN0IGRhdGEgPSAkZGVyaXZlZChhd2FpdCBnZXREYXRhKGlkKSk7XG4gKiA8L3NjcmlwdD5cbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWJvcnRTaWduYWwoKSB7XG5cdGlmIChhY3RpdmVfcmVhY3Rpb24gPT09IG51bGwpIHtcblx0XHRlLmdldF9hYm9ydF9zaWduYWxfb3V0c2lkZV9yZWFjdGlvbigpO1xuXHR9XG5cblx0cmV0dXJuIChhY3RpdmVfcmVhY3Rpb24uYWMgPz89IG5ldyBBYm9ydENvbnRyb2xsZXIoKSkuc2lnbmFsO1xufVxuXG4vKipcbiAqIGBvbk1vdW50YCwgbGlrZSBbYCRlZmZlY3RgXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvJGVmZmVjdCksIHNjaGVkdWxlcyBhIGZ1bmN0aW9uIHRvIHJ1biBhcyBzb29uIGFzIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gbW91bnRlZCB0byB0aGUgRE9NLlxuICogVW5saWtlIGAkZWZmZWN0YCwgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIG9ubHkgcnVucyBvbmNlLlxuICpcbiAqIEl0IG11c3QgYmUgY2FsbGVkIGR1cmluZyB0aGUgY29tcG9uZW50J3MgaW5pdGlhbGlzYXRpb24gKGJ1dCBkb2Vzbid0IG5lZWQgdG8gbGl2ZSBfaW5zaWRlXyB0aGUgY29tcG9uZW50O1xuICogaXQgY2FuIGJlIGNhbGxlZCBmcm9tIGFuIGV4dGVybmFsIG1vZHVsZSkuIElmIGEgZnVuY3Rpb24gaXMgcmV0dXJuZWQgX3N5bmNocm9ub3VzbHlfIGZyb20gYG9uTW91bnRgLFxuICogaXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBgb25Nb3VudGAgZnVuY3Rpb25zIGRvIG5vdCBydW4gZHVyaW5nIFtzZXJ2ZXItc2lkZSByZW5kZXJpbmddKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS9zdmVsdGUtc2VydmVyI3JlbmRlcikuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gTm90RnVuY3Rpb248VD4gfCBQcm9taXNlPE5vdEZ1bmN0aW9uPFQ+PiB8ICgoKSA9PiBhbnkpfSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbk1vdW50KGZuKSB7XG5cdGlmIChjb21wb25lbnRfY29udGV4dCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50KCdvbk1vdW50Jyk7XG5cdH1cblxuXHRpZiAobGVnYWN5X21vZGVfZmxhZyAmJiBjb21wb25lbnRfY29udGV4dC5sICE9PSBudWxsKSB7XG5cdFx0aW5pdF91cGRhdGVfY2FsbGJhY2tzKGNvbXBvbmVudF9jb250ZXh0KS5tLnB1c2goZm4pO1xuXHR9IGVsc2Uge1xuXHRcdHVzZXJfZWZmZWN0KCgpID0+IHtcblx0XHRcdGNvbnN0IGNsZWFudXAgPSB1bnRyYWNrKGZuKTtcblx0XHRcdGlmICh0eXBlb2YgY2xlYW51cCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIC8qKiBAdHlwZSB7KCkgPT4gdm9pZH0gKi8gKGNsZWFudXApO1xuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBPdXQgb2YgYG9uTW91bnRgLCBgYmVmb3JlVXBkYXRlYCwgYGFmdGVyVXBkYXRlYCBhbmQgYG9uRGVzdHJveWAsIHRoaXMgaXMgdGhlXG4gKiBvbmx5IG9uZSB0aGF0IHJ1bnMgaW5zaWRlIGEgc2VydmVyLXNpZGUgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbkRlc3Ryb3koZm4pIHtcblx0aWYgKGNvbXBvbmVudF9jb250ZXh0ID09PSBudWxsKSB7XG5cdFx0ZS5saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnQoJ29uRGVzdHJveScpO1xuXHR9XG5cblx0b25Nb3VudCgoKSA9PiAoKSA9PiB1bnRyYWNrKGZuKSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFtUPWFueV1cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge1R9IFtkZXRhaWxdXG4gKiBAcGFyYW0ge2FueX1wYXJhbXNfMFxuICogQHJldHVybnMge0N1c3RvbUV2ZW50PFQ+fVxuICovXG5mdW5jdGlvbiBjcmVhdGVfY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCwgeyBidWJibGVzID0gZmFsc2UsIGNhbmNlbGFibGUgPSBmYWxzZSB9ID0ge30pIHtcblx0cmV0dXJuIG5ldyBDdXN0b21FdmVudCh0eXBlLCB7IGRldGFpbCwgYnViYmxlcywgY2FuY2VsYWJsZSB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGV2ZW50IGRpc3BhdGNoZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBkaXNwYXRjaCBbY29tcG9uZW50IGV2ZW50c10oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlL2xlZ2FjeS1vbiNDb21wb25lbnQtZXZlbnRzKS5cbiAqIEV2ZW50IGRpc3BhdGNoZXJzIGFyZSBmdW5jdGlvbnMgdGhhdCBjYW4gdGFrZSB0d28gYXJndW1lbnRzOiBgbmFtZWAgYW5kIGBkZXRhaWxgLlxuICpcbiAqIENvbXBvbmVudCBldmVudHMgY3JlYXRlZCB3aXRoIGBjcmVhdGVFdmVudERpc3BhdGNoZXJgIGNyZWF0ZSBhXG4gKiBbQ3VzdG9tRXZlbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudCkuXG4gKiBUaGVzZSBldmVudHMgZG8gbm90IFtidWJibGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTGVhcm4vSmF2YVNjcmlwdC9CdWlsZGluZ19ibG9ja3MvRXZlbnRzI0V2ZW50X2J1YmJsaW5nX2FuZF9jYXB0dXJlKS5cbiAqIFRoZSBgZGV0YWlsYCBhcmd1bWVudCBjb3JyZXNwb25kcyB0byB0aGUgW0N1c3RvbUV2ZW50LmRldGFpbF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50L2RldGFpbClcbiAqIHByb3BlcnR5IGFuZCBjYW4gY29udGFpbiBhbnkgdHlwZSBvZiBkYXRhLlxuICpcbiAqIFRoZSBldmVudCBkaXNwYXRjaGVyIGNhbiBiZSB0eXBlZCB0byBuYXJyb3cgdGhlIGFsbG93ZWQgZXZlbnQgbmFtZXMgYW5kIHRoZSB0eXBlIG9mIHRoZSBgZGV0YWlsYCBhcmd1bWVudDpcbiAqIGBgYHRzXG4gKiBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcjx7XG4gKiAgbG9hZGVkOiBudWxsOyAvLyBkb2VzIG5vdCB0YWtlIGEgZGV0YWlsIGFyZ3VtZW50XG4gKiAgY2hhbmdlOiBzdHJpbmc7IC8vIHRha2VzIGEgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgc3RyaW5nLCB3aGljaCBpcyByZXF1aXJlZFxuICogIG9wdGlvbmFsOiBudW1iZXIgfCBudWxsOyAvLyB0YWtlcyBhbiBvcHRpb25hbCBkZXRhaWwgYXJndW1lbnQgb2YgdHlwZSBudW1iZXJcbiAqIH0+KCk7XG4gKiBgYGBcbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgY2FsbGJhY2sgcHJvcHMgYW5kL29yIHRoZSBgJGhvc3QoKWAgcnVuZSBpbnN0ZWFkIOKAlCBzZWUgW21pZ3JhdGlvbiBndWlkZV0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlL3Y1LW1pZ3JhdGlvbi1ndWlkZSNFdmVudC1jaGFuZ2VzLUNvbXBvbmVudC1ldmVudHMpXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudE1hcCA9IGFueV1cbiAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXI8RXZlbnRNYXA+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCkge1xuXHRjb25zdCBhY3RpdmVfY29tcG9uZW50X2NvbnRleHQgPSBjb21wb25lbnRfY29udGV4dDtcblx0aWYgKGFjdGl2ZV9jb21wb25lbnRfY29udGV4dCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50KCdjcmVhdGVFdmVudERpc3BhdGNoZXInKTtcblx0fVxuXG5cdHJldHVybiAodHlwZSwgZGV0YWlsLCBvcHRpb25zKSA9PiB7XG5cdFx0Y29uc3QgZXZlbnRzID0gLyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBGdW5jdGlvbiB8IEZ1bmN0aW9uW10+fSAqLyAoXG5cdFx0XHRhY3RpdmVfY29tcG9uZW50X2NvbnRleHQucy4kJGV2ZW50c1xuXHRcdCk/LlsvKiogQHR5cGUge2FueX0gKi8gKHR5cGUpXTtcblxuXHRcdGlmIChldmVudHMpIHtcblx0XHRcdGNvbnN0IGNhbGxiYWNrcyA9IGlzX2FycmF5KGV2ZW50cykgPyBldmVudHMuc2xpY2UoKSA6IFtldmVudHNdO1xuXHRcdFx0Ly8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuXHRcdFx0Ly8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuXHRcdFx0Y29uc3QgZXZlbnQgPSBjcmVhdGVfY3VzdG9tX2V2ZW50KC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSksIGRldGFpbCwgb3B0aW9ucyk7XG5cdFx0XHRmb3IgKGNvbnN0IGZuIG9mIGNhbGxiYWNrcykge1xuXHRcdFx0XHRmbi5jYWxsKGFjdGl2ZV9jb21wb25lbnRfY29udGV4dC54LCBldmVudCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG59XG5cbi8vIFRPRE8gbWFyayBiZWZvcmVVcGRhdGUgYW5kIGFmdGVyVXBkYXRlIGFzIGRlcHJlY2F0ZWQgaW4gU3ZlbHRlIDZcblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdXBkYXRlZCBhZnRlciBhbnkgc3RhdGUgY2hhbmdlLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYmVmb3JlIHRoZSBpbml0aWFsIGBvbk1vdW50YC5cbiAqXG4gKiBJbiBydW5lcyBtb2RlIHVzZSBgJGVmZmVjdC5wcmVgIGluc3RlYWQuXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIFtgJGVmZmVjdC5wcmVgXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvJGVmZmVjdCMkZWZmZWN0LnByZSkgaW5zdGVhZFxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZWZvcmVVcGRhdGUoZm4pIHtcblx0aWYgKGNvbXBvbmVudF9jb250ZXh0ID09PSBudWxsKSB7XG5cdFx0ZS5saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnQoJ2JlZm9yZVVwZGF0ZScpO1xuXHR9XG5cblx0aWYgKGNvbXBvbmVudF9jb250ZXh0LmwgPT09IG51bGwpIHtcblx0XHRlLmxpZmVjeWNsZV9sZWdhY3lfb25seSgnYmVmb3JlVXBkYXRlJyk7XG5cdH1cblxuXHRpbml0X3VwZGF0ZV9jYWxsYmFja3MoY29tcG9uZW50X2NvbnRleHQpLmIucHVzaChmbik7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGFmdGVyIHRoZSBpbml0aWFsIGBvbk1vdW50YC5cbiAqXG4gKiBJbiBydW5lcyBtb2RlIHVzZSBgJGVmZmVjdGAgaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgW2AkZWZmZWN0YF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLyRlZmZlY3QpIGluc3RlYWRcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcblx0aWYgKGNvbXBvbmVudF9jb250ZXh0ID09PSBudWxsKSB7XG5cdFx0ZS5saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnQoJ2FmdGVyVXBkYXRlJyk7XG5cdH1cblxuXHRpZiAoY29tcG9uZW50X2NvbnRleHQubCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX2xlZ2FjeV9vbmx5KCdhZnRlclVwZGF0ZScpO1xuXHR9XG5cblx0aW5pdF91cGRhdGVfY2FsbGJhY2tzKGNvbXBvbmVudF9jb250ZXh0KS5hLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIExlZ2FjeS1tb2RlOiBJbml0IGNhbGxiYWNrcyBvYmplY3QgZm9yIG9uTW91bnQvYmVmb3JlVXBkYXRlL2FmdGVyVXBkYXRlXG4gKiBAcGFyYW0ge0NvbXBvbmVudENvbnRleHR9IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gaW5pdF91cGRhdGVfY2FsbGJhY2tzKGNvbnRleHQpIHtcblx0dmFyIGwgPSAvKiogQHR5cGUge0NvbXBvbmVudENvbnRleHRMZWdhY3l9ICovIChjb250ZXh0KS5sO1xuXHRyZXR1cm4gKGwudSA/Pz0geyBhOiBbXSwgYjogW10sIG06IFtdIH0pO1xufVxuXG5leHBvcnQgeyBmbHVzaFN5bmMgfSBmcm9tICcuL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2JhdGNoLmpzJztcbmV4cG9ydCB7IGdldENvbnRleHQsIGdldEFsbENvbnRleHRzLCBoYXNDb250ZXh0LCBzZXRDb250ZXh0IH0gZnJvbSAnLi9pbnRlcm5hbC9jbGllbnQvY29udGV4dC5qcyc7XG5leHBvcnQgeyBoeWRyYXRlLCBtb3VudCwgdW5tb3VudCB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L3JlbmRlci5qcyc7XG5leHBvcnQgeyB0aWNrLCB1bnRyYWNrLCBzZXR0bGVkIH0gZnJvbSAnLi9pbnRlcm5hbC9jbGllbnQvcnVudGltZS5qcyc7XG5leHBvcnQgeyBjcmVhdGVSYXdTbmlwcGV0IH0gZnJvbSAnLi9pbnRlcm5hbC9jbGllbnQvZG9tL2Jsb2Nrcy9zbmlwcGV0LmpzJztcbiIsIi8qKiBAaW1wb3J0IHsgRWZmZWN0LCBUZW1wbGF0ZU5vZGUgfSBmcm9tICcjY2xpZW50JyAqL1xuLyoqIEBpbXBvcnQgeyBCYXRjaCB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvYmF0Y2guanMnOyAqL1xuaW1wb3J0IHsgRUZGRUNUX1RSQU5TUEFSRU5UIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHtcblx0aHlkcmF0ZV9uZXh0LFxuXHRoeWRyYXRlX25vZGUsXG5cdGh5ZHJhdGluZyxcblx0cmVhZF9oeWRyYXRpb25faW5zdHJ1Y3Rpb24sXG5cdHJlbW92ZV9ub2Rlcyxcblx0c2V0X2h5ZHJhdGVfbm9kZSxcblx0c2V0X2h5ZHJhdGluZ1xufSBmcm9tICcuLi9oeWRyYXRpb24uanMnO1xuaW1wb3J0IHsgYmxvY2ssIGJyYW5jaCwgcGF1c2VfZWZmZWN0LCByZXN1bWVfZWZmZWN0IH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IEhZRFJBVElPTl9TVEFSVF9FTFNFLCBVTklOSVRJQUxJWkVEIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGNyZWF0ZV90ZXh0LCBzaG91bGRfZGVmZXJfYXBwZW5kIH0gZnJvbSAnLi4vb3BlcmF0aW9ucy5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2JhdGNoIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9iYXRjaC5qcyc7XG5cbi8vIFRPRE8gcmVpbnN0YXRlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdmVsdGVqcy9zdmVsdGUvcHVsbC8xNTI1MFxuXG4vKipcbiAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBub2RlXG4gKiBAcGFyYW0geyhicmFuY2g6IChmbjogKGFuY2hvcjogTm9kZSkgPT4gdm9pZCwgZmxhZz86IGJvb2xlYW4pID0+IHZvaWQpID0+IHZvaWR9IGZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtlbHNlaWZdIFRydWUgaWYgdGhpcyBpcyBhbiBgezplbHNlIGlmIC4uLn1gIGJsb2NrIHJhdGhlciB0aGFuIGFuIGB7I2lmIC4uLn1gLCBhcyB0aGF0IGFmZmVjdHMgd2hpY2ggdHJhbnNpdGlvbnMgYXJlIGNvbnNpZGVyZWQgJ2xvY2FsJ1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpZl9ibG9jayhub2RlLCBmbiwgZWxzZWlmID0gZmFsc2UpIHtcblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdGh5ZHJhdGVfbmV4dCgpO1xuXHR9XG5cblx0dmFyIGFuY2hvciA9IG5vZGU7XG5cblx0LyoqIEB0eXBlIHtFZmZlY3QgfCBudWxsfSAqL1xuXHR2YXIgY29uc2VxdWVudF9lZmZlY3QgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cblx0dmFyIGFsdGVybmF0ZV9lZmZlY3QgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7VU5JTklUSUFMSVpFRCB8IGJvb2xlYW4gfCBudWxsfSAqL1xuXHR2YXIgY29uZGl0aW9uID0gVU5JTklUSUFMSVpFRDtcblxuXHR2YXIgZmxhZ3MgPSBlbHNlaWYgPyBFRkZFQ1RfVFJBTlNQQVJFTlQgOiAwO1xuXG5cdHZhciBoYXNfYnJhbmNoID0gZmFsc2U7XG5cblx0Y29uc3Qgc2V0X2JyYW5jaCA9ICgvKiogQHR5cGUgeyhhbmNob3I6IE5vZGUpID0+IHZvaWR9ICovIGZuLCBmbGFnID0gdHJ1ZSkgPT4ge1xuXHRcdGhhc19icmFuY2ggPSB0cnVlO1xuXHRcdHVwZGF0ZV9icmFuY2goZmxhZywgZm4pO1xuXHR9O1xuXG5cdC8qKiBAdHlwZSB7RG9jdW1lbnRGcmFnbWVudCB8IG51bGx9ICovXG5cdHZhciBvZmZzY3JlZW5fZnJhZ21lbnQgPSBudWxsO1xuXG5cdGZ1bmN0aW9uIGNvbW1pdCgpIHtcblx0XHRpZiAob2Zmc2NyZWVuX2ZyYWdtZW50ICE9PSBudWxsKSB7XG5cdFx0XHQvLyByZW1vdmUgdGhlIGFuY2hvclxuXHRcdFx0LyoqIEB0eXBlIHtUZXh0fSAqLyAob2Zmc2NyZWVuX2ZyYWdtZW50Lmxhc3RDaGlsZCkucmVtb3ZlKCk7XG5cblx0XHRcdGFuY2hvci5iZWZvcmUob2Zmc2NyZWVuX2ZyYWdtZW50KTtcblx0XHRcdG9mZnNjcmVlbl9mcmFnbWVudCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0dmFyIGFjdGl2ZSA9IGNvbmRpdGlvbiA/IGNvbnNlcXVlbnRfZWZmZWN0IDogYWx0ZXJuYXRlX2VmZmVjdDtcblx0XHR2YXIgaW5hY3RpdmUgPSBjb25kaXRpb24gPyBhbHRlcm5hdGVfZWZmZWN0IDogY29uc2VxdWVudF9lZmZlY3Q7XG5cblx0XHRpZiAoYWN0aXZlKSB7XG5cdFx0XHRyZXN1bWVfZWZmZWN0KGFjdGl2ZSk7XG5cdFx0fVxuXG5cdFx0aWYgKGluYWN0aXZlKSB7XG5cdFx0XHRwYXVzZV9lZmZlY3QoaW5hY3RpdmUsICgpID0+IHtcblx0XHRcdFx0aWYgKGNvbmRpdGlvbikge1xuXHRcdFx0XHRcdGFsdGVybmF0ZV9lZmZlY3QgPSBudWxsO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNlcXVlbnRfZWZmZWN0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgdXBkYXRlX2JyYW5jaCA9IChcblx0XHQvKiogQHR5cGUge2Jvb2xlYW4gfCBudWxsfSAqLyBuZXdfY29uZGl0aW9uLFxuXHRcdC8qKiBAdHlwZSB7bnVsbCB8ICgoYW5jaG9yOiBOb2RlKSA9PiB2b2lkKX0gKi8gZm5cblx0KSA9PiB7XG5cdFx0aWYgKGNvbmRpdGlvbiA9PT0gKGNvbmRpdGlvbiA9IG5ld19jb25kaXRpb24pKSByZXR1cm47XG5cblx0XHQvKiogV2hldGhlciBvciBub3QgdGhlcmUgd2FzIGEgaHlkcmF0aW9uIG1pc21hdGNoLiBOZWVkcyB0byBiZSBhIGBsZXRgIG9yIGVsc2UgaXQgaXNuJ3QgdHJlZXNoYWtlbiBvdXQgKi9cblx0XHRsZXQgbWlzbWF0Y2ggPSBmYWxzZTtcblxuXHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdGNvbnN0IGlzX2Vsc2UgPSByZWFkX2h5ZHJhdGlvbl9pbnN0cnVjdGlvbihhbmNob3IpID09PSBIWURSQVRJT05fU1RBUlRfRUxTRTtcblxuXHRcdFx0aWYgKCEhY29uZGl0aW9uID09PSBpc19lbHNlKSB7XG5cdFx0XHRcdC8vIEh5ZHJhdGlvbiBtaXNtYXRjaDogcmVtb3ZlIGV2ZXJ5dGhpbmcgaW5zaWRlIHRoZSBhbmNob3IgYW5kIHN0YXJ0IGZyZXNoLlxuXHRcdFx0XHQvLyBUaGlzIGNvdWxkIGhhcHBlbiB3aXRoIGB7I2lmIGJyb3dzZXJ9Li4uey9pZn1gLCBmb3IgZXhhbXBsZVxuXHRcdFx0XHRhbmNob3IgPSByZW1vdmVfbm9kZXMoKTtcblxuXHRcdFx0XHRzZXRfaHlkcmF0ZV9ub2RlKGFuY2hvcik7XG5cdFx0XHRcdHNldF9oeWRyYXRpbmcoZmFsc2UpO1xuXHRcdFx0XHRtaXNtYXRjaCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIGRlZmVyID0gc2hvdWxkX2RlZmVyX2FwcGVuZCgpO1xuXHRcdHZhciB0YXJnZXQgPSBhbmNob3I7XG5cblx0XHRpZiAoZGVmZXIpIHtcblx0XHRcdG9mZnNjcmVlbl9mcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0XHRcdG9mZnNjcmVlbl9mcmFnbWVudC5hcHBlbmQoKHRhcmdldCA9IGNyZWF0ZV90ZXh0KCkpKTtcblx0XHR9XG5cblx0XHRpZiAoY29uZGl0aW9uKSB7XG5cdFx0XHRjb25zZXF1ZW50X2VmZmVjdCA/Pz0gZm4gJiYgYnJhbmNoKCgpID0+IGZuKHRhcmdldCkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhbHRlcm5hdGVfZWZmZWN0ID8/PSBmbiAmJiBicmFuY2goKCkgPT4gZm4odGFyZ2V0KSk7XG5cdFx0fVxuXG5cdFx0aWYgKGRlZmVyKSB7XG5cdFx0XHR2YXIgYmF0Y2ggPSAvKiogQHR5cGUge0JhdGNofSAqLyAoY3VycmVudF9iYXRjaCk7XG5cblx0XHRcdHZhciBhY3RpdmUgPSBjb25kaXRpb24gPyBjb25zZXF1ZW50X2VmZmVjdCA6IGFsdGVybmF0ZV9lZmZlY3Q7XG5cdFx0XHR2YXIgaW5hY3RpdmUgPSBjb25kaXRpb24gPyBhbHRlcm5hdGVfZWZmZWN0IDogY29uc2VxdWVudF9lZmZlY3Q7XG5cblx0XHRcdGlmIChhY3RpdmUpIGJhdGNoLnNraXBwZWRfZWZmZWN0cy5kZWxldGUoYWN0aXZlKTtcblx0XHRcdGlmIChpbmFjdGl2ZSkgYmF0Y2guc2tpcHBlZF9lZmZlY3RzLmFkZChpbmFjdGl2ZSk7XG5cblx0XHRcdGJhdGNoLmFkZF9jYWxsYmFjayhjb21taXQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb21taXQoKTtcblx0XHR9XG5cblx0XHRpZiAobWlzbWF0Y2gpIHtcblx0XHRcdC8vIGNvbnRpbnVlIGluIGh5ZHJhdGlvbiBtb2RlXG5cdFx0XHRzZXRfaHlkcmF0aW5nKHRydWUpO1xuXHRcdH1cblx0fTtcblxuXHRibG9jaygoKSA9PiB7XG5cdFx0aGFzX2JyYW5jaCA9IGZhbHNlO1xuXHRcdGZuKHNldF9icmFuY2gpO1xuXHRcdGlmICghaGFzX2JyYW5jaCkge1xuXHRcdFx0dXBkYXRlX2JyYW5jaChudWxsLCBudWxsKTtcblx0XHR9XG5cdH0sIGZsYWdzKTtcblxuXHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0YW5jaG9yID0gaHlkcmF0ZV9ub2RlO1xuXHR9XG59XG4iLCIvKiogQGltcG9ydCB7IEVhY2hJdGVtLCBFYWNoU3RhdGUsIEVmZmVjdCwgTWF5YmVTb3VyY2UsIFNvdXJjZSwgVGVtcGxhdGVOb2RlLCBUcmFuc2l0aW9uTWFuYWdlciwgVmFsdWUgfSBmcm9tICcjY2xpZW50JyAqL1xuLyoqIEBpbXBvcnQgeyBCYXRjaCB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvYmF0Y2guanMnOyAqL1xuaW1wb3J0IHtcblx0RUFDSF9JTkRFWF9SRUFDVElWRSxcblx0RUFDSF9JU19BTklNQVRFRCxcblx0RUFDSF9JU19DT05UUk9MTEVELFxuXHRFQUNIX0lURU1fSU1NVVRBQkxFLFxuXHRFQUNIX0lURU1fUkVBQ1RJVkUsXG5cdEhZRFJBVElPTl9FTkQsXG5cdEhZRFJBVElPTl9TVEFSVF9FTFNFXG59IGZyb20gJy4uLy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQge1xuXHRoeWRyYXRlX25leHQsXG5cdGh5ZHJhdGVfbm9kZSxcblx0aHlkcmF0aW5nLFxuXHRyZWFkX2h5ZHJhdGlvbl9pbnN0cnVjdGlvbixcblx0cmVtb3ZlX25vZGVzLFxuXHRzZXRfaHlkcmF0ZV9ub2RlLFxuXHRzZXRfaHlkcmF0aW5nXG59IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQge1xuXHRjbGVhcl90ZXh0X2NvbnRlbnQsXG5cdGNyZWF0ZV90ZXh0LFxuXHRnZXRfZmlyc3RfY2hpbGQsXG5cdGdldF9uZXh0X3NpYmxpbmcsXG5cdHNob3VsZF9kZWZlcl9hcHBlbmRcbn0gZnJvbSAnLi4vb3BlcmF0aW9ucy5qcyc7XG5pbXBvcnQge1xuXHRibG9jayxcblx0YnJhbmNoLFxuXHRkZXN0cm95X2VmZmVjdCxcblx0cnVuX291dF90cmFuc2l0aW9ucyxcblx0cGF1c2VfY2hpbGRyZW4sXG5cdHBhdXNlX2VmZmVjdCxcblx0cmVzdW1lX2VmZmVjdFxufSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgc291cmNlLCBtdXRhYmxlX3NvdXJjZSwgaW50ZXJuYWxfc2V0IH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9zb3VyY2VzLmpzJztcbmltcG9ydCB7IGFycmF5X2Zyb20sIGlzX2FycmF5IH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IENPTU1FTlRfTk9ERSwgSU5FUlQgfSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgeyBxdWV1ZV9taWNyb190YXNrIH0gZnJvbSAnLi4vdGFzay5qcyc7XG5pbXBvcnQgeyBhY3RpdmVfZWZmZWN0LCBnZXQgfSBmcm9tICcuLi8uLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgZGVyaXZlZF9zYWZlX2VxdWFsIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9kZXJpdmVkcy5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2JhdGNoIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9iYXRjaC5qcyc7XG5cbi8qKlxuICogVGhlIHJvdyBvZiBhIGtleWVkIGVhY2ggYmxvY2sgdGhhdCBpcyBjdXJyZW50bHkgdXBkYXRpbmcuIFdlIHRyYWNrIHRoaXNcbiAqIHNvIHRoYXQgYGFuaW1hdGU6YCBkaXJlY3RpdmVzIGhhdmUgc29tZXRoaW5nIHRvIGF0dGFjaCB0aGVtc2VsdmVzIHRvXG4gKiBAdHlwZSB7RWFjaEl0ZW0gfCBudWxsfVxuICovXG5leHBvcnQgbGV0IGN1cnJlbnRfZWFjaF9pdGVtID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7RWFjaEl0ZW0gfCBudWxsfSBpdGVtICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1cnJlbnRfZWFjaF9pdGVtKGl0ZW0pIHtcblx0Y3VycmVudF9lYWNoX2l0ZW0gPSBpdGVtO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBfXG4gKiBAcGFyYW0ge251bWJlcn0gaVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5kZXgoXywgaSkge1xuXHRyZXR1cm4gaTtcbn1cblxuLyoqXG4gKiBQYXVzZSBtdWx0aXBsZSBlZmZlY3RzIHNpbXVsdGFuZW91c2x5LCBhbmQgY29vcmRpbmF0ZSB0aGVpclxuICogc3Vic2VxdWVudCBkZXN0cnVjdGlvbi4gVXNlZCBpbiBlYWNoIGJsb2Nrc1xuICogQHBhcmFtIHtFYWNoU3RhdGV9IHN0YXRlXG4gKiBAcGFyYW0ge0VhY2hJdGVtW119IGl0ZW1zXG4gKiBAcGFyYW0ge251bGwgfCBOb2RlfSBjb250cm9sbGVkX2FuY2hvclxuICovXG5mdW5jdGlvbiBwYXVzZV9lZmZlY3RzKHN0YXRlLCBpdGVtcywgY29udHJvbGxlZF9hbmNob3IpIHtcblx0dmFyIGl0ZW1zX21hcCA9IHN0YXRlLml0ZW1zO1xuXG5cdC8qKiBAdHlwZSB7VHJhbnNpdGlvbk1hbmFnZXJbXX0gKi9cblx0dmFyIHRyYW5zaXRpb25zID0gW107XG5cdHZhciBsZW5ndGggPSBpdGVtcy5sZW5ndGg7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdHBhdXNlX2NoaWxkcmVuKGl0ZW1zW2ldLmUsIHRyYW5zaXRpb25zLCB0cnVlKTtcblx0fVxuXG5cdHZhciBpc19jb250cm9sbGVkID0gbGVuZ3RoID4gMCAmJiB0cmFuc2l0aW9ucy5sZW5ndGggPT09IDAgJiYgY29udHJvbGxlZF9hbmNob3IgIT09IG51bGw7XG5cdC8vIElmIHdlIGhhdmUgYSBjb250cm9sbGVkIGFuY2hvciwgaXQgbWVhbnMgdGhhdCB0aGUgZWFjaCBibG9jayBpcyBpbnNpZGUgYSBzaW5nbGVcblx0Ly8gRE9NIGVsZW1lbnQsIHNvIHdlIGNhbiBhcHBseSBhIGZhc3QtcGF0aCBmb3IgY2xlYXJpbmcgdGhlIGNvbnRlbnRzIG9mIHRoZSBlbGVtZW50LlxuXHRpZiAoaXNfY29udHJvbGxlZCkge1xuXHRcdHZhciBwYXJlbnRfbm9kZSA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKFxuXHRcdFx0LyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoY29udHJvbGxlZF9hbmNob3IpLnBhcmVudE5vZGVcblx0XHQpO1xuXHRcdGNsZWFyX3RleHRfY29udGVudChwYXJlbnRfbm9kZSk7XG5cdFx0cGFyZW50X25vZGUuYXBwZW5kKC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKGNvbnRyb2xsZWRfYW5jaG9yKSk7XG5cdFx0aXRlbXNfbWFwLmNsZWFyKCk7XG5cdFx0bGluayhzdGF0ZSwgaXRlbXNbMF0ucHJldiwgaXRlbXNbbGVuZ3RoIC0gMV0ubmV4dCk7XG5cdH1cblxuXHRydW5fb3V0X3RyYW5zaXRpb25zKHRyYW5zaXRpb25zLCAoKSA9PiB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBpdGVtc1tpXTtcblx0XHRcdGlmICghaXNfY29udHJvbGxlZCkge1xuXHRcdFx0XHRpdGVtc19tYXAuZGVsZXRlKGl0ZW0uayk7XG5cdFx0XHRcdGxpbmsoc3RhdGUsIGl0ZW0ucHJldiwgaXRlbS5uZXh0KTtcblx0XHRcdH1cblx0XHRcdGRlc3Ryb3lfZWZmZWN0KGl0ZW0uZSwgIWlzX2NvbnRyb2xsZWQpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7RWxlbWVudCB8IENvbW1lbnR9IG5vZGUgVGhlIG5leHQgc2libGluZyBub2RlLCBvciB0aGUgcGFyZW50IG5vZGUgaWYgdGhpcyBpcyBhICdjb250cm9sbGVkJyBibG9ja1xuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcGFyYW0geygpID0+IFZbXX0gZ2V0X2NvbGxlY3Rpb25cbiAqIEBwYXJhbSB7KHZhbHVlOiBWLCBpbmRleDogbnVtYmVyKSA9PiBhbnl9IGdldF9rZXlcbiAqIEBwYXJhbSB7KGFuY2hvcjogTm9kZSwgaXRlbTogTWF5YmVTb3VyY2U8Vj4sIGluZGV4OiBNYXliZVNvdXJjZTxudW1iZXI+KSA9PiB2b2lkfSByZW5kZXJfZm5cbiAqIEBwYXJhbSB7bnVsbCB8ICgoYW5jaG9yOiBOb2RlKSA9PiB2b2lkKX0gZmFsbGJhY2tfZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFjaChub2RlLCBmbGFncywgZ2V0X2NvbGxlY3Rpb24sIGdldF9rZXksIHJlbmRlcl9mbiwgZmFsbGJhY2tfZm4gPSBudWxsKSB7XG5cdHZhciBhbmNob3IgPSBub2RlO1xuXG5cdC8qKiBAdHlwZSB7RWFjaFN0YXRlfSAqL1xuXHR2YXIgc3RhdGUgPSB7IGZsYWdzLCBpdGVtczogbmV3IE1hcCgpLCBmaXJzdDogbnVsbCB9O1xuXG5cdHZhciBpc19jb250cm9sbGVkID0gKGZsYWdzICYgRUFDSF9JU19DT05UUk9MTEVEKSAhPT0gMDtcblxuXHRpZiAoaXNfY29udHJvbGxlZCkge1xuXHRcdHZhciBwYXJlbnRfbm9kZSA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKG5vZGUpO1xuXG5cdFx0YW5jaG9yID0gaHlkcmF0aW5nXG5cdFx0XHQ/IHNldF9oeWRyYXRlX25vZGUoLyoqIEB0eXBlIHtDb21tZW50IHwgVGV4dH0gKi8gKGdldF9maXJzdF9jaGlsZChwYXJlbnRfbm9kZSkpKVxuXHRcdFx0OiBwYXJlbnRfbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVfdGV4dCgpKTtcblx0fVxuXG5cdGlmIChoeWRyYXRpbmcpIHtcblx0XHRoeWRyYXRlX25leHQoKTtcblx0fVxuXG5cdC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cblx0dmFyIGZhbGxiYWNrID0gbnVsbDtcblxuXHR2YXIgd2FzX2VtcHR5ID0gZmFsc2U7XG5cblx0LyoqIEB0eXBlIHtNYXA8YW55LCBFYWNoSXRlbT59ICovXG5cdHZhciBvZmZzY3JlZW5faXRlbXMgPSBuZXcgTWFwKCk7XG5cblx0Ly8gVE9ETzogaWRlYWxseSB3ZSBjb3VsZCB1c2UgZGVyaXZlZCBmb3IgcnVuZXMgbW9kZSBidXQgYmVjYXVzZSBvZiB0aGUgYWJpbGl0eVxuXHQvLyB0byB1c2UgYSBzdG9yZSB3aGljaCBjYW4gYmUgbXV0YXRlZCwgd2UgY2FuJ3QgZG8gdGhhdCBoZXJlIGFzIG11dGF0aW5nIGEgc3RvcmVcblx0Ly8gd2lsbCBzdGlsbCByZXN1bHQgaW4gdGhlIGNvbGxlY3Rpb24gYXJyYXkgYmVpbmcgdGhlIHNhbWUgZnJvbSB0aGUgc3RvcmVcblx0dmFyIGVhY2hfYXJyYXkgPSBkZXJpdmVkX3NhZmVfZXF1YWwoKCkgPT4ge1xuXHRcdHZhciBjb2xsZWN0aW9uID0gZ2V0X2NvbGxlY3Rpb24oKTtcblxuXHRcdHJldHVybiBpc19hcnJheShjb2xsZWN0aW9uKSA/IGNvbGxlY3Rpb24gOiBjb2xsZWN0aW9uID09IG51bGwgPyBbXSA6IGFycmF5X2Zyb20oY29sbGVjdGlvbik7XG5cdH0pO1xuXG5cdC8qKiBAdHlwZSB7VltdfSAqL1xuXHR2YXIgYXJyYXk7XG5cblx0LyoqIEB0eXBlIHtFZmZlY3R9ICovXG5cdHZhciBlYWNoX2VmZmVjdDtcblxuXHRmdW5jdGlvbiBjb21taXQoKSB7XG5cdFx0cmVjb25jaWxlKFxuXHRcdFx0ZWFjaF9lZmZlY3QsXG5cdFx0XHRhcnJheSxcblx0XHRcdHN0YXRlLFxuXHRcdFx0b2Zmc2NyZWVuX2l0ZW1zLFxuXHRcdFx0YW5jaG9yLFxuXHRcdFx0cmVuZGVyX2ZuLFxuXHRcdFx0ZmxhZ3MsXG5cdFx0XHRnZXRfa2V5LFxuXHRcdFx0Z2V0X2NvbGxlY3Rpb25cblx0XHQpO1xuXG5cdFx0aWYgKGZhbGxiYWNrX2ZuICE9PSBudWxsKSB7XG5cdFx0XHRpZiAoYXJyYXkubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdGlmIChmYWxsYmFjaykge1xuXHRcdFx0XHRcdHJlc3VtZV9lZmZlY3QoZmFsbGJhY2spO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZhbGxiYWNrID0gYnJhbmNoKCgpID0+IGZhbGxiYWNrX2ZuKGFuY2hvcikpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGZhbGxiYWNrICE9PSBudWxsKSB7XG5cdFx0XHRcdHBhdXNlX2VmZmVjdChmYWxsYmFjaywgKCkgPT4ge1xuXHRcdFx0XHRcdGZhbGxiYWNrID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YmxvY2soKCkgPT4ge1xuXHRcdC8vIHN0b3JlIGEgcmVmZXJlbmNlIHRvIHRoZSBlZmZlY3Qgc28gdGhhdCB3ZSBjYW4gdXBkYXRlIHRoZSBzdGFydC9lbmQgbm9kZXMgaW4gcmVjb25jaWxpYXRpb25cblx0XHRlYWNoX2VmZmVjdCA/Pz0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KTtcblxuXHRcdGFycmF5ID0gZ2V0KGVhY2hfYXJyYXkpO1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cblx0XHRpZiAod2FzX2VtcHR5ICYmIGxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Ly8gaWdub3JlIHVwZGF0ZXMgaWYgdGhlIGFycmF5IGlzIGVtcHR5LFxuXHRcdFx0Ly8gYW5kIGl0IGFscmVhZHkgd2FzIGVtcHR5IG9uIHByZXZpb3VzIHJ1blxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR3YXNfZW1wdHkgPSBsZW5ndGggPT09IDA7XG5cblx0XHQvKiogYHRydWVgIGlmIHRoZXJlIHdhcyBhIGh5ZHJhdGlvbiBtaXNtYXRjaC4gTmVlZHMgdG8gYmUgYSBgbGV0YCBvciBlbHNlIGl0IGlzbid0IHRyZWVzaGFrZW4gb3V0ICovXG5cdFx0bGV0IG1pc21hdGNoID0gZmFsc2U7XG5cblx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHR2YXIgaXNfZWxzZSA9IHJlYWRfaHlkcmF0aW9uX2luc3RydWN0aW9uKGFuY2hvcikgPT09IEhZRFJBVElPTl9TVEFSVF9FTFNFO1xuXG5cdFx0XHRpZiAoaXNfZWxzZSAhPT0gKGxlbmd0aCA9PT0gMCkpIHtcblx0XHRcdFx0Ly8gaHlkcmF0aW9uIG1pc21hdGNoIOKAlCByZW1vdmUgdGhlIHNlcnZlci1yZW5kZXJlZCBET00gYW5kIHN0YXJ0IG92ZXJcblx0XHRcdFx0YW5jaG9yID0gcmVtb3ZlX25vZGVzKCk7XG5cblx0XHRcdFx0c2V0X2h5ZHJhdGVfbm9kZShhbmNob3IpO1xuXHRcdFx0XHRzZXRfaHlkcmF0aW5nKGZhbHNlKTtcblx0XHRcdFx0bWlzbWF0Y2ggPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIHRoaXMgaXMgc2VwYXJhdGUgdG8gdGhlIHByZXZpb3VzIGJsb2NrIGJlY2F1c2UgYGh5ZHJhdGluZ2AgbWlnaHQgY2hhbmdlXG5cdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0LyoqIEB0eXBlIHtFYWNoSXRlbSB8IG51bGx9ICovXG5cdFx0XHR2YXIgcHJldiA9IG51bGw7XG5cblx0XHRcdC8qKiBAdHlwZSB7RWFjaEl0ZW19ICovXG5cdFx0XHR2YXIgaXRlbTtcblxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0aHlkcmF0ZV9ub2RlLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUgJiZcblx0XHRcdFx0XHQvKiogQHR5cGUge0NvbW1lbnR9ICovIChoeWRyYXRlX25vZGUpLmRhdGEgPT09IEhZRFJBVElPTl9FTkRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Ly8gVGhlIHNlcnZlciByZW5kZXJlZCBmZXdlciBpdGVtcyB0aGFuIGV4cGVjdGVkLFxuXHRcdFx0XHRcdC8vIHNvIGJyZWFrIG91dCBhbmQgY29udGludWUgYXBwZW5kaW5nIG5vbi1oeWRyYXRlZCBpdGVtc1xuXHRcdFx0XHRcdGFuY2hvciA9IC8qKiBAdHlwZSB7Q29tbWVudH0gKi8gKGh5ZHJhdGVfbm9kZSk7XG5cdFx0XHRcdFx0bWlzbWF0Y2ggPSB0cnVlO1xuXHRcdFx0XHRcdHNldF9oeWRyYXRpbmcoZmFsc2UpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHZhbHVlID0gYXJyYXlbaV07XG5cdFx0XHRcdHZhciBrZXkgPSBnZXRfa2V5KHZhbHVlLCBpKTtcblx0XHRcdFx0aXRlbSA9IGNyZWF0ZV9pdGVtKFxuXHRcdFx0XHRcdGh5ZHJhdGVfbm9kZSxcblx0XHRcdFx0XHRzdGF0ZSxcblx0XHRcdFx0XHRwcmV2LFxuXHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0dmFsdWUsXG5cdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdGksXG5cdFx0XHRcdFx0cmVuZGVyX2ZuLFxuXHRcdFx0XHRcdGZsYWdzLFxuXHRcdFx0XHRcdGdldF9jb2xsZWN0aW9uXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHN0YXRlLml0ZW1zLnNldChrZXksIGl0ZW0pO1xuXG5cdFx0XHRcdHByZXYgPSBpdGVtO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyByZW1vdmUgZXhjZXNzIG5vZGVzXG5cdFx0XHRpZiAobGVuZ3RoID4gMCkge1xuXHRcdFx0XHRzZXRfaHlkcmF0ZV9ub2RlKHJlbW92ZV9ub2RlcygpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHRpZiAobGVuZ3RoID09PSAwICYmIGZhbGxiYWNrX2ZuKSB7XG5cdFx0XHRcdGZhbGxiYWNrID0gYnJhbmNoKCgpID0+IGZhbGxiYWNrX2ZuKGFuY2hvcikpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoc2hvdWxkX2RlZmVyX2FwcGVuZCgpKSB7XG5cdFx0XHRcdHZhciBrZXlzID0gbmV3IFNldCgpO1xuXHRcdFx0XHR2YXIgYmF0Y2ggPSAvKiogQHR5cGUge0JhdGNofSAqLyAoY3VycmVudF9iYXRjaCk7XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBhcnJheVtpXTtcblx0XHRcdFx0XHRrZXkgPSBnZXRfa2V5KHZhbHVlLCBpKTtcblxuXHRcdFx0XHRcdHZhciBleGlzdGluZyA9IHN0YXRlLml0ZW1zLmdldChrZXkpID8/IG9mZnNjcmVlbl9pdGVtcy5nZXQoa2V5KTtcblxuXHRcdFx0XHRcdGlmIChleGlzdGluZykge1xuXHRcdFx0XHRcdFx0Ly8gdXBkYXRlIGJlZm9yZSByZWNvbmNpbGlhdGlvbiwgdG8gdHJpZ2dlciBhbnkgYXN5bmMgdXBkYXRlc1xuXHRcdFx0XHRcdFx0aWYgKChmbGFncyAmIChFQUNIX0lURU1fUkVBQ1RJVkUgfCBFQUNIX0lOREVYX1JFQUNUSVZFKSkgIT09IDApIHtcblx0XHRcdFx0XHRcdFx0dXBkYXRlX2l0ZW0oZXhpc3RpbmcsIHZhbHVlLCBpLCBmbGFncyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGl0ZW0gPSBjcmVhdGVfaXRlbShcblx0XHRcdFx0XHRcdFx0bnVsbCxcblx0XHRcdFx0XHRcdFx0c3RhdGUsXG5cdFx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0XHRcdHZhbHVlLFxuXHRcdFx0XHRcdFx0XHRrZXksXG5cdFx0XHRcdFx0XHRcdGksXG5cdFx0XHRcdFx0XHRcdHJlbmRlcl9mbixcblx0XHRcdFx0XHRcdFx0ZmxhZ3MsXG5cdFx0XHRcdFx0XHRcdGdldF9jb2xsZWN0aW9uLFxuXHRcdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRvZmZzY3JlZW5faXRlbXMuc2V0KGtleSwgaXRlbSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0a2V5cy5hZGQoa2V5KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAoY29uc3QgW2tleSwgaXRlbV0gb2Ygc3RhdGUuaXRlbXMpIHtcblx0XHRcdFx0XHRpZiAoIWtleXMuaGFzKGtleSkpIHtcblx0XHRcdFx0XHRcdGJhdGNoLnNraXBwZWRfZWZmZWN0cy5hZGQoaXRlbS5lKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXRjaC5hZGRfY2FsbGJhY2soY29tbWl0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbW1pdCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChtaXNtYXRjaCkge1xuXHRcdFx0Ly8gY29udGludWUgaW4gaHlkcmF0aW9uIG1vZGVcblx0XHRcdHNldF9oeWRyYXRpbmcodHJ1ZSk7XG5cdFx0fVxuXG5cdFx0Ly8gV2hlbiB3ZSBtb3VudCB0aGUgZWFjaCBibG9jayBmb3IgdGhlIGZpcnN0IHRpbWUsIHRoZSBjb2xsZWN0aW9uIHdvbid0IGJlXG5cdFx0Ly8gY29ubmVjdGVkIHRvIHRoaXMgZWZmZWN0IGFzIHRoZSBlZmZlY3QgaGFzbid0IGZpbmlzaGVkIHJ1bm5pbmcgeWV0IGFuZCBpdHMgZGVwc1xuXHRcdC8vIHdvbid0IGJlIGFzc2lnbmVkLiBIb3dldmVyLCBpdCdzIHBvc3NpYmxlIHRoYXQgd2hlbiByZWNvbmNpbGluZyB0aGUgZWFjaCBibG9ja1xuXHRcdC8vIHRoYXQgYSBtdXRhdGlvbiBvY2N1cnJlZCBhbmQgaXQncyBtYWRlIHRoZSBjb2xsZWN0aW9uIE1BWUJFX0RJUlRZLCBzbyByZWFkaW5nIHRoZVxuXHRcdC8vIGNvbGxlY3Rpb24gYWdhaW4gY2FuIHByb3ZpZGUgY29uc2lzdGVuY3kgdG8gdGhlIHJlYWN0aXZlIGdyYXBoIGFnYWluIGFzIHRoZSBkZXJpdmVkc1xuXHRcdC8vIHdpbGwgbm93IGJlIGBDTEVBTmAuXG5cdFx0Z2V0KGVhY2hfYXJyYXkpO1xuXHR9KTtcblxuXHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0YW5jaG9yID0gaHlkcmF0ZV9ub2RlO1xuXHR9XG59XG5cbi8qKlxuICogQWRkLCByZW1vdmUsIG9yIHJlb3JkZXIgaXRlbXMgb3V0cHV0IGJ5IGFuIGVhY2ggYmxvY2sgYXMgaXRzIGlucHV0IGNoYW5nZXNcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWFjaF9lZmZlY3RcbiAqIEBwYXJhbSB7QXJyYXk8Vj59IGFycmF5XG4gKiBAcGFyYW0ge0VhY2hTdGF0ZX0gc3RhdGVcbiAqIEBwYXJhbSB7TWFwPGFueSwgRWFjaEl0ZW0+fSBvZmZzY3JlZW5faXRlbXNcbiAqIEBwYXJhbSB7RWxlbWVudCB8IENvbW1lbnQgfCBUZXh0fSBhbmNob3JcbiAqIEBwYXJhbSB7KGFuY2hvcjogTm9kZSwgaXRlbTogTWF5YmVTb3VyY2U8Vj4sIGluZGV4OiBudW1iZXIgfCBTb3VyY2U8bnVtYmVyPiwgY29sbGVjdGlvbjogKCkgPT4gVltdKSA9PiB2b2lkfSByZW5kZXJfZm5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICogQHBhcmFtIHsodmFsdWU6IFYsIGluZGV4OiBudW1iZXIpID0+IGFueX0gZ2V0X2tleVxuICogQHBhcmFtIHsoKSA9PiBWW119IGdldF9jb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gcmVjb25jaWxlKFxuXHRlYWNoX2VmZmVjdCxcblx0YXJyYXksXG5cdHN0YXRlLFxuXHRvZmZzY3JlZW5faXRlbXMsXG5cdGFuY2hvcixcblx0cmVuZGVyX2ZuLFxuXHRmbGFncyxcblx0Z2V0X2tleSxcblx0Z2V0X2NvbGxlY3Rpb25cbikge1xuXHR2YXIgaXNfYW5pbWF0ZWQgPSAoZmxhZ3MgJiBFQUNIX0lTX0FOSU1BVEVEKSAhPT0gMDtcblx0dmFyIHNob3VsZF91cGRhdGUgPSAoZmxhZ3MgJiAoRUFDSF9JVEVNX1JFQUNUSVZFIHwgRUFDSF9JTkRFWF9SRUFDVElWRSkpICE9PSAwO1xuXG5cdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdHZhciBpdGVtcyA9IHN0YXRlLml0ZW1zO1xuXHR2YXIgZmlyc3QgPSBzdGF0ZS5maXJzdDtcblx0dmFyIGN1cnJlbnQgPSBmaXJzdDtcblxuXHQvKiogQHR5cGUge3VuZGVmaW5lZCB8IFNldDxFYWNoSXRlbT59ICovXG5cdHZhciBzZWVuO1xuXG5cdC8qKiBAdHlwZSB7RWFjaEl0ZW0gfCBudWxsfSAqL1xuXHR2YXIgcHJldiA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHt1bmRlZmluZWQgfCBTZXQ8RWFjaEl0ZW0+fSAqL1xuXHR2YXIgdG9fYW5pbWF0ZTtcblxuXHQvKiogQHR5cGUge0VhY2hJdGVtW119ICovXG5cdHZhciBtYXRjaGVkID0gW107XG5cblx0LyoqIEB0eXBlIHtFYWNoSXRlbVtdfSAqL1xuXHR2YXIgc3Rhc2hlZCA9IFtdO1xuXG5cdC8qKiBAdHlwZSB7Vn0gKi9cblx0dmFyIHZhbHVlO1xuXG5cdC8qKiBAdHlwZSB7YW55fSAqL1xuXHR2YXIga2V5O1xuXG5cdC8qKiBAdHlwZSB7RWFjaEl0ZW0gfCB1bmRlZmluZWR9ICovXG5cdHZhciBpdGVtO1xuXG5cdC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuXHR2YXIgaTtcblxuXHRpZiAoaXNfYW5pbWF0ZWQpIHtcblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdHZhbHVlID0gYXJyYXlbaV07XG5cdFx0XHRrZXkgPSBnZXRfa2V5KHZhbHVlLCBpKTtcblx0XHRcdGl0ZW0gPSBpdGVtcy5nZXQoa2V5KTtcblxuXHRcdFx0aWYgKGl0ZW0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRpdGVtLmE/Lm1lYXN1cmUoKTtcblx0XHRcdFx0KHRvX2FuaW1hdGUgPz89IG5ldyBTZXQoKSkuYWRkKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuXHRcdHZhbHVlID0gYXJyYXlbaV07XG5cdFx0a2V5ID0gZ2V0X2tleSh2YWx1ZSwgaSk7XG5cblx0XHRpdGVtID0gaXRlbXMuZ2V0KGtleSk7XG5cblx0XHRpZiAoaXRlbSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR2YXIgcGVuZGluZyA9IG9mZnNjcmVlbl9pdGVtcy5nZXQoa2V5KTtcblxuXHRcdFx0aWYgKHBlbmRpbmcgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRvZmZzY3JlZW5faXRlbXMuZGVsZXRlKGtleSk7XG5cdFx0XHRcdGl0ZW1zLnNldChrZXksIHBlbmRpbmcpO1xuXG5cdFx0XHRcdHZhciBuZXh0ID0gcHJldiA/IHByZXYubmV4dCA6IGN1cnJlbnQ7XG5cblx0XHRcdFx0bGluayhzdGF0ZSwgcHJldiwgcGVuZGluZyk7XG5cdFx0XHRcdGxpbmsoc3RhdGUsIHBlbmRpbmcsIG5leHQpO1xuXG5cdFx0XHRcdG1vdmUocGVuZGluZywgbmV4dCwgYW5jaG9yKTtcblx0XHRcdFx0cHJldiA9IHBlbmRpbmc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgY2hpbGRfYW5jaG9yID0gY3VycmVudCA/IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoY3VycmVudC5lLm5vZGVzX3N0YXJ0KSA6IGFuY2hvcjtcblxuXHRcdFx0XHRwcmV2ID0gY3JlYXRlX2l0ZW0oXG5cdFx0XHRcdFx0Y2hpbGRfYW5jaG9yLFxuXHRcdFx0XHRcdHN0YXRlLFxuXHRcdFx0XHRcdHByZXYsXG5cdFx0XHRcdFx0cHJldiA9PT0gbnVsbCA/IHN0YXRlLmZpcnN0IDogcHJldi5uZXh0LFxuXHRcdFx0XHRcdHZhbHVlLFxuXHRcdFx0XHRcdGtleSxcblx0XHRcdFx0XHRpLFxuXHRcdFx0XHRcdHJlbmRlcl9mbixcblx0XHRcdFx0XHRmbGFncyxcblx0XHRcdFx0XHRnZXRfY29sbGVjdGlvblxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpdGVtcy5zZXQoa2V5LCBwcmV2KTtcblxuXHRcdFx0bWF0Y2hlZCA9IFtdO1xuXHRcdFx0c3Rhc2hlZCA9IFtdO1xuXG5cdFx0XHRjdXJyZW50ID0gcHJldi5uZXh0O1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKHNob3VsZF91cGRhdGUpIHtcblx0XHRcdHVwZGF0ZV9pdGVtKGl0ZW0sIHZhbHVlLCBpLCBmbGFncyk7XG5cdFx0fVxuXG5cdFx0aWYgKChpdGVtLmUuZiAmIElORVJUKSAhPT0gMCkge1xuXHRcdFx0cmVzdW1lX2VmZmVjdChpdGVtLmUpO1xuXHRcdFx0aWYgKGlzX2FuaW1hdGVkKSB7XG5cdFx0XHRcdGl0ZW0uYT8udW5maXgoKTtcblx0XHRcdFx0KHRvX2FuaW1hdGUgPz89IG5ldyBTZXQoKSkuZGVsZXRlKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpdGVtICE9PSBjdXJyZW50KSB7XG5cdFx0XHRpZiAoc2VlbiAhPT0gdW5kZWZpbmVkICYmIHNlZW4uaGFzKGl0ZW0pKSB7XG5cdFx0XHRcdGlmIChtYXRjaGVkLmxlbmd0aCA8IHN0YXNoZWQubGVuZ3RoKSB7XG5cdFx0XHRcdFx0Ly8gbW9yZSBlZmZpY2llbnQgdG8gbW92ZSBsYXRlciBpdGVtcyB0byB0aGUgZnJvbnRcblx0XHRcdFx0XHR2YXIgc3RhcnQgPSBzdGFzaGVkWzBdO1xuXHRcdFx0XHRcdHZhciBqO1xuXG5cdFx0XHRcdFx0cHJldiA9IHN0YXJ0LnByZXY7XG5cblx0XHRcdFx0XHR2YXIgYSA9IG1hdGNoZWRbMF07XG5cdFx0XHRcdFx0dmFyIGIgPSBtYXRjaGVkW21hdGNoZWQubGVuZ3RoIC0gMV07XG5cblx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbWF0Y2hlZC5sZW5ndGg7IGogKz0gMSkge1xuXHRcdFx0XHRcdFx0bW92ZShtYXRjaGVkW2pdLCBzdGFydCwgYW5jaG9yKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgc3Rhc2hlZC5sZW5ndGg7IGogKz0gMSkge1xuXHRcdFx0XHRcdFx0c2Vlbi5kZWxldGUoc3Rhc2hlZFtqXSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bGluayhzdGF0ZSwgYS5wcmV2LCBiLm5leHQpO1xuXHRcdFx0XHRcdGxpbmsoc3RhdGUsIHByZXYsIGEpO1xuXHRcdFx0XHRcdGxpbmsoc3RhdGUsIGIsIHN0YXJ0KTtcblxuXHRcdFx0XHRcdGN1cnJlbnQgPSBzdGFydDtcblx0XHRcdFx0XHRwcmV2ID0gYjtcblx0XHRcdFx0XHRpIC09IDE7XG5cblx0XHRcdFx0XHRtYXRjaGVkID0gW107XG5cdFx0XHRcdFx0c3Rhc2hlZCA9IFtdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIG1vcmUgZWZmaWNpZW50IHRvIG1vdmUgZWFybGllciBpdGVtcyB0byB0aGUgYmFja1xuXHRcdFx0XHRcdHNlZW4uZGVsZXRlKGl0ZW0pO1xuXHRcdFx0XHRcdG1vdmUoaXRlbSwgY3VycmVudCwgYW5jaG9yKTtcblxuXHRcdFx0XHRcdGxpbmsoc3RhdGUsIGl0ZW0ucHJldiwgaXRlbS5uZXh0KTtcblx0XHRcdFx0XHRsaW5rKHN0YXRlLCBpdGVtLCBwcmV2ID09PSBudWxsID8gc3RhdGUuZmlyc3QgOiBwcmV2Lm5leHQpO1xuXHRcdFx0XHRcdGxpbmsoc3RhdGUsIHByZXYsIGl0ZW0pO1xuXG5cdFx0XHRcdFx0cHJldiA9IGl0ZW07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bWF0Y2hlZCA9IFtdO1xuXHRcdFx0c3Rhc2hlZCA9IFtdO1xuXG5cdFx0XHR3aGlsZSAoY3VycmVudCAhPT0gbnVsbCAmJiBjdXJyZW50LmsgIT09IGtleSkge1xuXHRcdFx0XHQvLyBJZiB0aGUgZWFjaCBibG9jayBpc24ndCBpbmVydCBhbmQgYW4gaXRlbSBoYXMgYW4gZWZmZWN0IHRoYXQgaXMgYWxyZWFkeSBpbmVydCxcblx0XHRcdFx0Ly8gc2tpcCBvdmVyIGFkZGluZyBpdCB0byBvdXIgc2VlbiBTZXQgYXMgdGhlIGl0ZW0gaXMgYWxyZWFkeSBiZWluZyBoYW5kbGVkXG5cdFx0XHRcdGlmICgoY3VycmVudC5lLmYgJiBJTkVSVCkgPT09IDApIHtcblx0XHRcdFx0XHQoc2VlbiA/Pz0gbmV3IFNldCgpKS5hZGQoY3VycmVudCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3Rhc2hlZC5wdXNoKGN1cnJlbnQpO1xuXHRcdFx0XHRjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aXRlbSA9IGN1cnJlbnQ7XG5cdFx0fVxuXG5cdFx0bWF0Y2hlZC5wdXNoKGl0ZW0pO1xuXHRcdHByZXYgPSBpdGVtO1xuXHRcdGN1cnJlbnQgPSBpdGVtLm5leHQ7XG5cdH1cblxuXHRpZiAoY3VycmVudCAhPT0gbnVsbCB8fCBzZWVuICE9PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgdG9fZGVzdHJveSA9IHNlZW4gPT09IHVuZGVmaW5lZCA/IFtdIDogYXJyYXlfZnJvbShzZWVuKTtcblxuXHRcdHdoaWxlIChjdXJyZW50ICE9PSBudWxsKSB7XG5cdFx0XHQvLyBJZiB0aGUgZWFjaCBibG9jayBpc24ndCBpbmVydCwgdGhlbiBpbmVydCBlZmZlY3RzIGFyZSBjdXJyZW50bHkgb3V0cm9pbmcgYW5kIHdpbGwgYmUgcmVtb3ZlZCBvbmNlIHRoZSB0cmFuc2l0aW9uIGlzIGZpbmlzaGVkXG5cdFx0XHRpZiAoKGN1cnJlbnQuZS5mICYgSU5FUlQpID09PSAwKSB7XG5cdFx0XHRcdHRvX2Rlc3Ryb3kucHVzaChjdXJyZW50KTtcblx0XHRcdH1cblx0XHRcdGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG5cdFx0fVxuXG5cdFx0dmFyIGRlc3Ryb3lfbGVuZ3RoID0gdG9fZGVzdHJveS5sZW5ndGg7XG5cblx0XHRpZiAoZGVzdHJveV9sZW5ndGggPiAwKSB7XG5cdFx0XHR2YXIgY29udHJvbGxlZF9hbmNob3IgPSAoZmxhZ3MgJiBFQUNIX0lTX0NPTlRST0xMRUQpICE9PSAwICYmIGxlbmd0aCA9PT0gMCA/IGFuY2hvciA6IG51bGw7XG5cblx0XHRcdGlmIChpc19hbmltYXRlZCkge1xuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGVzdHJveV9sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdHRvX2Rlc3Ryb3lbaV0uYT8ubWVhc3VyZSgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGRlc3Ryb3lfbGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHR0b19kZXN0cm95W2ldLmE/LmZpeCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHBhdXNlX2VmZmVjdHMoc3RhdGUsIHRvX2Rlc3Ryb3ksIGNvbnRyb2xsZWRfYW5jaG9yKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoaXNfYW5pbWF0ZWQpIHtcblx0XHRxdWV1ZV9taWNyb190YXNrKCgpID0+IHtcblx0XHRcdGlmICh0b19hbmltYXRlID09PSB1bmRlZmluZWQpIHJldHVybjtcblx0XHRcdGZvciAoaXRlbSBvZiB0b19hbmltYXRlKSB7XG5cdFx0XHRcdGl0ZW0uYT8uYXBwbHkoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGVhY2hfZWZmZWN0LmZpcnN0ID0gc3RhdGUuZmlyc3QgJiYgc3RhdGUuZmlyc3QuZTtcblx0ZWFjaF9lZmZlY3QubGFzdCA9IHByZXYgJiYgcHJldi5lO1xuXG5cdGZvciAodmFyIHVudXNlZCBvZiBvZmZzY3JlZW5faXRlbXMudmFsdWVzKCkpIHtcblx0XHRkZXN0cm95X2VmZmVjdCh1bnVzZWQuZSk7XG5cdH1cblxuXHRvZmZzY3JlZW5faXRlbXMuY2xlYXIoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VhY2hJdGVtfSBpdGVtXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IHR5cGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB1cGRhdGVfaXRlbShpdGVtLCB2YWx1ZSwgaW5kZXgsIHR5cGUpIHtcblx0aWYgKCh0eXBlICYgRUFDSF9JVEVNX1JFQUNUSVZFKSAhPT0gMCkge1xuXHRcdGludGVybmFsX3NldChpdGVtLnYsIHZhbHVlKTtcblx0fVxuXG5cdGlmICgodHlwZSAmIEVBQ0hfSU5ERVhfUkVBQ1RJVkUpICE9PSAwKSB7XG5cdFx0aW50ZXJuYWxfc2V0KC8qKiBAdHlwZSB7VmFsdWU8bnVtYmVyPn0gKi8gKGl0ZW0uaSksIGluZGV4KTtcblx0fSBlbHNlIHtcblx0XHRpdGVtLmkgPSBpbmRleDtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge05vZGUgfCBudWxsfSBhbmNob3JcbiAqIEBwYXJhbSB7RWFjaFN0YXRlfSBzdGF0ZVxuICogQHBhcmFtIHtFYWNoSXRlbSB8IG51bGx9IHByZXZcbiAqIEBwYXJhbSB7RWFjaEl0ZW0gfCBudWxsfSBuZXh0XG4gKiBAcGFyYW0ge1Z9IHZhbHVlXG4gKiBAcGFyYW0ge3Vua25vd259IGtleVxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcGFyYW0geyhhbmNob3I6IE5vZGUsIGl0ZW06IFYgfCBTb3VyY2U8Vj4sIGluZGV4OiBudW1iZXIgfCBWYWx1ZTxudW1iZXI+LCBjb2xsZWN0aW9uOiAoKSA9PiBWW10pID0+IHZvaWR9IHJlbmRlcl9mblxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcGFyYW0geygpID0+IFZbXX0gZ2V0X2NvbGxlY3Rpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZmVycmVkXVxuICogQHJldHVybnMge0VhY2hJdGVtfVxuICovXG5mdW5jdGlvbiBjcmVhdGVfaXRlbShcblx0YW5jaG9yLFxuXHRzdGF0ZSxcblx0cHJldixcblx0bmV4dCxcblx0dmFsdWUsXG5cdGtleSxcblx0aW5kZXgsXG5cdHJlbmRlcl9mbixcblx0ZmxhZ3MsXG5cdGdldF9jb2xsZWN0aW9uLFxuXHRkZWZlcnJlZFxuKSB7XG5cdHZhciBwcmV2aW91c19lYWNoX2l0ZW0gPSBjdXJyZW50X2VhY2hfaXRlbTtcblx0dmFyIHJlYWN0aXZlID0gKGZsYWdzICYgRUFDSF9JVEVNX1JFQUNUSVZFKSAhPT0gMDtcblx0dmFyIG11dGFibGUgPSAoZmxhZ3MgJiBFQUNIX0lURU1fSU1NVVRBQkxFKSA9PT0gMDtcblxuXHR2YXIgdiA9IHJlYWN0aXZlID8gKG11dGFibGUgPyBtdXRhYmxlX3NvdXJjZSh2YWx1ZSwgZmFsc2UsIGZhbHNlKSA6IHNvdXJjZSh2YWx1ZSkpIDogdmFsdWU7XG5cdHZhciBpID0gKGZsYWdzICYgRUFDSF9JTkRFWF9SRUFDVElWRSkgPT09IDAgPyBpbmRleCA6IHNvdXJjZShpbmRleCk7XG5cblx0aWYgKERFViAmJiByZWFjdGl2ZSkge1xuXHRcdC8vIEZvciB0cmFjaW5nIHB1cnBvc2VzLCB3ZSBuZWVkIHRvIGxpbmsgdGhlIHNvdXJjZSBzaWduYWwgd2UgY3JlYXRlIHdpdGggdGhlXG5cdFx0Ly8gY29sbGVjdGlvbiArIGluZGV4IHNvIHRoYXQgdHJhY2luZyB3b3JrcyBhcyBpbnRlbmRlZFxuXHRcdC8qKiBAdHlwZSB7VmFsdWV9ICovICh2KS50cmFjZSA9ICgpID0+IHtcblx0XHRcdHZhciBjb2xsZWN0aW9uX2luZGV4ID0gdHlwZW9mIGkgPT09ICdudW1iZXInID8gaW5kZXggOiBpLnY7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC1leHByZXNzaW9uc1xuXHRcdFx0Z2V0X2NvbGxlY3Rpb24oKVtjb2xsZWN0aW9uX2luZGV4XTtcblx0XHR9O1xuXHR9XG5cblx0LyoqIEB0eXBlIHtFYWNoSXRlbX0gKi9cblx0dmFyIGl0ZW0gPSB7XG5cdFx0aSxcblx0XHR2LFxuXHRcdGs6IGtleSxcblx0XHRhOiBudWxsLFxuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlOiBudWxsLFxuXHRcdHByZXYsXG5cdFx0bmV4dFxuXHR9O1xuXG5cdGN1cnJlbnRfZWFjaF9pdGVtID0gaXRlbTtcblxuXHR0cnkge1xuXHRcdGlmIChhbmNob3IgPT09IG51bGwpIHtcblx0XHRcdHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0XHRcdGZyYWdtZW50LmFwcGVuZCgoYW5jaG9yID0gY3JlYXRlX3RleHQoKSkpO1xuXHRcdH1cblxuXHRcdGl0ZW0uZSA9IGJyYW5jaCgoKSA9PiByZW5kZXJfZm4oLyoqIEB0eXBlIHtOb2RlfSAqLyAoYW5jaG9yKSwgdiwgaSwgZ2V0X2NvbGxlY3Rpb24pLCBoeWRyYXRpbmcpO1xuXG5cdFx0aXRlbS5lLnByZXYgPSBwcmV2ICYmIHByZXYuZTtcblx0XHRpdGVtLmUubmV4dCA9IG5leHQgJiYgbmV4dC5lO1xuXG5cdFx0aWYgKHByZXYgPT09IG51bGwpIHtcblx0XHRcdGlmICghZGVmZXJyZWQpIHtcblx0XHRcdFx0c3RhdGUuZmlyc3QgPSBpdGVtO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRwcmV2Lm5leHQgPSBpdGVtO1xuXHRcdFx0cHJldi5lLm5leHQgPSBpdGVtLmU7XG5cdFx0fVxuXG5cdFx0aWYgKG5leHQgIT09IG51bGwpIHtcblx0XHRcdG5leHQucHJldiA9IGl0ZW07XG5cdFx0XHRuZXh0LmUucHJldiA9IGl0ZW0uZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaXRlbTtcblx0fSBmaW5hbGx5IHtcblx0XHRjdXJyZW50X2VhY2hfaXRlbSA9IHByZXZpb3VzX2VhY2hfaXRlbTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWFjaEl0ZW19IGl0ZW1cbiAqIEBwYXJhbSB7RWFjaEl0ZW0gfCBudWxsfSBuZXh0XG4gKiBAcGFyYW0ge1RleHQgfCBFbGVtZW50IHwgQ29tbWVudH0gYW5jaG9yXG4gKi9cbmZ1bmN0aW9uIG1vdmUoaXRlbSwgbmV4dCwgYW5jaG9yKSB7XG5cdHZhciBlbmQgPSBpdGVtLm5leHQgPyAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGl0ZW0ubmV4dC5lLm5vZGVzX3N0YXJ0KSA6IGFuY2hvcjtcblxuXHR2YXIgZGVzdCA9IG5leHQgPyAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKG5leHQuZS5ub2Rlc19zdGFydCkgOiBhbmNob3I7XG5cdHZhciBub2RlID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChpdGVtLmUubm9kZXNfc3RhcnQpO1xuXG5cdHdoaWxlIChub2RlICE9PSBudWxsICYmIG5vZGUgIT09IGVuZCkge1xuXHRcdHZhciBuZXh0X25vZGUgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9uZXh0X3NpYmxpbmcobm9kZSkpO1xuXHRcdGRlc3QuYmVmb3JlKG5vZGUpO1xuXHRcdG5vZGUgPSBuZXh0X25vZGU7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VhY2hTdGF0ZX0gc3RhdGVcbiAqIEBwYXJhbSB7RWFjaEl0ZW0gfCBudWxsfSBwcmV2XG4gKiBAcGFyYW0ge0VhY2hJdGVtIHwgbnVsbH0gbmV4dFxuICovXG5mdW5jdGlvbiBsaW5rKHN0YXRlLCBwcmV2LCBuZXh0KSB7XG5cdGlmIChwcmV2ID09PSBudWxsKSB7XG5cdFx0c3RhdGUuZmlyc3QgPSBuZXh0O1xuXHR9IGVsc2Uge1xuXHRcdHByZXYubmV4dCA9IG5leHQ7XG5cdFx0cHJldi5lLm5leHQgPSBuZXh0ICYmIG5leHQuZTtcblx0fVxuXG5cdGlmIChuZXh0ICE9PSBudWxsKSB7XG5cdFx0bmV4dC5wcmV2ID0gcHJldjtcblx0XHRuZXh0LmUucHJldiA9IHByZXYgJiYgcHJldi5lO1xuXHR9XG59XG4iLCIvKiogQGltcG9ydCB7IEFjdGlvblBheWxvYWQgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgZWZmZWN0LCByZW5kZXJfZWZmZWN0IH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IHNhZmVfbm90X2VxdWFsIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lcXVhbGl0eS5qcyc7XG5pbXBvcnQgeyBkZWVwX3JlYWRfc3RhdGUsIHVudHJhY2sgfSBmcm9tICcuLi8uLi9ydW50aW1lLmpzJztcblxuLyoqXG4gKiBAdGVtcGxhdGUgUFxuICogQHBhcmFtIHtFbGVtZW50fSBkb21cbiAqIEBwYXJhbSB7KGRvbTogRWxlbWVudCwgdmFsdWU/OiBQKSA9PiBBY3Rpb25QYXlsb2FkPFA+fSBhY3Rpb25cbiAqIEBwYXJhbSB7KCkgPT4gUH0gW2dldF92YWx1ZV1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWN0aW9uKGRvbSwgYWN0aW9uLCBnZXRfdmFsdWUpIHtcblx0ZWZmZWN0KCgpID0+IHtcblx0XHR2YXIgcGF5bG9hZCA9IHVudHJhY2soKCkgPT4gYWN0aW9uKGRvbSwgZ2V0X3ZhbHVlPy4oKSkgfHwge30pO1xuXG5cdFx0aWYgKGdldF92YWx1ZSAmJiBwYXlsb2FkPy51cGRhdGUpIHtcblx0XHRcdHZhciBpbml0ZWQgPSBmYWxzZTtcblx0XHRcdC8qKiBAdHlwZSB7UH0gKi9cblx0XHRcdHZhciBwcmV2ID0gLyoqIEB0eXBlIHthbnl9ICovICh7fSk7IC8vIGluaXRpYWxpemUgd2l0aCBzb21ldGhpbmcgc28gaXQncyBuZXZlciBlcXVhbCBvbiBmaXJzdCBydW5cblxuXHRcdFx0cmVuZGVyX2VmZmVjdCgoKSA9PiB7XG5cdFx0XHRcdHZhciB2YWx1ZSA9IGdldF92YWx1ZSgpO1xuXG5cdFx0XHRcdC8vIEFjdGlvbidzIHVwZGF0ZSBtZXRob2QgaXMgY29hcnNlLWdyYWluZWQsIGkuZS4gd2hlbiBhbnl0aGluZyBpbiB0aGUgcGFzc2VkIHZhbHVlIGNoYW5nZXMsIHVwZGF0ZS5cblx0XHRcdFx0Ly8gVGhpcyB3b3JrcyBpbiBsZWdhY3kgbW9kZSBiZWNhdXNlIG9mIG11dGFibGVfc291cmNlIGJlaW5nIHVwZGF0ZWQgYXMgYSB3aG9sZSwgYnV0IHdoZW4gdXNpbmcgJHN0YXRlXG5cdFx0XHRcdC8vIHRvZ2V0aGVyIHdpdGggYWN0aW9ucyBhbmQgbXV0YXRpb24sIGl0IHdvdWxkbid0IG5vdGljZSB0aGUgY2hhbmdlIHdpdGhvdXQgYSBkZWVwIHJlYWQuXG5cdFx0XHRcdGRlZXBfcmVhZF9zdGF0ZSh2YWx1ZSk7XG5cblx0XHRcdFx0aWYgKGluaXRlZCAmJiBzYWZlX25vdF9lcXVhbChwcmV2LCB2YWx1ZSkpIHtcblx0XHRcdFx0XHRwcmV2ID0gdmFsdWU7XG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtGdW5jdGlvbn0gKi8gKHBheWxvYWQudXBkYXRlKSh2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRpbml0ZWQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmIChwYXlsb2FkPy5kZXN0cm95KSB7XG5cdFx0XHRyZXR1cm4gKCkgPT4gLyoqIEB0eXBlIHtGdW5jdGlvbn0gKi8gKHBheWxvYWQuZGVzdHJveSkoKTtcblx0XHR9XG5cdH0pO1xufVxuIiwiaW1wb3J0IHsgZXNjYXBlX2h0bWwgfSBmcm9tICcuLi8uLi9lc2NhcGluZy5qcyc7XG5pbXBvcnQgeyBjbHN4IGFzIF9jbHN4IH0gZnJvbSAnY2xzeCc7XG5cbi8qKlxuICogYDxkaXYgdHJhbnNsYXRlPXtmYWxzZX0+YCBzaG91bGQgYmUgcmVuZGVyZWQgYXMgYDxkaXYgdHJhbnNsYXRlPVwibm9cIj5gIGFuZCBfbm90X1xuICogYDxkaXYgdHJhbnNsYXRlPVwiZmFsc2VcIj5gLCB3aGljaCBpcyBlcXVpdmFsZW50IHRvIGA8ZGl2IHRyYW5zbGF0ZT1cInllc1wiPmAuIFRoZXJlXG4gKiBtYXkgYmUgb3RoZXIgb2RkIGNhc2VzIHRoYXQgbmVlZCB0byBiZSBhZGRlZCB0byB0aGlzIGxpc3QgaW4gZnV0dXJlXG4gKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgTWFwPGFueSwgc3RyaW5nPj59XG4gKi9cbmNvbnN0IHJlcGxhY2VtZW50cyA9IHtcblx0dHJhbnNsYXRlOiBuZXcgTWFwKFtcblx0XHRbdHJ1ZSwgJ3llcyddLFxuXHRcdFtmYWxzZSwgJ25vJ11cblx0XSlcbn07XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1Z9IHZhbHVlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc19ib29sZWFuXVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHIobmFtZSwgdmFsdWUsIGlzX2Jvb2xlYW4gPSBmYWxzZSkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCB8fCAoIXZhbHVlICYmIGlzX2Jvb2xlYW4pKSByZXR1cm4gJyc7XG5cdGNvbnN0IG5vcm1hbGl6ZWQgPSAobmFtZSBpbiByZXBsYWNlbWVudHMgJiYgcmVwbGFjZW1lbnRzW25hbWVdLmdldCh2YWx1ZSkpIHx8IHZhbHVlO1xuXHRjb25zdCBhc3NpZ25tZW50ID0gaXNfYm9vbGVhbiA/ICcnIDogYD1cIiR7ZXNjYXBlX2h0bWwobm9ybWFsaXplZCwgdHJ1ZSl9XCJgO1xuXHRyZXR1cm4gYCAke25hbWV9JHthc3NpZ25tZW50fWA7XG59XG5cbi8qKlxuICogU21hbGwgd3JhcHBlciBhcm91bmQgY2xzeCB0byBwcmVzZXJ2ZSBTdmVsdGUncyAod2VpcmQpIGhhbmRsaW5nIG9mIGZhbHN5IHZhbHVlcy5cbiAqIFRPRE8gU3ZlbHRlIDYgcmV2aXNpdCB0aGlzLCBhbmQgbGlrZWx5IHR1cm4gYWxsIGZhbHN5IHZhbHVlcyBpbnRvIHRoZSBlbXB0eSBzdHJpbmcgKHdoYXQgY2xzeCBhbHNvIGRvZXMpXG4gKiBAcGFyYW0gIHthbnl9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbHN4KHZhbHVlKSB7XG5cdGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG5cdFx0cmV0dXJuIF9jbHN4KHZhbHVlKTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gdmFsdWUgPz8gJyc7XG5cdH1cbn1cblxuY29uc3Qgd2hpdGVzcGFjZSA9IFsuLi4nIFxcdFxcblxcclxcZlxcdTAwYTBcXHUwMDBiXFx1ZmVmZiddO1xuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmcgfCBudWxsfSBbaGFzaF1cbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgYm9vbGVhbj59IFtkaXJlY3RpdmVzXVxuICogQHJldHVybnMge3N0cmluZyB8IG51bGx9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b19jbGFzcyh2YWx1ZSwgaGFzaCwgZGlyZWN0aXZlcykge1xuXHR2YXIgY2xhc3NuYW1lID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogJycgKyB2YWx1ZTtcblxuXHRpZiAoaGFzaCkge1xuXHRcdGNsYXNzbmFtZSA9IGNsYXNzbmFtZSA/IGNsYXNzbmFtZSArICcgJyArIGhhc2ggOiBoYXNoO1xuXHR9XG5cblx0aWYgKGRpcmVjdGl2ZXMpIHtcblx0XHRmb3IgKHZhciBrZXkgaW4gZGlyZWN0aXZlcykge1xuXHRcdFx0aWYgKGRpcmVjdGl2ZXNba2V5XSkge1xuXHRcdFx0XHRjbGFzc25hbWUgPSBjbGFzc25hbWUgPyBjbGFzc25hbWUgKyAnICcgKyBrZXkgOiBrZXk7XG5cdFx0XHR9IGVsc2UgaWYgKGNsYXNzbmFtZS5sZW5ndGgpIHtcblx0XHRcdFx0dmFyIGxlbiA9IGtleS5sZW5ndGg7XG5cdFx0XHRcdHZhciBhID0gMDtcblxuXHRcdFx0XHR3aGlsZSAoKGEgPSBjbGFzc25hbWUuaW5kZXhPZihrZXksIGEpKSA+PSAwKSB7XG5cdFx0XHRcdFx0dmFyIGIgPSBhICsgbGVuO1xuXG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0KGEgPT09IDAgfHwgd2hpdGVzcGFjZS5pbmNsdWRlcyhjbGFzc25hbWVbYSAtIDFdKSkgJiZcblx0XHRcdFx0XHRcdChiID09PSBjbGFzc25hbWUubGVuZ3RoIHx8IHdoaXRlc3BhY2UuaW5jbHVkZXMoY2xhc3NuYW1lW2JdKSlcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdGNsYXNzbmFtZSA9IChhID09PSAwID8gJycgOiBjbGFzc25hbWUuc3Vic3RyaW5nKDAsIGEpKSArIGNsYXNzbmFtZS5zdWJzdHJpbmcoYiArIDEpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRhID0gYjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY2xhc3NuYW1lID09PSAnJyA/IG51bGwgOiBjbGFzc25hbWU7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZyxhbnk+fSBzdHlsZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW1wb3J0YW50XG4gKi9cbmZ1bmN0aW9uIGFwcGVuZF9zdHlsZXMoc3R5bGVzLCBpbXBvcnRhbnQgPSBmYWxzZSkge1xuXHR2YXIgc2VwYXJhdG9yID0gaW1wb3J0YW50ID8gJyAhaW1wb3J0YW50OycgOiAnOyc7XG5cdHZhciBjc3MgPSAnJztcblxuXHRmb3IgKHZhciBrZXkgaW4gc3R5bGVzKSB7XG5cdFx0dmFyIHZhbHVlID0gc3R5bGVzW2tleV07XG5cdFx0aWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT09ICcnKSB7XG5cdFx0XHRjc3MgKz0gJyAnICsga2V5ICsgJzogJyArIHZhbHVlICsgc2VwYXJhdG9yO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjc3M7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHRvX2Nzc19uYW1lKG5hbWUpIHtcblx0aWYgKG5hbWVbMF0gIT09ICctJyB8fCBuYW1lWzFdICE9PSAnLScpIHtcblx0XHRyZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHR9XG5cdHJldHVybiBuYW1lO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgW1JlY29yZDxzdHJpbmcsIGFueT4sIFJlY29yZDxzdHJpbmcsIGFueT5dfSBbc3R5bGVzXVxuICogQHJldHVybnMge3N0cmluZyB8IG51bGx9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b19zdHlsZSh2YWx1ZSwgc3R5bGVzKSB7XG5cdGlmIChzdHlsZXMpIHtcblx0XHR2YXIgbmV3X3N0eWxlID0gJyc7XG5cblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsYW55PiB8IHVuZGVmaW5lZH0gKi9cblx0XHR2YXIgbm9ybWFsX3N0eWxlcztcblxuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZyxhbnk+IHwgdW5kZWZpbmVkfSAqL1xuXHRcdHZhciBpbXBvcnRhbnRfc3R5bGVzO1xuXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoc3R5bGVzKSkge1xuXHRcdFx0bm9ybWFsX3N0eWxlcyA9IHN0eWxlc1swXTtcblx0XHRcdGltcG9ydGFudF9zdHlsZXMgPSBzdHlsZXNbMV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5vcm1hbF9zdHlsZXMgPSBzdHlsZXM7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHR2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcblx0XHRcdFx0LnJlcGxhY2VBbGwoL1xccypcXC9cXCouKj9cXCpcXC9cXHMqL2csICcnKVxuXHRcdFx0XHQudHJpbSgpO1xuXG5cdFx0XHQvKiogQHR5cGUge2Jvb2xlYW4gfCAnXCInIHwgXCInXCJ9ICovXG5cdFx0XHR2YXIgaW5fc3RyID0gZmFsc2U7XG5cdFx0XHR2YXIgaW5fYXBvID0gMDtcblx0XHRcdHZhciBpbl9jb21tZW50ID0gZmFsc2U7XG5cblx0XHRcdHZhciByZXNlcnZlZF9uYW1lcyA9IFtdO1xuXG5cdFx0XHRpZiAobm9ybWFsX3N0eWxlcykge1xuXHRcdFx0XHRyZXNlcnZlZF9uYW1lcy5wdXNoKC4uLk9iamVjdC5rZXlzKG5vcm1hbF9zdHlsZXMpLm1hcCh0b19jc3NfbmFtZSkpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGltcG9ydGFudF9zdHlsZXMpIHtcblx0XHRcdFx0cmVzZXJ2ZWRfbmFtZXMucHVzaCguLi5PYmplY3Qua2V5cyhpbXBvcnRhbnRfc3R5bGVzKS5tYXAodG9fY3NzX25hbWUpKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHN0YXJ0X2luZGV4ID0gMDtcblx0XHRcdHZhciBuYW1lX2luZGV4ID0gLTE7XG5cblx0XHRcdGNvbnN0IGxlbiA9IHZhbHVlLmxlbmd0aDtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0dmFyIGMgPSB2YWx1ZVtpXTtcblxuXHRcdFx0XHRpZiAoaW5fY29tbWVudCkge1xuXHRcdFx0XHRcdGlmIChjID09PSAnLycgJiYgdmFsdWVbaSAtIDFdID09PSAnKicpIHtcblx0XHRcdFx0XHRcdGluX2NvbW1lbnQgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoaW5fc3RyKSB7XG5cdFx0XHRcdFx0aWYgKGluX3N0ciA9PT0gYykge1xuXHRcdFx0XHRcdFx0aW5fc3RyID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKGMgPT09ICcvJyAmJiB2YWx1ZVtpICsgMV0gPT09ICcqJykge1xuXHRcdFx0XHRcdGluX2NvbW1lbnQgPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGMgPT09ICdcIicgfHwgYyA9PT0gXCInXCIpIHtcblx0XHRcdFx0XHRpbl9zdHIgPSBjO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGMgPT09ICcoJykge1xuXHRcdFx0XHRcdGluX2FwbysrO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGMgPT09ICcpJykge1xuXHRcdFx0XHRcdGluX2Fwby0tO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFpbl9jb21tZW50ICYmIGluX3N0ciA9PT0gZmFsc2UgJiYgaW5fYXBvID09PSAwKSB7XG5cdFx0XHRcdFx0aWYgKGMgPT09ICc6JyAmJiBuYW1lX2luZGV4ID09PSAtMSkge1xuXHRcdFx0XHRcdFx0bmFtZV9pbmRleCA9IGk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChjID09PSAnOycgfHwgaSA9PT0gbGVuIC0gMSkge1xuXHRcdFx0XHRcdFx0aWYgKG5hbWVfaW5kZXggIT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBuYW1lID0gdG9fY3NzX25hbWUodmFsdWUuc3Vic3RyaW5nKHN0YXJ0X2luZGV4LCBuYW1lX2luZGV4KS50cmltKCkpO1xuXG5cdFx0XHRcdFx0XHRcdGlmICghcmVzZXJ2ZWRfbmFtZXMuaW5jbHVkZXMobmFtZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoYyAhPT0gJzsnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0dmFyIHByb3BlcnR5ID0gdmFsdWUuc3Vic3RyaW5nKHN0YXJ0X2luZGV4LCBpKS50cmltKCk7XG5cdFx0XHRcdFx0XHRcdFx0bmV3X3N0eWxlICs9ICcgJyArIHByb3BlcnR5ICsgJzsnO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHN0YXJ0X2luZGV4ID0gaSArIDE7XG5cdFx0XHRcdFx0XHRuYW1lX2luZGV4ID0gLTE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKG5vcm1hbF9zdHlsZXMpIHtcblx0XHRcdG5ld19zdHlsZSArPSBhcHBlbmRfc3R5bGVzKG5vcm1hbF9zdHlsZXMpO1xuXHRcdH1cblxuXHRcdGlmIChpbXBvcnRhbnRfc3R5bGVzKSB7XG5cdFx0XHRuZXdfc3R5bGUgKz0gYXBwZW5kX3N0eWxlcyhpbXBvcnRhbnRfc3R5bGVzLCB0cnVlKTtcblx0XHR9XG5cblx0XHRuZXdfc3R5bGUgPSBuZXdfc3R5bGUudHJpbSgpO1xuXHRcdHJldHVybiBuZXdfc3R5bGUgPT09ICcnID8gbnVsbCA6IG5ld19zdHlsZTtcblx0fVxuXG5cdHJldHVybiB2YWx1ZSA9PSBudWxsID8gbnVsbCA6IFN0cmluZyh2YWx1ZSk7XG59XG4iLCJpbXBvcnQgeyB0b19jbGFzcyB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9hdHRyaWJ1dGVzLmpzJztcbmltcG9ydCB7IGh5ZHJhdGluZyB9IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBkb21cbiAqIEBwYXJhbSB7Ym9vbGVhbiB8IG51bWJlcn0gaXNfaHRtbFxuICogQHBhcmFtIHtzdHJpbmcgfCBudWxsfSB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmd9IFtoYXNoXVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbcHJldl9jbGFzc2VzXVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbbmV4dF9jbGFzc2VzXVxuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIGJvb2xlYW4+IHwgdW5kZWZpbmVkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2NsYXNzKGRvbSwgaXNfaHRtbCwgdmFsdWUsIGhhc2gsIHByZXZfY2xhc3NlcywgbmV4dF9jbGFzc2VzKSB7XG5cdC8vIEB0cy1leHBlY3QtZXJyb3IgbmVlZCB0byBhZGQgX19jbGFzc05hbWUgdG8gcGF0Y2hlZCBwcm90b3R5cGVcblx0dmFyIHByZXYgPSBkb20uX19jbGFzc05hbWU7XG5cblx0aWYgKFxuXHRcdGh5ZHJhdGluZyB8fFxuXHRcdHByZXYgIT09IHZhbHVlIHx8XG5cdFx0cHJldiA9PT0gdW5kZWZpbmVkIC8vIGZvciBlZGdlIGNhc2Ugb2YgYGNsYXNzPXt1bmRlZmluZWR9YFxuXHQpIHtcblx0XHR2YXIgbmV4dF9jbGFzc19uYW1lID0gdG9fY2xhc3ModmFsdWUsIGhhc2gsIG5leHRfY2xhc3Nlcyk7XG5cblx0XHRpZiAoIWh5ZHJhdGluZyB8fCBuZXh0X2NsYXNzX25hbWUgIT09IGRvbS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpIHtcblx0XHRcdC8vIFJlbW92aW5nIHRoZSBhdHRyaWJ1dGUgd2hlbiB0aGUgdmFsdWUgaXMgb25seSBhbiBlbXB0eSBzdHJpbmcgY2F1c2VzXG5cdFx0XHQvLyBwZXJmb3JtYW5jZSBpc3N1ZXMgdnMgc2ltcGx5IG1ha2luZyB0aGUgY2xhc3NOYW1lIGFuIGVtcHR5IHN0cmluZy4gU29cblx0XHRcdC8vIHdlIHNob3VsZCBvbmx5IHJlbW92ZSB0aGUgY2xhc3MgaWYgdGhlIHZhbHVlIGlzIG51bGxpc2hcblx0XHRcdC8vIGFuZCB0aGVyZSBubyBoYXNoL2RpcmVjdGl2ZXMgOlxuXHRcdFx0aWYgKG5leHRfY2xhc3NfbmFtZSA9PSBudWxsKSB7XG5cdFx0XHRcdGRvbS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG5cdFx0XHR9IGVsc2UgaWYgKGlzX2h0bWwpIHtcblx0XHRcdFx0ZG9tLmNsYXNzTmFtZSA9IG5leHRfY2xhc3NfbmFtZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgbmV4dF9jbGFzc19uYW1lKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIG5lZWQgdG8gYWRkIF9fY2xhc3NOYW1lIHRvIHBhdGNoZWQgcHJvdG90eXBlXG5cdFx0ZG9tLl9fY2xhc3NOYW1lID0gdmFsdWU7XG5cdH0gZWxzZSBpZiAobmV4dF9jbGFzc2VzICYmIHByZXZfY2xhc3NlcyAhPT0gbmV4dF9jbGFzc2VzKSB7XG5cdFx0Zm9yICh2YXIga2V5IGluIG5leHRfY2xhc3Nlcykge1xuXHRcdFx0dmFyIGlzX3ByZXNlbnQgPSAhIW5leHRfY2xhc3Nlc1trZXldO1xuXG5cdFx0XHRpZiAocHJldl9jbGFzc2VzID09IG51bGwgfHwgaXNfcHJlc2VudCAhPT0gISFwcmV2X2NsYXNzZXNba2V5XSkge1xuXHRcdFx0XHRkb20uY2xhc3NMaXN0LnRvZ2dsZShrZXksIGlzX3ByZXNlbnQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXh0X2NsYXNzZXM7XG59XG4iLCJpbXBvcnQgeyB0b19zdHlsZSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9hdHRyaWJ1dGVzLmpzJztcbmltcG9ydCB7IGh5ZHJhdGluZyB9IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBkb21cbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgYW55Pn0gcHJldlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBuZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gW3ByaW9yaXR5XVxuICovXG5mdW5jdGlvbiB1cGRhdGVfc3R5bGVzKGRvbSwgcHJldiA9IHt9LCBuZXh0LCBwcmlvcml0eSkge1xuXHRmb3IgKHZhciBrZXkgaW4gbmV4dCkge1xuXHRcdHZhciB2YWx1ZSA9IG5leHRba2V5XTtcblxuXHRcdGlmIChwcmV2W2tleV0gIT09IHZhbHVlKSB7XG5cdFx0XHRpZiAobmV4dFtrZXldID09IG51bGwpIHtcblx0XHRcdFx0ZG9tLnN0eWxlLnJlbW92ZVByb3BlcnR5KGtleSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkb20uc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgcHJpb3JpdHkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gZG9tXG4gKiBAcGFyYW0ge3N0cmluZyB8IG51bGx9IHZhbHVlXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT4gfCBbUmVjb3JkPHN0cmluZywgYW55PiwgUmVjb3JkPHN0cmluZywgYW55Pl19IFtwcmV2X3N0eWxlc11cbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgYW55PiB8IFtSZWNvcmQ8c3RyaW5nLCBhbnk+LCBSZWNvcmQ8c3RyaW5nLCBhbnk+XX0gW25leHRfc3R5bGVzXVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N0eWxlKGRvbSwgdmFsdWUsIHByZXZfc3R5bGVzLCBuZXh0X3N0eWxlcykge1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdHZhciBwcmV2ID0gZG9tLl9fc3R5bGU7XG5cblx0aWYgKGh5ZHJhdGluZyB8fCBwcmV2ICE9PSB2YWx1ZSkge1xuXHRcdHZhciBuZXh0X3N0eWxlX2F0dHIgPSB0b19zdHlsZSh2YWx1ZSwgbmV4dF9zdHlsZXMpO1xuXG5cdFx0aWYgKCFoeWRyYXRpbmcgfHwgbmV4dF9zdHlsZV9hdHRyICE9PSBkb20uZ2V0QXR0cmlidXRlKCdzdHlsZScpKSB7XG5cdFx0XHRpZiAobmV4dF9zdHlsZV9hdHRyID09IG51bGwpIHtcblx0XHRcdFx0ZG9tLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvbS5zdHlsZS5jc3NUZXh0ID0gbmV4dF9zdHlsZV9hdHRyO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRkb20uX19zdHlsZSA9IHZhbHVlO1xuXHR9IGVsc2UgaWYgKG5leHRfc3R5bGVzKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkobmV4dF9zdHlsZXMpKSB7XG5cdFx0XHR1cGRhdGVfc3R5bGVzKGRvbSwgcHJldl9zdHlsZXM/LlswXSwgbmV4dF9zdHlsZXNbMF0pO1xuXHRcdFx0dXBkYXRlX3N0eWxlcyhkb20sIHByZXZfc3R5bGVzPy5bMV0sIG5leHRfc3R5bGVzWzFdLCAnaW1wb3J0YW50Jyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHVwZGF0ZV9zdHlsZXMoZG9tLCBwcmV2X3N0eWxlcywgbmV4dF9zdHlsZXMpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXh0X3N0eWxlcztcbn1cbiIsIi8qKiBAaW1wb3J0IHsgRWZmZWN0IH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgaHlkcmF0aW5nLCBzZXRfaHlkcmF0aW5nIH0gZnJvbSAnLi4vaHlkcmF0aW9uLmpzJztcbmltcG9ydCB7IGdldF9kZXNjcmlwdG9ycywgZ2V0X3Byb3RvdHlwZV9vZiB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVfZXZlbnQsIGRlbGVnYXRlIH0gZnJvbSAnLi9ldmVudHMuanMnO1xuaW1wb3J0IHsgYWRkX2Zvcm1fcmVzZXRfbGlzdGVuZXIsIGF1dG9mb2N1cyB9IGZyb20gJy4vbWlzYy5qcyc7XG5pbXBvcnQgKiBhcyB3IGZyb20gJy4uLy4uL3dhcm5pbmdzLmpzJztcbmltcG9ydCB7IExPQURJTkdfQVRUUl9TWU1CT0wgfSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgeyBxdWV1ZV9pZGxlX3Rhc2sgfSBmcm9tICcuLi90YXNrLmpzJztcbmltcG9ydCB7IGlzX2NhcHR1cmVfZXZlbnQsIGlzX2RlbGVnYXRlZCwgbm9ybWFsaXplX2F0dHJpYnV0ZSB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdGFjdGl2ZV9lZmZlY3QsXG5cdGFjdGl2ZV9yZWFjdGlvbixcblx0Z2V0LFxuXHRzZXRfYWN0aXZlX2VmZmVjdCxcblx0c2V0X2FjdGl2ZV9yZWFjdGlvblxufSBmcm9tICcuLi8uLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGF0dGFjaCB9IGZyb20gJy4vYXR0YWNobWVudHMuanMnO1xuaW1wb3J0IHsgY2xzeCB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9hdHRyaWJ1dGVzLmpzJztcbmltcG9ydCB7IHNldF9jbGFzcyB9IGZyb20gJy4vY2xhc3MuanMnO1xuaW1wb3J0IHsgc2V0X3N0eWxlIH0gZnJvbSAnLi9zdHlsZS5qcyc7XG5pbXBvcnQgeyBBVFRBQ0hNRU5UX0tFWSwgTkFNRVNQQUNFX0hUTUwgfSBmcm9tICcuLi8uLi8uLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgYmxvY2ssIGJyYW5jaCwgZGVzdHJveV9lZmZlY3QsIGVmZmVjdCB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBpbml0X3NlbGVjdCwgc2VsZWN0X29wdGlvbiB9IGZyb20gJy4vYmluZGluZ3Mvc2VsZWN0LmpzJztcbmltcG9ydCB7IGZsYXR0ZW4gfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2FzeW5jLmpzJztcblxuZXhwb3J0IGNvbnN0IENMQVNTID0gU3ltYm9sKCdjbGFzcycpO1xuZXhwb3J0IGNvbnN0IFNUWUxFID0gU3ltYm9sKCdzdHlsZScpO1xuXG5jb25zdCBJU19DVVNUT01fRUxFTUVOVCA9IFN5bWJvbCgnaXMgY3VzdG9tIGVsZW1lbnQnKTtcbmNvbnN0IElTX0hUTUwgPSBTeW1ib2woJ2lzIGh0bWwnKTtcblxuLyoqXG4gKiBUaGUgdmFsdWUvY2hlY2tlZCBhdHRyaWJ1dGUgaW4gdGhlIHRlbXBsYXRlIGFjdHVhbGx5IGNvcnJlc3BvbmRzIHRvIHRoZSBkZWZhdWx0VmFsdWUgcHJvcGVydHksIHNvIHdlIG5lZWRcbiAqIHRvIHJlbW92ZSBpdCB1cG9uIGh5ZHJhdGlvbiB0byBhdm9pZCBhIGJ1ZyB3aGVuIHNvbWVvbmUgcmVzZXRzIHRoZSBmb3JtIHZhbHVlLlxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSBpbnB1dFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVfaW5wdXRfZGVmYXVsdHMoaW5wdXQpIHtcblx0aWYgKCFoeWRyYXRpbmcpIHJldHVybjtcblxuXHR2YXIgYWxyZWFkeV9yZW1vdmVkID0gZmFsc2U7XG5cblx0Ly8gV2UgdHJ5IGFuZCByZW1vdmUgdGhlIGRlZmF1bHQgYXR0cmlidXRlcyBsYXRlciwgcmF0aGVyIHRoYW4gc3luYyBkdXJpbmcgaHlkcmF0aW9uLlxuXHQvLyBEb2luZyBpdCBzeW5jIGR1cmluZyBoeWRyYXRpb24gaGFzIGEgbmVnYXRpdmUgaW1wYWN0IG9uIHBlcmZvcm1hbmNlLCBidXQgZGVmZXJyaW5nIHRoZVxuXHQvLyB3b3JrIGluIGFuIGlkbGUgdGFzayBhbGxldmlhdGVzIHRoaXMgZ3JlYXRseS4gSWYgYSBmb3JtIHJlc2V0IGV2ZW50IGNvbWVzIGluIGJlZm9yZVxuXHQvLyB0aGUgaWRsZSBjYWxsYmFjaywgdGhlbiB3ZSBlbnN1cmUgdGhlIGlucHV0IGRlZmF1bHRzIGFyZSBjbGVhcmVkIGp1c3QgYmVmb3JlLlxuXHR2YXIgcmVtb3ZlX2RlZmF1bHRzID0gKCkgPT4ge1xuXHRcdGlmIChhbHJlYWR5X3JlbW92ZWQpIHJldHVybjtcblx0XHRhbHJlYWR5X3JlbW92ZWQgPSB0cnVlO1xuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBhdHRyaWJ1dGVzIGJ1dCBwcmVzZXJ2ZSB0aGUgdmFsdWVzXG5cdFx0aWYgKGlucHV0Lmhhc0F0dHJpYnV0ZSgndmFsdWUnKSkge1xuXHRcdFx0dmFyIHZhbHVlID0gaW5wdXQudmFsdWU7XG5cdFx0XHRzZXRfYXR0cmlidXRlKGlucHV0LCAndmFsdWUnLCBudWxsKTtcblx0XHRcdGlucHV0LnZhbHVlID0gdmFsdWU7XG5cdFx0fVxuXG5cdFx0aWYgKGlucHV0Lmhhc0F0dHJpYnV0ZSgnY2hlY2tlZCcpKSB7XG5cdFx0XHR2YXIgY2hlY2tlZCA9IGlucHV0LmNoZWNrZWQ7XG5cdFx0XHRzZXRfYXR0cmlidXRlKGlucHV0LCAnY2hlY2tlZCcsIG51bGwpO1xuXHRcdFx0aW5wdXQuY2hlY2tlZCA9IGNoZWNrZWQ7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0aW5wdXQuX19vbl9yID0gcmVtb3ZlX2RlZmF1bHRzO1xuXHRxdWV1ZV9pZGxlX3Rhc2socmVtb3ZlX2RlZmF1bHRzKTtcblx0YWRkX2Zvcm1fcmVzZXRfbGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3ZhbHVlKGVsZW1lbnQsIHZhbHVlKSB7XG5cdHZhciBhdHRyaWJ1dGVzID0gZ2V0X2F0dHJpYnV0ZXMoZWxlbWVudCk7XG5cblx0aWYgKFxuXHRcdGF0dHJpYnV0ZXMudmFsdWUgPT09XG5cdFx0XHQoYXR0cmlidXRlcy52YWx1ZSA9XG5cdFx0XHRcdC8vIHRyZWF0IG51bGwgYW5kIHVuZGVmaW5lZCB0aGUgc2FtZSBmb3IgdGhlIGluaXRpYWwgdmFsdWVcblx0XHRcdFx0dmFsdWUgPz8gdW5kZWZpbmVkKSB8fFxuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHQvLyBgcHJvZ3Jlc3NgIGVsZW1lbnRzIGFsd2F5cyBuZWVkIHRoZWlyIHZhbHVlIHNldCB3aGVuIGl0J3MgYDBgXG5cdFx0KGVsZW1lbnQudmFsdWUgPT09IHZhbHVlICYmICh2YWx1ZSAhPT0gMCB8fCBlbGVtZW50Lm5vZGVOYW1lICE9PSAnUFJPR1JFU1MnKSlcblx0KSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRlbGVtZW50LnZhbHVlID0gdmFsdWUgPz8gJyc7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNoZWNrZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jaGVja2VkKGVsZW1lbnQsIGNoZWNrZWQpIHtcblx0dmFyIGF0dHJpYnV0ZXMgPSBnZXRfYXR0cmlidXRlcyhlbGVtZW50KTtcblxuXHRpZiAoXG5cdFx0YXR0cmlidXRlcy5jaGVja2VkID09PVxuXHRcdChhdHRyaWJ1dGVzLmNoZWNrZWQgPVxuXHRcdFx0Ly8gdHJlYXQgbnVsbCBhbmQgdW5kZWZpbmVkIHRoZSBzYW1lIGZvciB0aGUgaW5pdGlhbCB2YWx1ZVxuXHRcdFx0Y2hlY2tlZCA/PyB1bmRlZmluZWQpXG5cdCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0ZWxlbWVudC5jaGVja2VkID0gY2hlY2tlZDtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBgc2VsZWN0ZWRgIGF0dHJpYnV0ZSBvbiBhbiBgb3B0aW9uYCBlbGVtZW50LlxuICogTm90IHNldCB0aHJvdWdoIHRoZSBwcm9wZXJ0eSBiZWNhdXNlIHRoYXQgZG9lc24ndCByZWZsZWN0IHRvIHRoZSBET00sXG4gKiB3aGljaCBtZWFucyBpdCB3b3VsZG4ndCBiZSB0YWtlbiBpbnRvIGFjY291bnQgd2hlbiBhIGZvcm0gaXMgcmVzZXQuXG4gKiBAcGFyYW0ge0hUTUxPcHRpb25FbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNlbGVjdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc2VsZWN0ZWQoZWxlbWVudCwgc2VsZWN0ZWQpIHtcblx0aWYgKHNlbGVjdGVkKSB7XG5cdFx0Ly8gVGhlIHNlbGVjdGVkIG9wdGlvbiBjb3VsZCd2ZSBjaGFuZ2VkIHZpYSB1c2VyIHNlbGVjdGlvbiwgYW5kXG5cdFx0Ly8gc2V0dGluZyB0aGUgdmFsdWUgd2l0aG91dCB0aGlzIGNoZWNrIHdvdWxkIHNldCBpdCBiYWNrLlxuXHRcdGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpIHtcblx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICcnKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0ZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3NlbGVjdGVkJyk7XG5cdH1cbn1cblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBkZWZhdWx0IGNoZWNrZWQgcHJvcGVydHkgd2l0aG91dCBpbmZsdWVuY2luZyB0aGUgY3VycmVudCBjaGVja2VkIHByb3BlcnR5LlxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNoZWNrZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kZWZhdWx0X2NoZWNrZWQoZWxlbWVudCwgY2hlY2tlZCkge1xuXHRjb25zdCBleGlzdGluZ192YWx1ZSA9IGVsZW1lbnQuY2hlY2tlZDtcblx0ZWxlbWVudC5kZWZhdWx0Q2hlY2tlZCA9IGNoZWNrZWQ7XG5cdGVsZW1lbnQuY2hlY2tlZCA9IGV4aXN0aW5nX3ZhbHVlO1xufVxuXG4vKipcbiAqIEFwcGxpZXMgdGhlIGRlZmF1bHQgdmFsdWUgcHJvcGVydHkgd2l0aG91dCBpbmZsdWVuY2luZyB0aGUgY3VycmVudCB2YWx1ZSBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudCB8IEhUTUxUZXh0QXJlYUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RlZmF1bHRfdmFsdWUoZWxlbWVudCwgdmFsdWUpIHtcblx0Y29uc3QgZXhpc3RpbmdfdmFsdWUgPSBlbGVtZW50LnZhbHVlO1xuXHRlbGVtZW50LmRlZmF1bHRWYWx1ZSA9IHZhbHVlO1xuXHRlbGVtZW50LnZhbHVlID0gZXhpc3RpbmdfdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZyB8IG51bGx9IHZhbHVlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwX3dhcm5pbmddXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfYXR0cmlidXRlKGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUsIHNraXBfd2FybmluZykge1xuXHR2YXIgYXR0cmlidXRlcyA9IGdldF9hdHRyaWJ1dGVzKGVsZW1lbnQpO1xuXG5cdGlmIChoeWRyYXRpbmcpIHtcblx0XHRhdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuXG5cdFx0aWYgKFxuXHRcdFx0YXR0cmlidXRlID09PSAnc3JjJyB8fFxuXHRcdFx0YXR0cmlidXRlID09PSAnc3Jjc2V0JyB8fFxuXHRcdFx0KGF0dHJpYnV0ZSA9PT0gJ2hyZWYnICYmIGVsZW1lbnQubm9kZU5hbWUgPT09ICdMSU5LJylcblx0XHQpIHtcblx0XHRcdGlmICghc2tpcF93YXJuaW5nKSB7XG5cdFx0XHRcdGNoZWNrX3NyY19pbl9kZXZfaHlkcmF0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUgPz8gJycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB3ZSByZXNldCB0aGVzZSBhdHRyaWJ1dGVzLCB0aGV5IHdvdWxkIHJlc3VsdCBpbiBhbm90aGVyIG5ldHdvcmsgcmVxdWVzdCwgd2hpY2ggd2Ugd2FudCB0byBhdm9pZC5cblx0XHRcdC8vIFdlIGFzc3VtZSB0aGV5IGFyZSB0aGUgc2FtZSBiZXR3ZWVuIGNsaWVudCBhbmQgc2VydmVyIGFzIGNoZWNraW5nIGlmIHRoZXkgYXJlIGVxdWFsIGlzIGV4cGVuc2l2ZVxuXHRcdFx0Ly8gKHdlIGNhbid0IGp1c3QgY29tcGFyZSB0aGUgc3RyaW5ncyBhcyB0aGV5IGNhbiBiZSBkaWZmZXJlbnQgYmV0d2VlbiBjbGllbnQgYW5kIHNlcnZlciBidXQgcmVzdWx0IGluIHRoZVxuXHRcdFx0Ly8gc2FtZSB1cmwsIHNvIHdlIHdvdWxkIG5lZWQgdG8gY3JlYXRlIGhpZGRlbiBhbmNob3IgZWxlbWVudHMgdG8gY29tcGFyZSB0aGVtKVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXG5cdGlmIChhdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPT09IChhdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gPSB2YWx1ZSkpIHJldHVybjtcblxuXHRpZiAoYXR0cmlidXRlID09PSAnbG9hZGluZycpIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudFtMT0FESU5HX0FUVFJfU1lNQk9MXSA9IHZhbHVlO1xuXHR9XG5cblx0aWYgKHZhbHVlID09IG51bGwpIHtcblx0XHRlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgJiYgZ2V0X3NldHRlcnMoZWxlbWVudCkuaW5jbHVkZXMoYXR0cmlidXRlKSkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRlbGVtZW50W2F0dHJpYnV0ZV0gPSB2YWx1ZTtcblx0fSBlbHNlIHtcblx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZG9tXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF94bGlua19hdHRyaWJ1dGUoZG9tLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdGRvbS5zZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsIGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIHByb3AsIHZhbHVlKSB7XG5cdC8vIFdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgc2V0dGluZyBjdXN0b20gZWxlbWVudCBwcm9wcywgd2hpY2ggY2FuXG5cdC8vIGludm9rZSBsaWZlY3ljbGUgbWV0aG9kcyBvbiBvdGhlciBjdXN0b20gZWxlbWVudHMsIGRvZXMgbm90IGFsc29cblx0Ly8gYXNzb2NpYXRlIHRob3NlIGxpZmVjeWNsZSBtZXRob2RzIHdpdGggdGhlIGN1cnJlbnQgYWN0aXZlIHJlYWN0aW9uXG5cdC8vIG9yIGVmZmVjdFxuXHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdHZhciBwcmV2aW91c19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXG5cdC8vIElmIHdlJ3JlIGh5ZHJhdGluZyBidXQgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGZyb20gU3ZlbHRlLCBhbmQgaXQgYWxyZWFkeSBzY2FmZm9sZGVkLFxuXHQvLyB0aGVuIGl0IG1pZ2h0IHJ1biBibG9jayBsb2dpYyBpbiBoeWRyYXRpb24gbW9kZSwgd2hpY2ggd2UgaGF2ZSB0byBwcmV2ZW50LlxuXHRsZXQgd2FzX2h5ZHJhdGluZyA9IGh5ZHJhdGluZztcblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdHNldF9oeWRyYXRpbmcoZmFsc2UpO1xuXHR9XG5cblx0c2V0X2FjdGl2ZV9yZWFjdGlvbihudWxsKTtcblx0c2V0X2FjdGl2ZV9lZmZlY3QobnVsbCk7XG5cblx0dHJ5IHtcblx0XHRpZiAoXG5cdFx0XHQvLyBgc3R5bGVgIHNob3VsZCB1c2UgYHNldF9hdHRyaWJ1dGVgIHJhdGhlciB0aGFuIHRoZSBzZXR0ZXJcblx0XHRcdHByb3AgIT09ICdzdHlsZScgJiZcblx0XHRcdC8vIERvbid0IGNvbXB1dGUgc2V0dGVycyBmb3IgY3VzdG9tIGVsZW1lbnRzIHdoaWxlIHRoZXkgYXJlbid0IHJlZ2lzdGVyZWQgeWV0LFxuXHRcdFx0Ly8gYmVjYXVzZSBkdXJpbmcgdGhlaXIgdXBncmFkZS9pbnN0YW50aWF0aW9uIHRoZXkgbWlnaHQgYWRkIG1vcmUgc2V0dGVycy5cblx0XHRcdC8vIEluc3RlYWQsIGZhbGwgYmFjayB0byBhIHNpbXBsZSBcImFuIG9iamVjdCwgdGhlbiBzZXQgYXMgcHJvcGVydHlcIiBoZXVyaXN0aWMuXG5cdFx0XHQoc2V0dGVyc19jYWNoZS5oYXMobm9kZS5ub2RlTmFtZSkgfHxcblx0XHRcdC8vIGN1c3RvbUVsZW1lbnRzIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIGJyb3dzZXIgZXh0ZW5zaW9uIGNvbnRleHRzXG5cdFx0XHQhY3VzdG9tRWxlbWVudHMgfHxcblx0XHRcdGN1c3RvbUVsZW1lbnRzLmdldChub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0PyBnZXRfc2V0dGVycyhub2RlKS5pbmNsdWRlcyhwcm9wKVxuXHRcdFx0XHQ6IHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpXG5cdFx0KSB7XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRub2RlW3Byb3BdID0gdmFsdWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFdlIGRpZCBnZXR0ZXJzIGV0YyBjaGVja3MgYWxyZWFkeSwgc3RyaW5naWZ5IGJlZm9yZSBwYXNzaW5nIHRvIHNldF9hdHRyaWJ1dGVcblx0XHRcdC8vIHRvIGVuc3VyZSBpdCBkb2Vzbid0IGludm9rZSB0aGUgc2FtZSBsb2dpYyBhZ2FpbiwgYW5kIHBvdGVudGlhbGx5IHBvcHVsYXRpbmdcblx0XHRcdC8vIHRoZSBzZXR0ZXJzIGNhY2hlIHRvbyBlYXJseS5cblx0XHRcdHNldF9hdHRyaWJ1dGUobm9kZSwgcHJvcCwgdmFsdWUgPT0gbnVsbCA/IHZhbHVlIDogU3RyaW5nKHZhbHVlKSk7XG5cdFx0fVxuXHR9IGZpbmFsbHkge1xuXHRcdHNldF9hY3RpdmVfcmVhY3Rpb24ocHJldmlvdXNfcmVhY3Rpb24pO1xuXHRcdHNldF9hY3RpdmVfZWZmZWN0KHByZXZpb3VzX2VmZmVjdCk7XG5cdFx0aWYgKHdhc19oeWRyYXRpbmcpIHtcblx0XHRcdHNldF9oeWRyYXRpbmcodHJ1ZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogU3ByZWFkcyBhdHRyaWJ1dGVzIG9udG8gYSBET00gZWxlbWVudCwgdGFraW5nIGludG8gYWNjb3VudCB0aGUgY3VycmVudGx5IHNldCBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IGVsZW1lbnRcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgYW55PiB8IHVuZGVmaW5lZH0gcHJldlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+fSBuZXh0IE5ldyBhdHRyaWJ1dGVzIC0gdGhpcyBmdW5jdGlvbiBtdXRhdGVzIHRoaXMgb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gW2Nzc19oYXNoXVxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcF93YXJuaW5nXVxuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIGFueT59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhlbGVtZW50LCBwcmV2LCBuZXh0LCBjc3NfaGFzaCwgc2tpcF93YXJuaW5nID0gZmFsc2UpIHtcblx0dmFyIGF0dHJpYnV0ZXMgPSBnZXRfYXR0cmlidXRlcyhlbGVtZW50KTtcblxuXHR2YXIgaXNfY3VzdG9tX2VsZW1lbnQgPSBhdHRyaWJ1dGVzW0lTX0NVU1RPTV9FTEVNRU5UXTtcblx0dmFyIHByZXNlcnZlX2F0dHJpYnV0ZV9jYXNlID0gIWF0dHJpYnV0ZXNbSVNfSFRNTF07XG5cblx0Ly8gSWYgd2UncmUgaHlkcmF0aW5nIGJ1dCB0aGUgY3VzdG9tIGVsZW1lbnQgaXMgZnJvbSBTdmVsdGUsIGFuZCBpdCBhbHJlYWR5IHNjYWZmb2xkZWQsXG5cdC8vIHRoZW4gaXQgbWlnaHQgcnVuIGJsb2NrIGxvZ2ljIGluIGh5ZHJhdGlvbiBtb2RlLCB3aGljaCB3ZSBoYXZlIHRvIHByZXZlbnQuXG5cdGxldCBpc19oeWRyYXRpbmdfY3VzdG9tX2VsZW1lbnQgPSBoeWRyYXRpbmcgJiYgaXNfY3VzdG9tX2VsZW1lbnQ7XG5cdGlmIChpc19oeWRyYXRpbmdfY3VzdG9tX2VsZW1lbnQpIHtcblx0XHRzZXRfaHlkcmF0aW5nKGZhbHNlKTtcblx0fVxuXG5cdHZhciBjdXJyZW50ID0gcHJldiB8fCB7fTtcblx0dmFyIGlzX29wdGlvbl9lbGVtZW50ID0gZWxlbWVudC50YWdOYW1lID09PSAnT1BUSU9OJztcblxuXHRmb3IgKHZhciBrZXkgaW4gcHJldikge1xuXHRcdGlmICghKGtleSBpbiBuZXh0KSkge1xuXHRcdFx0bmV4dFtrZXldID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRpZiAobmV4dC5jbGFzcykge1xuXHRcdG5leHQuY2xhc3MgPSBjbHN4KG5leHQuY2xhc3MpO1xuXHR9IGVsc2UgaWYgKGNzc19oYXNoIHx8IG5leHRbQ0xBU1NdKSB7XG5cdFx0bmV4dC5jbGFzcyA9IG51bGw7IC8qIGZvcmNlIGNhbGwgdG8gc2V0X2NsYXNzKCkgKi9cblx0fVxuXG5cdGlmIChuZXh0W1NUWUxFXSkge1xuXHRcdG5leHQuc3R5bGUgPz89IG51bGw7IC8qIGZvcmNlIGNhbGwgdG8gc2V0X3N0eWxlKCkgKi9cblx0fVxuXG5cdHZhciBzZXR0ZXJzID0gZ2V0X3NldHRlcnMoZWxlbWVudCk7XG5cblx0Ly8gc2luY2Uga2V5IGlzIGNhcHR1cmVkIHdlIHVzZSBjb25zdFxuXHRmb3IgKGNvbnN0IGtleSBpbiBuZXh0KSB7XG5cdFx0Ly8gbGV0IGluc3RlYWQgb2YgdmFyIGJlY2F1c2UgcmVmZXJlbmNlZCBpbiBhIGNsb3N1cmVcblx0XHRsZXQgdmFsdWUgPSBuZXh0W2tleV07XG5cblx0XHQvLyBVcCBoZXJlIGJlY2F1c2Ugd2Ugd2FudCB0byBkbyB0aGlzIGZvciB0aGUgaW5pdGlhbCB2YWx1ZSwgdG9vLCBldmVuIGlmIGl0J3MgdW5kZWZpbmVkLFxuXHRcdC8vIGFuZCB0aGlzIHdvdWxkbid0IGJlIHJlYWNoZWQgaW4gY2FzZSBvZiB1bmRlZmluZWQgYmVjYXVzZSBvZiB0aGUgZXF1YWxpdHkgY2hlY2sgYmVsb3dcblx0XHRpZiAoaXNfb3B0aW9uX2VsZW1lbnQgJiYga2V5ID09PSAndmFsdWUnICYmIHZhbHVlID09IG51bGwpIHtcblx0XHRcdC8vIFRoZSA8b3B0aW9uPiBlbGVtZW50IGlzIGEgc3BlY2lhbCBjYXNlIGJlY2F1c2UgcmVtb3ZpbmcgdGhlIHZhbHVlIGF0dHJpYnV0ZSBtZWFuc1xuXHRcdFx0Ly8gdGhlIHZhbHVlIGlzIHNldCB0byB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBvcHRpb24gZWxlbWVudCwgYW5kIHNldHRpbmcgdGhlIHZhbHVlXG5cdFx0XHQvLyB0byBudWxsIG9yIHVuZGVmaW5lZCBtZWFucyB0aGUgdmFsdWUgaXMgc2V0IHRvIHRoZSBzdHJpbmcgXCJudWxsXCIgb3IgXCJ1bmRlZmluZWRcIi5cblx0XHRcdC8vIFRvIGFsaWduIHdpdGggaG93IHdlIGhhbmRsZSB0aGlzIGNhc2UgaW4gbm9uLXNwcmVhZC1zY2VuYXJpb3MsIHRoaXMgbG9naWMgaXMgbmVlZGVkLlxuXHRcdFx0Ly8gVGhlcmUncyBhIHN1cGVyLWVkZ2UtY2FzZSBidWcgaGVyZSB0aGF0IGlzIGxlZnQgaW4gaW4gZmF2b3Igb2Ygc21hbGxlciBjb2RlIHNpemU6XG5cdFx0XHQvLyBCZWNhdXNlIG9mIHRoZSBcInNldCBtaXNzaW5nIHByb3BzIHRvIG51bGxcIiBsb2dpYyBhYm92ZSwgd2UgY2FuJ3QgZGlmZmVyZW50aWF0ZVxuXHRcdFx0Ly8gYmV0d2VlbiBhIG1pc3NpbmcgdmFsdWUgYW5kIGFuIGV4cGxpY2l0bHkgc2V0IHZhbHVlIG9mIG51bGwgb3IgdW5kZWZpbmVkLiBUaGF0IG1lYW5zXG5cdFx0XHQvLyB0aGF0IG9uY2Ugc2V0LCB0aGUgdmFsdWUgYXR0cmlidXRlIG9mIGFuIDxvcHRpb24+IGVsZW1lbnQgY2FuJ3QgYmUgcmVtb3ZlZC4gVGhpcyBpc1xuXHRcdFx0Ly8gYSB2ZXJ5IHJhcmUgZWRnZSBjYXNlLCBhbmQgcmVtb3ZpbmcgdGhlIGF0dHJpYnV0ZSBhbHRvZ2V0aGVyIGlzbid0IHBvc3NpYmxlIGVpdGhlclxuXHRcdFx0Ly8gZm9yIHRoZSA8b3B0aW9uIHZhbHVlPXt1bmRlZmluZWR9PiBjYXNlLCBzbyB3ZSdyZSBub3QgbG9zaW5nIGFueSBmdW5jdGlvbmFsaXR5IGhlcmUuXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRlbGVtZW50LnZhbHVlID0gZWxlbWVudC5fX3ZhbHVlID0gJyc7XG5cdFx0XHRjdXJyZW50W2tleV0gPSB2YWx1ZTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmIChrZXkgPT09ICdjbGFzcycpIHtcblx0XHRcdHZhciBpc19odG1sID0gZWxlbWVudC5uYW1lc3BhY2VVUkkgPT09ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJztcblx0XHRcdHNldF9jbGFzcyhlbGVtZW50LCBpc19odG1sLCB2YWx1ZSwgY3NzX2hhc2gsIHByZXY/LltDTEFTU10sIG5leHRbQ0xBU1NdKTtcblx0XHRcdGN1cnJlbnRba2V5XSA9IHZhbHVlO1xuXHRcdFx0Y3VycmVudFtDTEFTU10gPSBuZXh0W0NMQVNTXTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmIChrZXkgPT09ICdzdHlsZScpIHtcblx0XHRcdHNldF9zdHlsZShlbGVtZW50LCB2YWx1ZSwgcHJldj8uW1NUWUxFXSwgbmV4dFtTVFlMRV0pO1xuXHRcdFx0Y3VycmVudFtrZXldID0gdmFsdWU7XG5cdFx0XHRjdXJyZW50W1NUWUxFXSA9IG5leHRbU1RZTEVdO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0dmFyIHByZXZfdmFsdWUgPSBjdXJyZW50W2tleV07XG5cblx0XHQvLyBTa2lwIGlmIHZhbHVlIGlzIHVuY2hhbmdlZCwgdW5sZXNzIGl0J3MgYHVuZGVmaW5lZGAgYW5kIHRoZSBlbGVtZW50IHN0aWxsIGhhcyB0aGUgYXR0cmlidXRlXG5cdFx0aWYgKHZhbHVlID09PSBwcmV2X3ZhbHVlICYmICEodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShrZXkpKSkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y3VycmVudFtrZXldID0gdmFsdWU7XG5cblx0XHR2YXIgcHJlZml4ID0ga2V5WzBdICsga2V5WzFdOyAvLyB0aGlzIGlzIGZhc3RlciB0aGFuIGtleS5zbGljZSgwLCAyKVxuXHRcdGlmIChwcmVmaXggPT09ICckJCcpIGNvbnRpbnVlO1xuXG5cdFx0aWYgKHByZWZpeCA9PT0gJ29uJykge1xuXHRcdFx0LyoqIEB0eXBlIHt7IGNhcHR1cmU/OiB0cnVlIH19ICovXG5cdFx0XHRjb25zdCBvcHRzID0ge307XG5cdFx0XHRjb25zdCBldmVudF9oYW5kbGVfa2V5ID0gJyQkJyArIGtleTtcblx0XHRcdGxldCBldmVudF9uYW1lID0ga2V5LnNsaWNlKDIpO1xuXHRcdFx0dmFyIGRlbGVnYXRlZCA9IGlzX2RlbGVnYXRlZChldmVudF9uYW1lKTtcblxuXHRcdFx0aWYgKGlzX2NhcHR1cmVfZXZlbnQoZXZlbnRfbmFtZSkpIHtcblx0XHRcdFx0ZXZlbnRfbmFtZSA9IGV2ZW50X25hbWUuc2xpY2UoMCwgLTcpO1xuXHRcdFx0XHRvcHRzLmNhcHR1cmUgPSB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWRlbGVnYXRlZCAmJiBwcmV2X3ZhbHVlKSB7XG5cdFx0XHRcdC8vIExpc3RlbmluZyB0byBzYW1lIGV2ZW50IGJ1dCBkaWZmZXJlbnQgaGFuZGxlciAtPiBvdXIgaGFuZGxlIGZ1bmN0aW9uIGJlbG93IHRha2VzIGNhcmUgb2YgdGhpc1xuXHRcdFx0XHQvLyBJZiB3ZSB3ZXJlIHRvIHJlbW92ZSBhbmQgYWRkIGxpc3RlbmVycyBpbiB0aGlzIGNhc2UsIGl0IGNvdWxkIGhhcHBlbiB0aGF0IHRoZSBldmVudCBpcyBcInN3YWxsb3dlZFwiXG5cdFx0XHRcdC8vICh0aGUgYnJvd3NlciBzZWVtcyB0byBub3Qga25vdyB5ZXQgdGhhdCBhIG5ldyBvbmUgZXhpc3RzIG5vdykgYW5kIGRvZXNuJ3QgcmVhY2ggdGhlIGhhbmRsZXJcblx0XHRcdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvMTE5MDNcblx0XHRcdFx0aWYgKHZhbHVlICE9IG51bGwpIGNvbnRpbnVlO1xuXG5cdFx0XHRcdGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCBjdXJyZW50W2V2ZW50X2hhbmRsZV9rZXldLCBvcHRzKTtcblx0XHRcdFx0Y3VycmVudFtldmVudF9oYW5kbGVfa2V5XSA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh2YWx1ZSAhPSBudWxsKSB7XG5cdFx0XHRcdGlmICghZGVsZWdhdGVkKSB7XG5cdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0ICogQHRoaXMge2FueX1cblx0XHRcdFx0XHQgKiBAcGFyYW0ge0V2ZW50fSBldnRcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRmdW5jdGlvbiBoYW5kbGUoZXZ0KSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50W2tleV0uY2FsbCh0aGlzLCBldnQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGN1cnJlbnRbZXZlbnRfaGFuZGxlX2tleV0gPSBjcmVhdGVfZXZlbnQoZXZlbnRfbmFtZSwgZWxlbWVudCwgaGFuZGxlLCBvcHRzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0ZWxlbWVudFtgX18ke2V2ZW50X25hbWV9YF0gPSB2YWx1ZTtcblx0XHRcdFx0XHRkZWxlZ2F0ZShbZXZlbnRfbmFtZV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGRlbGVnYXRlZCkge1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGVsZW1lbnRbYF9fJHtldmVudF9uYW1lfWBdID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG5cdFx0XHQvLyBhdm9pZCB1c2luZyB0aGUgc2V0dGVyXG5cdFx0XHRzZXRfYXR0cmlidXRlKGVsZW1lbnQsIGtleSwgdmFsdWUpO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnYXV0b2ZvY3VzJykge1xuXHRcdFx0YXV0b2ZvY3VzKC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChlbGVtZW50KSwgQm9vbGVhbih2YWx1ZSkpO1xuXHRcdH0gZWxzZSBpZiAoIWlzX2N1c3RvbV9lbGVtZW50ICYmIChrZXkgPT09ICdfX3ZhbHVlJyB8fCAoa2V5ID09PSAndmFsdWUnICYmIHZhbHVlICE9IG51bGwpKSkge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZSBXZSdyZSBub3QgcnVubmluZyB0aGlzIGZvciBjdXN0b20gZWxlbWVudHMgYmVjYXVzZSBfX3ZhbHVlIGlzIGFjdHVhbGx5XG5cdFx0XHQvLyBob3cgTGl0IHN0b3JlcyB0aGUgY3VycmVudCB2YWx1ZSBvbiB0aGUgZWxlbWVudCwgYW5kIG1lc3Npbmcgd2l0aCB0aGF0IHdvdWxkIGJyZWFrIHRoaW5ncy5cblx0XHRcdGVsZW1lbnQudmFsdWUgPSBlbGVtZW50Ll9fdmFsdWUgPSB2YWx1ZTtcblx0XHR9IGVsc2UgaWYgKGtleSA9PT0gJ3NlbGVjdGVkJyAmJiBpc19vcHRpb25fZWxlbWVudCkge1xuXHRcdFx0c2V0X3NlbGVjdGVkKC8qKiBAdHlwZSB7SFRNTE9wdGlvbkVsZW1lbnR9ICovIChlbGVtZW50KSwgdmFsdWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgbmFtZSA9IGtleTtcblx0XHRcdGlmICghcHJlc2VydmVfYXR0cmlidXRlX2Nhc2UpIHtcblx0XHRcdFx0bmFtZSA9IG5vcm1hbGl6ZV9hdHRyaWJ1dGUobmFtZSk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBpc19kZWZhdWx0ID0gbmFtZSA9PT0gJ2RlZmF1bHRWYWx1ZScgfHwgbmFtZSA9PT0gJ2RlZmF1bHRDaGVja2VkJztcblxuXHRcdFx0aWYgKHZhbHVlID09IG51bGwgJiYgIWlzX2N1c3RvbV9lbGVtZW50ICYmICFpc19kZWZhdWx0KSB7XG5cdFx0XHRcdGF0dHJpYnV0ZXNba2V5XSA9IG51bGw7XG5cblx0XHRcdFx0aWYgKG5hbWUgPT09ICd2YWx1ZScgfHwgbmFtZSA9PT0gJ2NoZWNrZWQnKSB7XG5cdFx0XHRcdFx0Ly8gcmVtb3ZpbmcgdmFsdWUvY2hlY2tlZCBhbHNvIHJlbW92ZXMgZGVmYXVsdFZhbHVlL2RlZmF1bHRDaGVja2VkIOKAlCBwcmVzZXJ2ZVxuXHRcdFx0XHRcdGxldCBpbnB1dCA9IC8qKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudH0gKi8gKGVsZW1lbnQpO1xuXHRcdFx0XHRcdGNvbnN0IHVzZV9kZWZhdWx0ID0gcHJldiA9PT0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGlmIChuYW1lID09PSAndmFsdWUnKSB7XG5cdFx0XHRcdFx0XHRsZXQgcHJldmlvdXMgPSBpbnB1dC5kZWZhdWx0VmFsdWU7XG5cdFx0XHRcdFx0XHRpbnB1dC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG5cdFx0XHRcdFx0XHRpbnB1dC5kZWZhdWx0VmFsdWUgPSBwcmV2aW91cztcblx0XHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRcdGlucHV0LnZhbHVlID0gaW5wdXQuX192YWx1ZSA9IHVzZV9kZWZhdWx0ID8gcHJldmlvdXMgOiBudWxsO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRsZXQgcHJldmlvdXMgPSBpbnB1dC5kZWZhdWx0Q2hlY2tlZDtcblx0XHRcdFx0XHRcdGlucHV0LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcblx0XHRcdFx0XHRcdGlucHV0LmRlZmF1bHRDaGVja2VkID0gcHJldmlvdXM7XG5cdFx0XHRcdFx0XHRpbnB1dC5jaGVja2VkID0gdXNlX2RlZmF1bHQgPyBwcmV2aW91cyA6IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHRpc19kZWZhdWx0IHx8XG5cdFx0XHRcdChzZXR0ZXJzLmluY2x1ZGVzKG5hbWUpICYmIChpc19jdXN0b21fZWxlbWVudCB8fCB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSlcblx0XHRcdCkge1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGVsZW1lbnRbbmFtZV0gPSB2YWx1ZTtcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHNldF9hdHRyaWJ1dGUoZWxlbWVudCwgbmFtZSwgdmFsdWUsIHNraXBfd2FybmluZyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKGlzX2h5ZHJhdGluZ19jdXN0b21fZWxlbWVudCkge1xuXHRcdHNldF9oeWRyYXRpbmcodHJ1ZSk7XG5cdH1cblxuXHRyZXR1cm4gY3VycmVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IGVsZW1lbnRcbiAqIEBwYXJhbSB7KC4uLmV4cHJlc3Npb25zOiBhbnkpID0+IFJlY29yZDxzdHJpbmcgfCBzeW1ib2wsIGFueT59IGZuXG4gKiBAcGFyYW0ge0FycmF5PCgpID0+IGFueT59IHN5bmNcbiAqIEBwYXJhbSB7QXJyYXk8KCkgPT4gUHJvbWlzZTxhbnk+Pn0gYXN5bmNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY3NzX2hhc2hdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwX3dhcm5pbmddXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRyaWJ1dGVfZWZmZWN0KFxuXHRlbGVtZW50LFxuXHRmbixcblx0c3luYyA9IFtdLFxuXHRhc3luYyA9IFtdLFxuXHRjc3NfaGFzaCxcblx0c2tpcF93YXJuaW5nID0gZmFsc2Vcbikge1xuXHRmbGF0dGVuKHN5bmMsIGFzeW5jLCAodmFsdWVzKSA9PiB7XG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+IHwgdW5kZWZpbmVkfSAqL1xuXHRcdHZhciBwcmV2ID0gdW5kZWZpbmVkO1xuXG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3ltYm9sLCBFZmZlY3Q+fSAqL1xuXHRcdHZhciBlZmZlY3RzID0ge307XG5cblx0XHR2YXIgaXNfc2VsZWN0ID0gZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1NFTEVDVCc7XG5cdFx0dmFyIGluaXRlZCA9IGZhbHNlO1xuXG5cdFx0YmxvY2soKCkgPT4ge1xuXHRcdFx0dmFyIG5leHQgPSBmbiguLi52YWx1ZXMubWFwKGdldCkpO1xuXHRcdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+fSAqL1xuXHRcdFx0dmFyIGN1cnJlbnQgPSBzZXRfYXR0cmlidXRlcyhlbGVtZW50LCBwcmV2LCBuZXh0LCBjc3NfaGFzaCwgc2tpcF93YXJuaW5nKTtcblxuXHRcdFx0aWYgKGluaXRlZCAmJiBpc19zZWxlY3QgJiYgJ3ZhbHVlJyBpbiBuZXh0KSB7XG5cdFx0XHRcdHNlbGVjdF9vcHRpb24oLyoqIEB0eXBlIHtIVE1MU2VsZWN0RWxlbWVudH0gKi8gKGVsZW1lbnQpLCBuZXh0LnZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChsZXQgc3ltYm9sIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZWZmZWN0cykpIHtcblx0XHRcdFx0aWYgKCFuZXh0W3N5bWJvbF0pIGRlc3Ryb3lfZWZmZWN0KGVmZmVjdHNbc3ltYm9sXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAobGV0IHN5bWJvbCBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG5leHQpKSB7XG5cdFx0XHRcdHZhciBuID0gbmV4dFtzeW1ib2xdO1xuXG5cdFx0XHRcdGlmIChzeW1ib2wuZGVzY3JpcHRpb24gPT09IEFUVEFDSE1FTlRfS0VZICYmICghcHJldiB8fCBuICE9PSBwcmV2W3N5bWJvbF0pKSB7XG5cdFx0XHRcdFx0aWYgKGVmZmVjdHNbc3ltYm9sXSkgZGVzdHJveV9lZmZlY3QoZWZmZWN0c1tzeW1ib2xdKTtcblx0XHRcdFx0XHRlZmZlY3RzW3N5bWJvbF0gPSBicmFuY2goKCkgPT4gYXR0YWNoKGVsZW1lbnQsICgpID0+IG4pKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN1cnJlbnRbc3ltYm9sXSA9IG47XG5cdFx0XHR9XG5cblx0XHRcdHByZXYgPSBjdXJyZW50O1xuXHRcdH0pO1xuXG5cdFx0aWYgKGlzX3NlbGVjdCkge1xuXHRcdFx0dmFyIHNlbGVjdCA9IC8qKiBAdHlwZSB7SFRNTFNlbGVjdEVsZW1lbnR9ICovIChlbGVtZW50KTtcblxuXHRcdFx0ZWZmZWN0KCgpID0+IHtcblx0XHRcdFx0c2VsZWN0X29wdGlvbihzZWxlY3QsIC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgYW55Pn0gKi8gKHByZXYpLnZhbHVlLCB0cnVlKTtcblx0XHRcdFx0aW5pdF9zZWxlY3Qoc2VsZWN0KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGluaXRlZCA9IHRydWU7XG5cdH0pO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0X2F0dHJpYnV0ZXMoZWxlbWVudCkge1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCB1bmtub3duPn0gKiovIChcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudC5fX2F0dHJpYnV0ZXMgPz89IHtcblx0XHRcdFtJU19DVVNUT01fRUxFTUVOVF06IGVsZW1lbnQubm9kZU5hbWUuaW5jbHVkZXMoJy0nKSxcblx0XHRcdFtJU19IVE1MXTogZWxlbWVudC5uYW1lc3BhY2VVUkkgPT09IE5BTUVTUEFDRV9IVE1MXG5cdFx0fVxuXHQpO1xufVxuXG4vKiogQHR5cGUge01hcDxzdHJpbmcsIHN0cmluZ1tdPn0gKi9cbnZhciBzZXR0ZXJzX2NhY2hlID0gbmV3IE1hcCgpO1xuXG4vKiogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50ICovXG5mdW5jdGlvbiBnZXRfc2V0dGVycyhlbGVtZW50KSB7XG5cdHZhciBzZXR0ZXJzID0gc2V0dGVyc19jYWNoZS5nZXQoZWxlbWVudC5ub2RlTmFtZSk7XG5cdGlmIChzZXR0ZXJzKSByZXR1cm4gc2V0dGVycztcblx0c2V0dGVyc19jYWNoZS5zZXQoZWxlbWVudC5ub2RlTmFtZSwgKHNldHRlcnMgPSBbXSkpO1xuXG5cdHZhciBkZXNjcmlwdG9ycztcblx0dmFyIHByb3RvID0gZWxlbWVudDsgLy8gSW4gdGhlIGNhc2Ugb2YgY3VzdG9tIGVsZW1lbnRzIHRoZXJlIG1pZ2h0IGJlIHNldHRlcnMgb24gdGhlIGluc3RhbmNlXG5cdHZhciBlbGVtZW50X3Byb3RvID0gRWxlbWVudC5wcm90b3R5cGU7XG5cblx0Ly8gU3RvcCBhdCBFbGVtZW50LCBmcm9tIHRoZXJlIG9uIHRoZXJlJ3Mgb25seSB1bm5lY2Vzc2FyeSBzZXR0ZXJzIHdlJ3JlIG5vdCBpbnRlcmVzdGVkIGluXG5cdC8vIERvIG5vdCB1c2UgY29udHJ1Y3Rvci5uYW1lIGhlcmUgYXMgdGhhdCdzIHVucmVsaWFibGUgaW4gc29tZSBicm93c2VyIGVudmlyb25tZW50c1xuXHR3aGlsZSAoZWxlbWVudF9wcm90byAhPT0gcHJvdG8pIHtcblx0XHRkZXNjcmlwdG9ycyA9IGdldF9kZXNjcmlwdG9ycyhwcm90byk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZGVzY3JpcHRvcnMpIHtcblx0XHRcdGlmIChkZXNjcmlwdG9yc1trZXldLnNldCkge1xuXHRcdFx0XHRzZXR0ZXJzLnB1c2goa2V5KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRwcm90byA9IGdldF9wcm90b3R5cGVfb2YocHJvdG8pO1xuXHR9XG5cblx0cmV0dXJuIHNldHRlcnM7XG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5mdW5jdGlvbiBjaGVja19zcmNfaW5fZGV2X2h5ZHJhdGlvbihlbGVtZW50LCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdGlmICghREVWKSByZXR1cm47XG5cdGlmIChhdHRyaWJ1dGUgPT09ICdzcmNzZXQnICYmIHNyY3NldF91cmxfZXF1YWwoZWxlbWVudCwgdmFsdWUpKSByZXR1cm47XG5cdGlmIChzcmNfdXJsX2VxdWFsKGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkgPz8gJycsIHZhbHVlKSkgcmV0dXJuO1xuXG5cdHcuaHlkcmF0aW9uX2F0dHJpYnV0ZV9jaGFuZ2VkKFxuXHRcdGF0dHJpYnV0ZSxcblx0XHRlbGVtZW50Lm91dGVySFRNTC5yZXBsYWNlKGVsZW1lbnQuaW5uZXJIVE1MLCBlbGVtZW50LmlubmVySFRNTCAmJiAnLi4uJyksXG5cdFx0U3RyaW5nKHZhbHVlKVxuXHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50X3NyY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHNyY191cmxfZXF1YWwoZWxlbWVudF9zcmMsIHVybCkge1xuXHRpZiAoZWxlbWVudF9zcmMgPT09IHVybCkgcmV0dXJuIHRydWU7XG5cdHJldHVybiBuZXcgVVJMKGVsZW1lbnRfc3JjLCBkb2N1bWVudC5iYXNlVVJJKS5ocmVmID09PSBuZXcgVVJMKHVybCwgZG9jdW1lbnQuYmFzZVVSSSkuaHJlZjtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBzcmNzZXQgKi9cbmZ1bmN0aW9uIHNwbGl0X3NyY3NldChzcmNzZXQpIHtcblx0cmV0dXJuIHNyY3NldC5zcGxpdCgnLCcpLm1hcCgoc3JjKSA9PiBzcmMudHJpbSgpLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTb3VyY2VFbGVtZW50IHwgSFRNTEltYWdlRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IHNyY3NldFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHNyY3NldF91cmxfZXF1YWwoZWxlbWVudCwgc3Jjc2V0KSB7XG5cdHZhciBlbGVtZW50X3VybHMgPSBzcGxpdF9zcmNzZXQoZWxlbWVudC5zcmNzZXQpO1xuXHR2YXIgdXJscyA9IHNwbGl0X3NyY3NldChzcmNzZXQpO1xuXG5cdHJldHVybiAoXG5cdFx0dXJscy5sZW5ndGggPT09IGVsZW1lbnRfdXJscy5sZW5ndGggJiZcblx0XHR1cmxzLmV2ZXJ5KFxuXHRcdFx0KFt1cmwsIHdpZHRoXSwgaSkgPT5cblx0XHRcdFx0d2lkdGggPT09IGVsZW1lbnRfdXJsc1tpXVsxXSAmJlxuXHRcdFx0XHQvLyBXZSBuZWVkIHRvIHRlc3QgYm90aCB3YXlzIGJlY2F1c2UgVml0ZSB3aWxsIGNyZWF0ZSBhbiBhIGZ1bGwgVVJMIHdpdGhcblx0XHRcdFx0Ly8gYG5ldyBVUkwoYXNzZXQsIGltcG9ydC5tZXRhLnVybCkuaHJlZmAgZm9yIHRoZSBjbGllbnQgd2hlbiBgYmFzZTogJy4vJ2AsIGFuZCB0aGVcblx0XHRcdFx0Ly8gcmVsYXRpdmUgVVJMcyBpbnNpZGUgc3Jjc2V0IGFyZSBub3QgYXV0b21hdGljYWxseSByZXNvbHZlZCB0byBhYnNvbHV0ZSBVUkxzIGJ5XG5cdFx0XHRcdC8vIGJyb3dzZXJzIChpbiBjb250cmFzdCB0byBpbWcuc3JjKS4gVGhpcyBtZWFucyBib3RoIFNTUiBhbmQgRE9NIGNvZGUgY291bGRcblx0XHRcdFx0Ly8gY29udGFpbiByZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkxzLlxuXHRcdFx0XHQoc3JjX3VybF9lcXVhbChlbGVtZW50X3VybHNbaV1bMF0sIHVybCkgfHwgc3JjX3VybF9lcXVhbCh1cmwsIGVsZW1lbnRfdXJsc1tpXVswXSkpXG5cdFx0KVxuXHQpO1xufVxuIiwiaW1wb3J0IHsgU1RBVEVfU1lNQk9MIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHsgZWZmZWN0LCByZW5kZXJfZWZmZWN0IH0gZnJvbSAnLi4vLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IHVudHJhY2sgfSBmcm9tICcuLi8uLi8uLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IHF1ZXVlX21pY3JvX3Rhc2sgfSBmcm9tICcuLi8uLi90YXNrLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gYm91bmRfdmFsdWVcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudF9vcl9jb21wb25lbnRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc19ib3VuZF90aGlzKGJvdW5kX3ZhbHVlLCBlbGVtZW50X29yX2NvbXBvbmVudCkge1xuXHRyZXR1cm4gKFxuXHRcdGJvdW5kX3ZhbHVlID09PSBlbGVtZW50X29yX2NvbXBvbmVudCB8fCBib3VuZF92YWx1ZT8uW1NUQVRFX1NZTUJPTF0gPT09IGVsZW1lbnRfb3JfY29tcG9uZW50XG5cdCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IGVsZW1lbnRfb3JfY29tcG9uZW50XG4gKiBAcGFyYW0geyh2YWx1ZTogdW5rbm93biwgLi4ucGFydHM6IHVua25vd25bXSkgPT4gdm9pZH0gdXBkYXRlXG4gKiBAcGFyYW0geyguLi5wYXJ0czogdW5rbm93bltdKSA9PiB1bmtub3dufSBnZXRfdmFsdWVcbiAqIEBwYXJhbSB7KCkgPT4gdW5rbm93bltdfSBbZ2V0X3BhcnRzXSBTZXQgaWYgdGhlIHRoaXMgYmluZGluZyBpcyB1c2VkIGluc2lkZSBhbiBlYWNoIGJsb2NrLFxuICogXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5zIGFsbCB0aGUgcGFydHMgb2YgdGhlIGVhY2ggYmxvY2sgY29udGV4dCB0aGF0IGFyZSB1c2VkIGluIHRoZSBleHByZXNzaW9uXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRfdGhpcyhlbGVtZW50X29yX2NvbXBvbmVudCA9IHt9LCB1cGRhdGUsIGdldF92YWx1ZSwgZ2V0X3BhcnRzKSB7XG5cdGVmZmVjdCgoKSA9PiB7XG5cdFx0LyoqIEB0eXBlIHt1bmtub3duW119ICovXG5cdFx0dmFyIG9sZF9wYXJ0cztcblxuXHRcdC8qKiBAdHlwZSB7dW5rbm93bltdfSAqL1xuXHRcdHZhciBwYXJ0cztcblxuXHRcdHJlbmRlcl9lZmZlY3QoKCkgPT4ge1xuXHRcdFx0b2xkX3BhcnRzID0gcGFydHM7XG5cdFx0XHQvLyBXZSBvbmx5IHRyYWNrIGNoYW5nZXMgdG8gdGhlIHBhcnRzLCBub3QgdGhlIHZhbHVlIGl0c2VsZiB0byBhdm9pZCB1bm5lY2Vzc2FyeSByZXJ1bnMuXG5cdFx0XHRwYXJ0cyA9IGdldF9wYXJ0cz8uKCkgfHwgW107XG5cblx0XHRcdHVudHJhY2soKCkgPT4ge1xuXHRcdFx0XHRpZiAoZWxlbWVudF9vcl9jb21wb25lbnQgIT09IGdldF92YWx1ZSguLi5wYXJ0cykpIHtcblx0XHRcdFx0XHR1cGRhdGUoZWxlbWVudF9vcl9jb21wb25lbnQsIC4uLnBhcnRzKTtcblx0XHRcdFx0XHQvLyBJZiB0aGlzIGlzIGFuIGVmZmVjdCByZXJ1biAoY2F1c2U6IGVhY2ggYmxvY2sgY29udGV4dCBjaGFuZ2VzKSwgdGhlbiBudWxsZml5IHRoZSBiaW5kaW5nIGF0XG5cdFx0XHRcdFx0Ly8gdGhlIHByZXZpb3VzIHBvc2l0aW9uIGlmIGl0IGlzbid0IGFscmVhZHkgdGFrZW4gb3ZlciBieSBhIGRpZmZlcmVudCBlZmZlY3QuXG5cdFx0XHRcdFx0aWYgKG9sZF9wYXJ0cyAmJiBpc19ib3VuZF90aGlzKGdldF92YWx1ZSguLi5vbGRfcGFydHMpLCBlbGVtZW50X29yX2NvbXBvbmVudCkpIHtcblx0XHRcdFx0XHRcdHVwZGF0ZShudWxsLCAuLi5vbGRfcGFydHMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0Ly8gV2UgY2Fubm90IHVzZSBlZmZlY3RzIGluIHRoZSB0ZWFyZG93biBwaGFzZSwgd2Ugd2UgdXNlIGEgbWljcm90YXNrIGluc3RlYWQuXG5cdFx0XHRxdWV1ZV9taWNyb190YXNrKCgpID0+IHtcblx0XHRcdFx0aWYgKHBhcnRzICYmIGlzX2JvdW5kX3RoaXMoZ2V0X3ZhbHVlKC4uLnBhcnRzKSwgZWxlbWVudF9vcl9jb21wb25lbnQpKSB7XG5cdFx0XHRcdFx0dXBkYXRlKG51bGwsIC4uLnBhcnRzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fTtcblx0fSk7XG5cblx0cmV0dXJuIGVsZW1lbnRfb3JfY29tcG9uZW50O1xufVxuIiwiLyoqIEBpbXBvcnQgeyBDb21wb25lbnRDb250ZXh0TGVnYWN5IH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IHJ1biwgcnVuX2FsbCB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBjb21wb25lbnRfY29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgZGVyaXZlZCB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvZGVyaXZlZHMuanMnO1xuaW1wb3J0IHsgdXNlcl9wcmVfZWZmZWN0LCB1c2VyX2VmZmVjdCB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBkZWVwX3JlYWRfc3RhdGUsIGdldCwgdW50cmFjayB9IGZyb20gJy4uLy4uL3J1bnRpbWUuanMnO1xuXG4vKipcbiAqIExlZ2FjeS1tb2RlIG9ubHk6IENhbGwgYG9uTW91bnRgIGNhbGxiYWNrcyBhbmQgc2V0IHVwIGBiZWZvcmVVcGRhdGVgL2BhZnRlclVwZGF0ZWAgZWZmZWN0c1xuICogQHBhcmFtIHtib29sZWFufSBbaW1tdXRhYmxlXVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChpbW11dGFibGUgPSBmYWxzZSkge1xuXHRjb25zdCBjb250ZXh0ID0gLyoqIEB0eXBlIHtDb21wb25lbnRDb250ZXh0TGVnYWN5fSAqLyAoY29tcG9uZW50X2NvbnRleHQpO1xuXG5cdGNvbnN0IGNhbGxiYWNrcyA9IGNvbnRleHQubC51O1xuXHRpZiAoIWNhbGxiYWNrcykgcmV0dXJuO1xuXG5cdGxldCBwcm9wcyA9ICgpID0+IGRlZXBfcmVhZF9zdGF0ZShjb250ZXh0LnMpO1xuXG5cdGlmIChpbW11dGFibGUpIHtcblx0XHRsZXQgdmVyc2lvbiA9IDA7XG5cdFx0bGV0IHByZXYgPSAvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIGFueT59ICovICh7fSk7XG5cblx0XHQvLyBJbiBsZWdhY3kgaW1tdXRhYmxlIG1vZGUsIGJlZm9yZS9hZnRlclVwZGF0ZSBvbmx5IGZpcmUgaWYgdGhlIG9iamVjdCBpZGVudGl0eSBvZiBhIHByb3AgY2hhbmdlc1xuXHRcdGNvbnN0IGQgPSBkZXJpdmVkKCgpID0+IHtcblx0XHRcdGxldCBjaGFuZ2VkID0gZmFsc2U7XG5cdFx0XHRjb25zdCBwcm9wcyA9IGNvbnRleHQucztcblx0XHRcdGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG5cdFx0XHRcdGlmIChwcm9wc1trZXldICE9PSBwcmV2W2tleV0pIHtcblx0XHRcdFx0XHRwcmV2W2tleV0gPSBwcm9wc1trZXldO1xuXHRcdFx0XHRcdGNoYW5nZWQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoY2hhbmdlZCkgdmVyc2lvbisrO1xuXHRcdFx0cmV0dXJuIHZlcnNpb247XG5cdFx0fSk7XG5cblx0XHRwcm9wcyA9ICgpID0+IGdldChkKTtcblx0fVxuXG5cdC8vIGJlZm9yZVVwZGF0ZVxuXHRpZiAoY2FsbGJhY2tzLmIubGVuZ3RoKSB7XG5cdFx0dXNlcl9wcmVfZWZmZWN0KCgpID0+IHtcblx0XHRcdG9ic2VydmVfYWxsKGNvbnRleHQsIHByb3BzKTtcblx0XHRcdHJ1bl9hbGwoY2FsbGJhY2tzLmIpO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gb25Nb3VudCAobXVzdCBydW4gYmVmb3JlIGFmdGVyVXBkYXRlKVxuXHR1c2VyX2VmZmVjdCgoKSA9PiB7XG5cdFx0Y29uc3QgZm5zID0gdW50cmFjaygoKSA9PiBjYWxsYmFja3MubS5tYXAocnVuKSk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGZvciAoY29uc3QgZm4gb2YgZm5zKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRmbigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fSk7XG5cblx0Ly8gYWZ0ZXJVcGRhdGVcblx0aWYgKGNhbGxiYWNrcy5hLmxlbmd0aCkge1xuXHRcdHVzZXJfZWZmZWN0KCgpID0+IHtcblx0XHRcdG9ic2VydmVfYWxsKGNvbnRleHQsIHByb3BzKTtcblx0XHRcdHJ1bl9hbGwoY2FsbGJhY2tzLmEpO1xuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogSW52b2tlIHRoZSBnZXR0ZXIgb2YgYWxsIHNpZ25hbHMgYXNzb2NpYXRlZCB3aXRoIGEgY29tcG9uZW50XG4gKiBzbyB0aGV5IGNhbiBiZSByZWdpc3RlcmVkIHRvIHRoZSBlZmZlY3QgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgaW4uXG4gKiBAcGFyYW0ge0NvbXBvbmVudENvbnRleHRMZWdhY3l9IGNvbnRleHRcbiAqIEBwYXJhbSB7KCgpID0+IHZvaWQpfSBwcm9wc1xuICovXG5mdW5jdGlvbiBvYnNlcnZlX2FsbChjb250ZXh0LCBwcm9wcykge1xuXHRpZiAoY29udGV4dC5sLnMpIHtcblx0XHRmb3IgKGNvbnN0IHNpZ25hbCBvZiBjb250ZXh0LmwucykgZ2V0KHNpZ25hbCk7XG5cdH1cblxuXHRwcm9wcygpO1xufVxuIiwiaW1wb3J0IHsgc2V0LCBzb3VyY2UgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L3NvdXJjZXMuanMnO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnLi4vLi4vcnVudGltZS5qcyc7XG5pbXBvcnQgeyBpc19hcnJheSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5cbi8qKlxuICogVW5kZXIgc29tZSBjaXJjdW1zdGFuY2VzLCBpbXBvcnRzIG1heSBiZSByZWFjdGl2ZSBpbiBsZWdhY3kgbW9kZS4gSW4gdGhhdCBjYXNlLFxuICogdGhleSBzaG91bGQgYmUgdXNpbmcgYHJlYWN0aXZlX2ltcG9ydGAgYXMgcGFydCBvZiB0aGUgdHJhbnNmb3JtYXRpb25cbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhY3RpdmVfaW1wb3J0KGZuKSB7XG5cdHZhciBzID0gc291cmNlKDApO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcblx0XHRcdHNldChzLCBnZXQocykgKyAxKTtcblx0XHRcdHJldHVybiBhcmd1bWVudHNbMF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGdldChzKTtcblx0XHRcdHJldHVybiBmbigpO1xuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBAdGhpcyB7YW55fVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPn0gJCRwcm9wc1xuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYnViYmxlX2V2ZW50KCQkcHJvcHMsIGV2ZW50KSB7XG5cdHZhciBldmVudHMgPSAvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEZ1bmN0aW9uW10gfCBGdW5jdGlvbj59ICovICgkJHByb3BzLiQkZXZlbnRzKT8uW1xuXHRcdGV2ZW50LnR5cGVcblx0XTtcblxuXHR2YXIgY2FsbGJhY2tzID0gaXNfYXJyYXkoZXZlbnRzKSA/IGV2ZW50cy5zbGljZSgpIDogZXZlbnRzID09IG51bGwgPyBbXSA6IFtldmVudHNdO1xuXG5cdGZvciAodmFyIGZuIG9mIGNhbGxiYWNrcykge1xuXHRcdC8vIFByZXNlcnZlIFwidGhpc1wiIGNvbnRleHRcblx0XHRmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fVxufVxuXG4vKipcbiAqIFVzZWQgdG8gc2ltdWxhdGUgYCRvbmAgb24gYSBjb21wb25lbnQgaW5zdGFuY2Ugd2hlbiBgY29tcGF0aWJpbGl0eS5jb21wb25lbnRBcGkgPT09IDRgXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIGFueT59ICQkcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudF9uYW1lXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBldmVudF9jYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX2xlZ2FjeV9ldmVudF9saXN0ZW5lcigkJHByb3BzLCBldmVudF9uYW1lLCBldmVudF9jYWxsYmFjaykge1xuXHQkJHByb3BzLiQkZXZlbnRzIHx8PSB7fTtcblx0JCRwcm9wcy4kJGV2ZW50c1tldmVudF9uYW1lXSB8fD0gW107XG5cdCQkcHJvcHMuJCRldmVudHNbZXZlbnRfbmFtZV0ucHVzaChldmVudF9jYWxsYmFjayk7XG59XG5cbi8qKlxuICogVXNlZCB0byBzaW11bGF0ZSBgJHNldGAgb24gYSBjb21wb25lbnQgaW5zdGFuY2Ugd2hlbiBgY29tcGF0aWJpbGl0eS5jb21wb25lbnRBcGkgPT09IDRgLlxuICogTmVlZHMgY29tcG9uZW50IGFjY2Vzc29ycyBzbyB0aGF0IGl0IGNhbiBjYWxsIHRoZSBzZXR0ZXIgb2YgdGhlIHByb3AuIFRoZXJlZm9yZSBkb2Vzbid0XG4gKiB3b3JrIGZvciB1cGRhdGluZyBwcm9wcyBpbiBgJCRwcm9wc2Agb3IgYCQkcmVzdFByb3BzYC5cbiAqIEB0aGlzIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSAkJG5ld19wcm9wc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX2xlZ2FjeV9wcm9wcygkJG5ld19wcm9wcykge1xuXHRmb3IgKHZhciBrZXkgaW4gJCRuZXdfcHJvcHMpIHtcblx0XHRpZiAoa2V5IGluIHRoaXMpIHtcblx0XHRcdHRoaXNba2V5XSA9ICQkbmV3X3Byb3BzW2tleV07XG5cdFx0fVxuXHR9XG59XG4iLCIvKiogQGltcG9ydCB7IFN0b3JlUmVmZXJlbmNlc0NvbnRhaW5lciB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IFN0b3JlIH0gZnJvbSAnI3NoYXJlZCcgKi9cbmltcG9ydCB7IHN1YnNjcmliZV90b19zdG9yZSB9IGZyb20gJy4uLy4uLy4uL3N0b3JlL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldCBhcyBnZXRfc3RvcmUgfSBmcm9tICcuLi8uLi8uLi9zdG9yZS9zaGFyZWQvaW5kZXguanMnO1xuaW1wb3J0IHsgZGVmaW5lX3Byb3BlcnR5LCBub29wIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldCB9IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgdGVhcmRvd24gfSBmcm9tICcuL2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgbXV0YWJsZV9zb3VyY2UsIHNldCB9IGZyb20gJy4vc291cmNlcy5qcyc7XG5cbi8qKlxuICogV2hldGhlciBvciBub3QgdGhlIHByb3AgY3VycmVudGx5IGJlaW5nIHJlYWQgaXMgYSBzdG9yZSBiaW5kaW5nLCBhcyBpblxuICogYDxDaGlsZCBiaW5kOng9eyR5fSAvPmAuIElmIGl0IGlzLCB3ZSB0cmVhdCB0aGUgcHJvcCBhcyBtdXRhYmxlIGV2ZW4gaW5cbiAqIHJ1bmVzIG1vZGUsIGFuZCBza2lwIGBiaW5kaW5nX3Byb3BlcnR5X25vbl9yZWFjdGl2ZWAgdmFsaWRhdGlvblxuICovXG5sZXQgaXNfc3RvcmVfYmluZGluZyA9IGZhbHNlO1xuXG5sZXQgSVNfVU5NT1VOVEVEID0gU3ltYm9sKCk7XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCB2YWx1ZSBvZiBhIHN0b3JlLiBJZiB0aGUgc3RvcmUgaXNuJ3Qgc3Vic2NyaWJlZCB0byB5ZXQsIGl0IHdpbGwgY3JlYXRlIGEgcHJveHlcbiAqIHNpZ25hbCB0aGF0IHdpbGwgYmUgdXBkYXRlZCB3aGVuIHRoZSBzdG9yZSBpcy4gVGhlIHN0b3JlIHJlZmVyZW5jZXMgY29udGFpbmVyIGlzIG5lZWRlZCB0b1xuICogdHJhY2sgcmVhc3NpZ25tZW50cyB0byBzdG9yZXMgYW5kIHRvIHRyYWNrIHRoZSBjb3JyZWN0IGNvbXBvbmVudCBjb250ZXh0LlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7U3RvcmU8Vj4gfCBudWxsIHwgdW5kZWZpbmVkfSBzdG9yZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlX25hbWVcbiAqIEBwYXJhbSB7U3RvcmVSZWZlcmVuY2VzQ29udGFpbmVyfSBzdG9yZXNcbiAqIEByZXR1cm5zIHtWfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVfZ2V0KHN0b3JlLCBzdG9yZV9uYW1lLCBzdG9yZXMpIHtcblx0Y29uc3QgZW50cnkgPSAoc3RvcmVzW3N0b3JlX25hbWVdID8/PSB7XG5cdFx0c3RvcmU6IG51bGwsXG5cdFx0c291cmNlOiBtdXRhYmxlX3NvdXJjZSh1bmRlZmluZWQpLFxuXHRcdHVuc3Vic2NyaWJlOiBub29wXG5cdH0pO1xuXG5cdC8vIGlmIHRoZSBjb21wb25lbnQgdGhhdCBzZXR1cCB0aGlzIGlzIGFscmVhZHkgdW5tb3VudGVkIHdlIGRvbid0IHdhbnQgdG8gcmVnaXN0ZXIgYSBzdWJzY3JpcHRpb25cblx0aWYgKGVudHJ5LnN0b3JlICE9PSBzdG9yZSAmJiAhKElTX1VOTU9VTlRFRCBpbiBzdG9yZXMpKSB7XG5cdFx0ZW50cnkudW5zdWJzY3JpYmUoKTtcblx0XHRlbnRyeS5zdG9yZSA9IHN0b3JlID8/IG51bGw7XG5cblx0XHRpZiAoc3RvcmUgPT0gbnVsbCkge1xuXHRcdFx0ZW50cnkuc291cmNlLnYgPSB1bmRlZmluZWQ7IC8vIHNlZSBzeW5jaHJvbm91cyBjYWxsYmFjayBjb21tZW50IGJlbG93XG5cdFx0XHRlbnRyeS51bnN1YnNjcmliZSA9IG5vb3A7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBpc19zeW5jaHJvbm91c19jYWxsYmFjayA9IHRydWU7XG5cblx0XHRcdGVudHJ5LnVuc3Vic2NyaWJlID0gc3Vic2NyaWJlX3RvX3N0b3JlKHN0b3JlLCAodikgPT4ge1xuXHRcdFx0XHRpZiAoaXNfc3luY2hyb25vdXNfY2FsbGJhY2spIHtcblx0XHRcdFx0XHQvLyBJZiB0aGUgZmlyc3QgdXBkYXRlcyB0byB0aGUgc3RvcmUgdmFsdWUgKHBvc3NpYmx5IG11bHRpcGxlIG9mIHRoZW0pIGFyZSBzeW5jaHJvbm91c2x5XG5cdFx0XHRcdFx0Ly8gaW5zaWRlIGEgZGVyaXZlZCwgd2Ugd2lsbCBoaXQgdGhlIGBzdGF0ZV91bnNhZmVfbXV0YXRpb25gIGVycm9yIGlmIHdlIGBzZXRgIHRoZSB2YWx1ZVxuXHRcdFx0XHRcdGVudHJ5LnNvdXJjZS52ID0gdjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZXQoZW50cnkuc291cmNlLCB2KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGlzX3N5bmNocm9ub3VzX2NhbGxiYWNrID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0Ly8gaWYgdGhlIGNvbXBvbmVudCB0aGF0IHNldHVwIHRoaXMgc3RvcmVzIGlzIGFscmVhZHkgdW5tb3VudGVkIHRoZSBzb3VyY2Ugd2lsbCBiZSBvdXQgb2Ygc3luY1xuXHQvLyBzbyB3ZSBqdXN0IHVzZSB0aGUgYGdldGAgZm9yIHRoZSBzdG9yZXMsIGxlc3MgcGVyZm9ybWFudCBidXQgaXQgYXZvaWRzIHRvIGNyZWF0ZSBhIG1lbW9yeSBsZWFrXG5cdC8vIGFuZCBpdCB3aWxsIGtlZXAgdGhlIHZhbHVlIGNvbnNpc3RlbnRcblx0aWYgKHN0b3JlICYmIElTX1VOTU9VTlRFRCBpbiBzdG9yZXMpIHtcblx0XHRyZXR1cm4gZ2V0X3N0b3JlKHN0b3JlKTtcblx0fVxuXG5cdHJldHVybiBnZXQoZW50cnkuc291cmNlKTtcbn1cblxuLyoqXG4gKiBVbnN1YnNjcmliZSBmcm9tIGEgc3RvcmUgaWYgaXQncyBub3QgdGhlIHNhbWUgYXMgdGhlIG9uZSBpbiB0aGUgc3RvcmUgcmVmZXJlbmNlcyBjb250YWluZXIuXG4gKiBXZSBuZWVkIHRoaXMgaW4gYWRkaXRpb24gdG8gYHN0b3JlX2dldGAgYmVjYXVzZSBzb21lb25lIGNvdWxkIHVuc3Vic2NyaWJlIGZyb20gYSBzdG9yZSBidXRcbiAqIHRoZW4gbmV2ZXIgc3Vic2NyaWJlIHRvIHRoZSBuZXcgb25lIChpZiBhbnkpLCBjYXVzaW5nIHRoZSBzdWJzY3JpcHRpb24gdG8gc3RheSBvcGVuIHdyb25nZnVsbHkuXG4gKiBAcGFyYW0ge1N0b3JlPGFueT4gfCBudWxsIHwgdW5kZWZpbmVkfSBzdG9yZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlX25hbWVcbiAqIEBwYXJhbSB7U3RvcmVSZWZlcmVuY2VzQ29udGFpbmVyfSBzdG9yZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3JlX3Vuc3ViKHN0b3JlLCBzdG9yZV9uYW1lLCBzdG9yZXMpIHtcblx0LyoqIEB0eXBlIHtTdG9yZVJlZmVyZW5jZXNDb250YWluZXJbJyddIHwgdW5kZWZpbmVkfSAqL1xuXHRsZXQgZW50cnkgPSBzdG9yZXNbc3RvcmVfbmFtZV07XG5cblx0aWYgKGVudHJ5ICYmIGVudHJ5LnN0b3JlICE9PSBzdG9yZSkge1xuXHRcdC8vIERvbid0IHJlc2V0IHN0b3JlIHlldCwgc28gdGhhdCBzdG9yZV9nZXQgYWJvdmUgY2FuIHJlc3Vic2NyaWJlIHRvIG5ldyBzdG9yZSBpZiBuZWNlc3Nhcnlcblx0XHRlbnRyeS51bnN1YnNjcmliZSgpO1xuXHRcdGVudHJ5LnVuc3Vic2NyaWJlID0gbm9vcDtcblx0fVxuXG5cdHJldHVybiBzdG9yZTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBuZXcgdmFsdWUgb2YgYSBzdG9yZSBhbmQgcmV0dXJucyB0aGF0IHZhbHVlLlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7U3RvcmU8Vj59IHN0b3JlXG4gKiBAcGFyYW0ge1Z9IHZhbHVlXG4gKiBAcmV0dXJucyB7Vn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3JlX3NldChzdG9yZSwgdmFsdWUpIHtcblx0c3RvcmUuc2V0KHZhbHVlKTtcblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3RvcmVSZWZlcmVuY2VzQ29udGFpbmVyfSBzdG9yZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZV9uYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkYXRlX3N0b3JlKHN0b3Jlcywgc3RvcmVfbmFtZSkge1xuXHR2YXIgZW50cnkgPSBzdG9yZXNbc3RvcmVfbmFtZV07XG5cdGlmIChlbnRyeS5zdG9yZSAhPT0gbnVsbCkge1xuXHRcdHN0b3JlX3NldChlbnRyeS5zdG9yZSwgZW50cnkuc291cmNlLnYpO1xuXHR9XG59XG5cbi8qKlxuICogVW5zdWJzY3JpYmVzIGZyb20gYWxsIGF1dG8tc3Vic2NyaWJlZCBzdG9yZXMgb24gZGVzdHJveVxuICogQHJldHVybnMge1tTdG9yZVJlZmVyZW5jZXNDb250YWluZXIsICgpPT52b2lkXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwX3N0b3JlcygpIHtcblx0LyoqIEB0eXBlIHtTdG9yZVJlZmVyZW5jZXNDb250YWluZXJ9ICovXG5cdGNvbnN0IHN0b3JlcyA9IHt9O1xuXG5cdGZ1bmN0aW9uIGNsZWFudXAoKSB7XG5cdFx0dGVhcmRvd24oKCkgPT4ge1xuXHRcdFx0Zm9yICh2YXIgc3RvcmVfbmFtZSBpbiBzdG9yZXMpIHtcblx0XHRcdFx0Y29uc3QgcmVmID0gc3RvcmVzW3N0b3JlX25hbWVdO1xuXHRcdFx0XHRyZWYudW5zdWJzY3JpYmUoKTtcblx0XHRcdH1cblx0XHRcdGRlZmluZV9wcm9wZXJ0eShzdG9yZXMsIElTX1VOTU9VTlRFRCwge1xuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0dmFsdWU6IHRydWVcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIFtzdG9yZXMsIGNsZWFudXBdO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgYSBzdG9yZSB3aXRoIGEgbmV3IHZhbHVlLlxuICogQHBhcmFtIHtTdG9yZTxWPn0gc3RvcmUgIHRoZSBzdG9yZSB0byB1cGRhdGVcbiAqIEBwYXJhbSB7YW55fSBleHByZXNzaW9uICB0aGUgZXhwcmVzc2lvbiB0aGF0IG11dGF0ZXMgdGhlIHN0b3JlXG4gKiBAcGFyYW0ge1Z9IG5ld192YWx1ZSAgdGhlIG5ldyBzdG9yZSB2YWx1ZVxuICogQHRlbXBsYXRlIFZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3JlX211dGF0ZShzdG9yZSwgZXhwcmVzc2lvbiwgbmV3X3ZhbHVlKSB7XG5cdHN0b3JlLnNldChuZXdfdmFsdWUpO1xuXHRyZXR1cm4gZXhwcmVzc2lvbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1N0b3JlPG51bWJlcj59IHN0b3JlXG4gKiBAcGFyYW0ge251bWJlcn0gc3RvcmVfdmFsdWVcbiAqIEBwYXJhbSB7MSB8IC0xfSBbZF1cbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfc3RvcmUoc3RvcmUsIHN0b3JlX3ZhbHVlLCBkID0gMSkge1xuXHRzdG9yZS5zZXQoc3RvcmVfdmFsdWUgKyBkKTtcblx0cmV0dXJuIHN0b3JlX3ZhbHVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3RvcmU8bnVtYmVyPn0gc3RvcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdG9yZV92YWx1ZVxuICogQHBhcmFtIHsxIHwgLTF9IFtkXVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9wcmVfc3RvcmUoc3RvcmUsIHN0b3JlX3ZhbHVlLCBkID0gMSkge1xuXHRjb25zdCB2YWx1ZSA9IHN0b3JlX3ZhbHVlICsgZDtcblx0c3RvcmUuc2V0KHZhbHVlKTtcblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxlZCBpbnNpZGUgcHJvcCBnZXR0ZXJzIHRvIGNvbW11bmljYXRlIHRoYXQgdGhlIHByb3AgaXMgYSBzdG9yZSBiaW5kaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXJrX3N0b3JlX2JpbmRpbmcoKSB7XG5cdGlzX3N0b3JlX2JpbmRpbmcgPSB0cnVlO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSB0dXBsZSB0aGF0IGluZGljYXRlcyB3aGV0aGVyIGBmbigpYCByZWFkcyBhIHByb3AgdGhhdCBpcyBhIHN0b3JlIGJpbmRpbmcuXG4gKiBVc2VkIHRvIHByZXZlbnQgYGJpbmRpbmdfcHJvcGVydHlfbm9uX3JlYWN0aXZlYCB2YWxpZGF0aW9uIGZhbHNlIHBvc2l0aXZlcyBhbmRcbiAqIGVuc3VyZSB0aGF0IHRoZXNlIHByb3BzIGFyZSB0cmVhdGVkIGFzIG11dGFibGUgZXZlbiBpbiBydW5lcyBtb2RlXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBUfSBmblxuICogQHJldHVybnMge1tULCBib29sZWFuXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhcHR1cmVfc3RvcmVfYmluZGluZyhmbikge1xuXHR2YXIgcHJldmlvdXNfaXNfc3RvcmVfYmluZGluZyA9IGlzX3N0b3JlX2JpbmRpbmc7XG5cblx0dHJ5IHtcblx0XHRpc19zdG9yZV9iaW5kaW5nID0gZmFsc2U7XG5cdFx0cmV0dXJuIFtmbigpLCBpc19zdG9yZV9iaW5kaW5nXTtcblx0fSBmaW5hbGx5IHtcblx0XHRpc19zdG9yZV9iaW5kaW5nID0gcHJldmlvdXNfaXNfc3RvcmVfYmluZGluZztcblx0fVxufVxuIiwiLyoqIEBpbXBvcnQgeyBDb21wb25lbnRDb250ZXh0IH0gZnJvbSAnI2NsaWVudCcgKi9cbi8qKiBAaW1wb3J0IHsgRGVyaXZlZCwgRWZmZWN0LCBTb3VyY2UgfSBmcm9tICcuL3R5cGVzLmpzJyAqL1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQge1xuXHRQUk9QU19JU19CSU5EQUJMRSxcblx0UFJPUFNfSVNfSU1NVVRBQkxFLFxuXHRQUk9QU19JU19MQVpZX0lOSVRJQUwsXG5cdFBST1BTX0lTX1JVTkVTLFxuXHRQUk9QU19JU19VUERBVEVELFxuXHRVTklOSVRJQUxJWkVEXG59IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBnZXRfZGVzY3JpcHRvciwgaXNfZnVuY3Rpb24gfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgc2V0LCBzb3VyY2UsIHVwZGF0ZSB9IGZyb20gJy4vc291cmNlcy5qcyc7XG5pbXBvcnQgeyBkZXJpdmVkLCBkZXJpdmVkX3NhZmVfZXF1YWwgfSBmcm9tICcuL2Rlcml2ZWRzLmpzJztcbmltcG9ydCB7XG5cdGFjdGl2ZV9lZmZlY3QsXG5cdGdldCxcblx0aXNfZGVzdHJveWluZ19lZmZlY3QsXG5cdHNldF9hY3RpdmVfZWZmZWN0LFxuXHR1bnRyYWNrXG59IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0ICogYXMgZSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgREVTVFJPWUVELCBMRUdBQ1lfUFJPUFMsIFNUQVRFX1NZTUJPTCB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7IHByb3h5IH0gZnJvbSAnLi4vcHJveHkuanMnO1xuaW1wb3J0IHsgY2FwdHVyZV9zdG9yZV9iaW5kaW5nIH0gZnJvbSAnLi9zdG9yZS5qcyc7XG5pbXBvcnQgeyBsZWdhY3lfbW9kZV9mbGFnIH0gZnJvbSAnLi4vLi4vZmxhZ3MvaW5kZXguanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7KCh2YWx1ZT86IG51bWJlcikgPT4gbnVtYmVyKX0gZm5cbiAqIEBwYXJhbSB7MSB8IC0xfSBbZF1cbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfcHJvcChmbiwgZCA9IDEpIHtcblx0Y29uc3QgdmFsdWUgPSBmbigpO1xuXHRmbih2YWx1ZSArIGQpO1xuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKHZhbHVlPzogbnVtYmVyKSA9PiBudW1iZXIpfSBmblxuICogQHBhcmFtIHsxIHwgLTF9IFtkXVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9wcmVfcHJvcChmbiwgZCA9IDEpIHtcblx0Y29uc3QgdmFsdWUgPSBmbigpICsgZDtcblx0Zm4odmFsdWUpO1xuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogVGhlIHByb3h5IGhhbmRsZXIgZm9yIHJlc3QgcHJvcHMgKGkuZS4gYGNvbnN0IHsgeCwgLi4ucmVzdCB9ID0gJHByb3BzKClgKS5cbiAqIElzIHBhc3NlZCB0aGUgZnVsbCBgJCRwcm9wc2Agb2JqZWN0IGFuZCBleGNsdWRlcyB0aGUgbmFtZWQgcHJvcHMuXG4gKiBAdHlwZSB7UHJveHlIYW5kbGVyPHsgcHJvcHM6IFJlY29yZDxzdHJpbmcgfCBzeW1ib2wsIHVua25vd24+LCBleGNsdWRlOiBBcnJheTxzdHJpbmcgfCBzeW1ib2w+LCBuYW1lPzogc3RyaW5nIH0+fX1cbiAqL1xuY29uc3QgcmVzdF9wcm9wc19oYW5kbGVyID0ge1xuXHRnZXQodGFyZ2V0LCBrZXkpIHtcblx0XHRpZiAodGFyZ2V0LmV4Y2x1ZGUuaW5jbHVkZXMoa2V5KSkgcmV0dXJuO1xuXHRcdHJldHVybiB0YXJnZXQucHJvcHNba2V5XTtcblx0fSxcblx0c2V0KHRhcmdldCwga2V5KSB7XG5cdFx0aWYgKERFVikge1xuXHRcdFx0Ly8gVE9ETyBzaG91bGQgdGhpcyBoYXBwZW4gaW4gcHJvZCB0b28/XG5cdFx0XHRlLnByb3BzX3Jlc3RfcmVhZG9ubHkoYCR7dGFyZ2V0Lm5hbWV9LiR7U3RyaW5nKGtleSl9YCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXHRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIHtcblx0XHRpZiAodGFyZ2V0LmV4Y2x1ZGUuaW5jbHVkZXMoa2V5KSkgcmV0dXJuO1xuXHRcdGlmIChrZXkgaW4gdGFyZ2V0LnByb3BzKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdHZhbHVlOiB0YXJnZXQucHJvcHNba2V5XVxuXHRcdFx0fTtcblx0XHR9XG5cdH0sXG5cdGhhcyh0YXJnZXQsIGtleSkge1xuXHRcdGlmICh0YXJnZXQuZXhjbHVkZS5pbmNsdWRlcyhrZXkpKSByZXR1cm4gZmFsc2U7XG5cdFx0cmV0dXJuIGtleSBpbiB0YXJnZXQucHJvcHM7XG5cdH0sXG5cdG93bktleXModGFyZ2V0KSB7XG5cdFx0cmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQucHJvcHMpLmZpbHRlcigoa2V5KSA9PiAhdGFyZ2V0LmV4Y2x1ZGUuaW5jbHVkZXMoa2V5KSk7XG5cdH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPn0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nW119IGV4Y2x1ZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV1cbiAqIEByZXR1cm5zIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPn1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gcmVzdF9wcm9wcyhwcm9wcywgZXhjbHVkZSwgbmFtZSkge1xuXHRyZXR1cm4gbmV3IFByb3h5KFxuXHRcdERFViA/IHsgcHJvcHMsIGV4Y2x1ZGUsIG5hbWUsIG90aGVyOiB7fSwgdG9fcHJveHk6IFtdIH0gOiB7IHByb3BzLCBleGNsdWRlIH0sXG5cdFx0cmVzdF9wcm9wc19oYW5kbGVyXG5cdCk7XG59XG5cbi8qKlxuICogVGhlIHByb3h5IGhhbmRsZXIgZm9yIGxlZ2FjeSAkJHJlc3RQcm9wcyBhbmQgJCRwcm9wc1xuICogQHR5cGUge1Byb3h5SGFuZGxlcjx7IHByb3BzOiBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCB1bmtub3duPiwgZXhjbHVkZTogQXJyYXk8c3RyaW5nIHwgc3ltYm9sPiwgc3BlY2lhbDogUmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgKHY/OiB1bmtub3duKSA9PiB1bmtub3duPiwgdmVyc2lvbjogU291cmNlPG51bWJlcj4sIHBhcmVudF9lZmZlY3Q6IEVmZmVjdCB9Pn19XG4gKi9cbmNvbnN0IGxlZ2FjeV9yZXN0X3Byb3BzX2hhbmRsZXIgPSB7XG5cdGdldCh0YXJnZXQsIGtleSkge1xuXHRcdGlmICh0YXJnZXQuZXhjbHVkZS5pbmNsdWRlcyhrZXkpKSByZXR1cm47XG5cdFx0Z2V0KHRhcmdldC52ZXJzaW9uKTtcblx0XHRyZXR1cm4ga2V5IGluIHRhcmdldC5zcGVjaWFsID8gdGFyZ2V0LnNwZWNpYWxba2V5XSgpIDogdGFyZ2V0LnByb3BzW2tleV07XG5cdH0sXG5cdHNldCh0YXJnZXQsIGtleSwgdmFsdWUpIHtcblx0XHRpZiAoIShrZXkgaW4gdGFyZ2V0LnNwZWNpYWwpKSB7XG5cdFx0XHR2YXIgcHJldmlvdXNfZWZmZWN0ID0gYWN0aXZlX2VmZmVjdDtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0c2V0X2FjdGl2ZV9lZmZlY3QodGFyZ2V0LnBhcmVudF9lZmZlY3QpO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSBwcm9wcyB0aGF0IGNhbiB0ZW1wb3JhcmlseSBnZXQgb3V0IG9mIHN5bmMgd2l0aCB0aGUgcGFyZW50XG5cdFx0XHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgKHY/OiB1bmtub3duKSA9PiB1bmtub3duPn0gKi9cblx0XHRcdFx0dGFyZ2V0LnNwZWNpYWxba2V5XSA9IHByb3AoXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Z2V0IFtrZXldKCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdGFyZ2V0LnByb3BzW2tleV07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQvKiogQHR5cGUge3N0cmluZ30gKi8gKGtleSksXG5cdFx0XHRcdFx0UFJPUFNfSVNfVVBEQVRFRFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0c2V0X2FjdGl2ZV9lZmZlY3QocHJldmlvdXNfZWZmZWN0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0YXJnZXQuc3BlY2lhbFtrZXldKHZhbHVlKTtcblx0XHR1cGRhdGUodGFyZ2V0LnZlcnNpb24pOyAvLyAkJHByb3BzIGlzIGNvYXJzZS1ncmFpbmVkOiB3aGVuICQkcHJvcHMueCBpcyB1cGRhdGVkLCB1c2FnZXMgb2YgJCRwcm9wcy55IGV0YyBhcmUgYWxzbyByZXJ1blxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXHRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIHtcblx0XHRpZiAodGFyZ2V0LmV4Y2x1ZGUuaW5jbHVkZXMoa2V5KSkgcmV0dXJuO1xuXHRcdGlmIChrZXkgaW4gdGFyZ2V0LnByb3BzKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdHZhbHVlOiB0YXJnZXQucHJvcHNba2V5XVxuXHRcdFx0fTtcblx0XHR9XG5cdH0sXG5cdGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XG5cdFx0Ly8gU3ZlbHRlIDQgYWxsb3dlZCBmb3IgZGVsZXRpb25zIG9uICQkcmVzdFByb3BzXG5cdFx0aWYgKHRhcmdldC5leGNsdWRlLmluY2x1ZGVzKGtleSkpIHJldHVybiB0cnVlO1xuXHRcdHRhcmdldC5leGNsdWRlLnB1c2goa2V5KTtcblx0XHR1cGRhdGUodGFyZ2V0LnZlcnNpb24pO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXHRoYXModGFyZ2V0LCBrZXkpIHtcblx0XHRpZiAodGFyZ2V0LmV4Y2x1ZGUuaW5jbHVkZXMoa2V5KSkgcmV0dXJuIGZhbHNlO1xuXHRcdHJldHVybiBrZXkgaW4gdGFyZ2V0LnByb3BzO1xuXHR9LFxuXHRvd25LZXlzKHRhcmdldCkge1xuXHRcdHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0LnByb3BzKS5maWx0ZXIoKGtleSkgPT4gIXRhcmdldC5leGNsdWRlLmluY2x1ZGVzKGtleSkpO1xuXHR9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59IHByb3BzXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBleGNsdWRlXG4gKiBAcmV0dXJucyB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZWdhY3lfcmVzdF9wcm9wcyhwcm9wcywgZXhjbHVkZSkge1xuXHRyZXR1cm4gbmV3IFByb3h5KFxuXHRcdHtcblx0XHRcdHByb3BzLFxuXHRcdFx0ZXhjbHVkZSxcblx0XHRcdHNwZWNpYWw6IHt9LFxuXHRcdFx0dmVyc2lvbjogc291cmNlKDApLFxuXHRcdFx0Ly8gVE9ETyB0aGlzIGlzIG9ubHkgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgbmVlZCB0byB0cmFjayBjb21wb25lbnRcblx0XHRcdC8vIGRlc3RydWN0aW9uIGluc2lkZSBgcHJvcGAsIGJlY2F1c2Ugb2YgYGJpbmQ6dGhpc2AsIGJ1dCBpdFxuXHRcdFx0Ly8gc2VlbXMgbGlrZWx5IHRoYXQgd2UgY2FuIHNpbXBsaWZ5IGBiaW5kOnRoaXNgIGluc3RlYWRcblx0XHRcdHBhcmVudF9lZmZlY3Q6IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdClcblx0XHR9LFxuXHRcdGxlZ2FjeV9yZXN0X3Byb3BzX2hhbmRsZXJcblx0KTtcbn1cblxuLyoqXG4gKiBUaGUgcHJveHkgaGFuZGxlciBmb3Igc3ByZWFkIHByb3BzLiBIYW5kbGVzIHRoZSBpbmNvbWluZyBhcnJheSBvZiBwcm9wc1xuICogdGhhdCBsb29rcyBsaWtlIGAoKSA9PiB7IGR5bmFtaWM6IHByb3BzIH0sIHsgc3RhdGljOiBwcm9wIH0sIC4uYCBhbmQgd3JhcHNcbiAqIHRoZW0gc28gdGhhdCB0aGUgd2hvbGUgdGhpbmcgaXMgcGFzc2VkIHRvIHRoZSBjb21wb25lbnQgYXMgdGhlIGAkJHByb3BzYCBhcmd1bWVudC5cbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgdW5rbm93bj59IFRcbiAqIEB0eXBlIHtQcm94eUhhbmRsZXI8eyBwcm9wczogQXJyYXk8VCB8ICgoKSA9PiBUKT4gfT59fVxuICovXG5jb25zdCBzcHJlYWRfcHJvcHNfaGFuZGxlciA9IHtcblx0Z2V0KHRhcmdldCwga2V5KSB7XG5cdFx0bGV0IGkgPSB0YXJnZXQucHJvcHMubGVuZ3RoO1xuXHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdGxldCBwID0gdGFyZ2V0LnByb3BzW2ldO1xuXHRcdFx0aWYgKGlzX2Z1bmN0aW9uKHApKSBwID0gcCgpO1xuXHRcdFx0aWYgKHR5cGVvZiBwID09PSAnb2JqZWN0JyAmJiBwICE9PSBudWxsICYmIGtleSBpbiBwKSByZXR1cm4gcFtrZXldO1xuXHRcdH1cblx0fSxcblx0c2V0KHRhcmdldCwga2V5LCB2YWx1ZSkge1xuXHRcdGxldCBpID0gdGFyZ2V0LnByb3BzLmxlbmd0aDtcblx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRsZXQgcCA9IHRhcmdldC5wcm9wc1tpXTtcblx0XHRcdGlmIChpc19mdW5jdGlvbihwKSkgcCA9IHAoKTtcblx0XHRcdGNvbnN0IGRlc2MgPSBnZXRfZGVzY3JpcHRvcihwLCBrZXkpO1xuXHRcdFx0aWYgKGRlc2MgJiYgZGVzYy5zZXQpIHtcblx0XHRcdFx0ZGVzYy5zZXQodmFsdWUpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXHRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIHtcblx0XHRsZXQgaSA9IHRhcmdldC5wcm9wcy5sZW5ndGg7XG5cdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0bGV0IHAgPSB0YXJnZXQucHJvcHNbaV07XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24ocCkpIHAgPSBwKCk7XG5cdFx0XHRpZiAodHlwZW9mIHAgPT09ICdvYmplY3QnICYmIHAgIT09IG51bGwgJiYga2V5IGluIHApIHtcblx0XHRcdFx0Y29uc3QgZGVzY3JpcHRvciA9IGdldF9kZXNjcmlwdG9yKHAsIGtleSk7XG5cdFx0XHRcdGlmIChkZXNjcmlwdG9yICYmICFkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuXHRcdFx0XHRcdC8vIFByZXZlbnQgYSBcIk5vbi1jb25maWd1cmFiaWxpdHkgUmVwb3J0IEVycm9yXCI6IFRoZSB0YXJnZXQgaXMgYW4gYXJyYXksIGl0IGRvZXNcblx0XHRcdFx0XHQvLyBub3QgYWN0dWFsbHkgY29udGFpbiB0aGlzIHByb3BlcnR5LiBJZiBpdCBpcyBub3cgZGVzY3JpYmVkIGFzIG5vbi1jb25maWd1cmFibGUsXG5cdFx0XHRcdFx0Ly8gdGhlIHByb3h5IHRocm93cyBhIHZhbGlkYXRpb24gZXJyb3IuIFNldHRpbmcgaXQgdG8gdHJ1ZSBhdm9pZHMgdGhhdC5cblx0XHRcdFx0XHRkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGRlc2NyaXB0b3I7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRoYXModGFyZ2V0LCBrZXkpIHtcblx0XHQvLyBUbyBwcmV2ZW50IGEgZmFsc2UgcG9zaXRpdmUgYGlzX2VudHJ5X3Byb3BzYCBpbiB0aGUgYHByb3BgIGZ1bmN0aW9uXG5cdFx0aWYgKGtleSA9PT0gU1RBVEVfU1lNQk9MIHx8IGtleSA9PT0gTEVHQUNZX1BST1BTKSByZXR1cm4gZmFsc2U7XG5cblx0XHRmb3IgKGxldCBwIG9mIHRhcmdldC5wcm9wcykge1xuXHRcdFx0aWYgKGlzX2Z1bmN0aW9uKHApKSBwID0gcCgpO1xuXHRcdFx0aWYgKHAgIT0gbnVsbCAmJiBrZXkgaW4gcCkgcmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXHRvd25LZXlzKHRhcmdldCkge1xuXHRcdC8qKiBAdHlwZSB7QXJyYXk8c3RyaW5nIHwgc3ltYm9sPn0gKi9cblx0XHRjb25zdCBrZXlzID0gW107XG5cblx0XHRmb3IgKGxldCBwIG9mIHRhcmdldC5wcm9wcykge1xuXHRcdFx0aWYgKGlzX2Z1bmN0aW9uKHApKSBwID0gcCgpO1xuXHRcdFx0aWYgKCFwKSBjb250aW51ZTtcblxuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gcCkge1xuXHRcdFx0XHRpZiAoIWtleXMuaW5jbHVkZXMoa2V5KSkga2V5cy5wdXNoKGtleSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocCkpIHtcblx0XHRcdFx0aWYgKCFrZXlzLmluY2x1ZGVzKGtleSkpIGtleXMucHVzaChrZXkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBrZXlzO1xuXHR9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8UmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCAoKCkgPT4gUmVjb3JkPHN0cmluZywgdW5rbm93bj4pPn0gcHJvcHNcbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcHJlYWRfcHJvcHMoLi4ucHJvcHMpIHtcblx0cmV0dXJuIG5ldyBQcm94eSh7IHByb3BzIH0sIHNwcmVhZF9wcm9wc19oYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciBzeW5jaHJvbml6aW5nIGEgcG9zc2libHkgYm91bmQgcHJvcCB3aXRoIHRoZSBpbm5lciBjb21wb25lbnQgc3RhdGUuXG4gKiBJdCBpcyB1c2VkIHdoZW5ldmVyIHRoZSBjb21waWxlciBzZWVzIHRoYXQgdGhlIGNvbXBvbmVudCB3cml0ZXMgdG8gdGhlIHByb3AsIG9yIHdoZW4gaXQgaGFzIGEgZGVmYXVsdCBwcm9wX3ZhbHVlLlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59IHByb3BzXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcbiAqIEBwYXJhbSB7ViB8ICgoKSA9PiBWKX0gW2ZhbGxiYWNrXVxuICogQHJldHVybnMgeygoKSA9PiBWIHwgKChhcmc6IFYpID0+IFYpIHwgKChhcmc6IFYsIG11dGF0aW9uOiBib29sZWFuKSA9PiBWKSl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9wKHByb3BzLCBrZXksIGZsYWdzLCBmYWxsYmFjaykge1xuXHR2YXIgcnVuZXMgPSAhbGVnYWN5X21vZGVfZmxhZyB8fCAoZmxhZ3MgJiBQUk9QU19JU19SVU5FUykgIT09IDA7XG5cdHZhciBiaW5kYWJsZSA9IChmbGFncyAmIFBST1BTX0lTX0JJTkRBQkxFKSAhPT0gMDtcblx0dmFyIGxhenkgPSAoZmxhZ3MgJiBQUk9QU19JU19MQVpZX0lOSVRJQUwpICE9PSAwO1xuXG5cdHZhciBmYWxsYmFja192YWx1ZSA9IC8qKiBAdHlwZSB7Vn0gKi8gKGZhbGxiYWNrKTtcblx0dmFyIGZhbGxiYWNrX2RpcnR5ID0gdHJ1ZTtcblxuXHR2YXIgZ2V0X2ZhbGxiYWNrID0gKCkgPT4ge1xuXHRcdGlmIChmYWxsYmFja19kaXJ0eSkge1xuXHRcdFx0ZmFsbGJhY2tfZGlydHkgPSBmYWxzZTtcblxuXHRcdFx0ZmFsbGJhY2tfdmFsdWUgPSBsYXp5XG5cdFx0XHRcdD8gdW50cmFjaygvKiogQHR5cGUgeygpID0+IFZ9ICovIChmYWxsYmFjaykpXG5cdFx0XHRcdDogLyoqIEB0eXBlIHtWfSAqLyAoZmFsbGJhY2spO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxsYmFja192YWx1ZTtcblx0fTtcblxuXHQvKiogQHR5cGUgeygodjogVikgPT4gdm9pZCkgfCB1bmRlZmluZWR9ICovXG5cdHZhciBzZXR0ZXI7XG5cblx0aWYgKGJpbmRhYmxlKSB7XG5cdFx0Ly8gQ2FuIGJlIHRoZSBjYXNlIHdoZW4gc29tZW9uZSBkb2VzIGBtb3VudChDb21wb25lbnQsIHByb3BzKWAgd2l0aCBgbGV0IHByb3BzID0gJHN0YXRlKHsuLi59KWBcblx0XHQvLyBvciBgY3JlYXRlQ2xhc3NDb21wb25lbnQoQ29tcG9uZW50LCBwcm9wcylgXG5cdFx0dmFyIGlzX2VudHJ5X3Byb3BzID0gU1RBVEVfU1lNQk9MIGluIHByb3BzIHx8IExFR0FDWV9QUk9QUyBpbiBwcm9wcztcblxuXHRcdHNldHRlciA9XG5cdFx0XHRnZXRfZGVzY3JpcHRvcihwcm9wcywga2V5KT8uc2V0ID8/XG5cdFx0XHQoaXNfZW50cnlfcHJvcHMgJiYga2V5IGluIHByb3BzID8gKHYpID0+IChwcm9wc1trZXldID0gdikgOiB1bmRlZmluZWQpO1xuXHR9XG5cblx0dmFyIGluaXRpYWxfdmFsdWU7XG5cdHZhciBpc19zdG9yZV9zdWIgPSBmYWxzZTtcblxuXHRpZiAoYmluZGFibGUpIHtcblx0XHRbaW5pdGlhbF92YWx1ZSwgaXNfc3RvcmVfc3ViXSA9IGNhcHR1cmVfc3RvcmVfYmluZGluZygoKSA9PiAvKiogQHR5cGUge1Z9ICovIChwcm9wc1trZXldKSk7XG5cdH0gZWxzZSB7XG5cdFx0aW5pdGlhbF92YWx1ZSA9IC8qKiBAdHlwZSB7Vn0gKi8gKHByb3BzW2tleV0pO1xuXHR9XG5cblx0aWYgKGluaXRpYWxfdmFsdWUgPT09IHVuZGVmaW5lZCAmJiBmYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0aW5pdGlhbF92YWx1ZSA9IGdldF9mYWxsYmFjaygpO1xuXG5cdFx0aWYgKHNldHRlcikge1xuXHRcdFx0aWYgKHJ1bmVzKSBlLnByb3BzX2ludmFsaWRfdmFsdWUoa2V5KTtcblx0XHRcdHNldHRlcihpbml0aWFsX3ZhbHVlKTtcblx0XHR9XG5cdH1cblxuXHQvKiogQHR5cGUgeygpID0+IFZ9ICovXG5cdHZhciBnZXR0ZXI7XG5cblx0aWYgKHJ1bmVzKSB7XG5cdFx0Z2V0dGVyID0gKCkgPT4ge1xuXHRcdFx0dmFyIHZhbHVlID0gLyoqIEB0eXBlIHtWfSAqLyAocHJvcHNba2V5XSk7XG5cdFx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGdldF9mYWxsYmFjaygpO1xuXHRcdFx0ZmFsbGJhY2tfZGlydHkgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0Z2V0dGVyID0gKCkgPT4ge1xuXHRcdFx0dmFyIHZhbHVlID0gLyoqIEB0eXBlIHtWfSAqLyAocHJvcHNba2V5XSk7XG5cblx0XHRcdGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdC8vIGluIGxlZ2FjeSBtb2RlLCB3ZSBkb24ndCByZXZlcnQgdG8gdGhlIGZhbGxiYWNrIHZhbHVlXG5cdFx0XHRcdC8vIGlmIHRoZSBwcm9wIGdvZXMgZnJvbSBkZWZpbmVkIHRvIHVuZGVmaW5lZC4gVGhlIGVhc2llc3Rcblx0XHRcdFx0Ly8gd2F5IHRvIG1vZGVsIHRoaXMgaXMgdG8gbWFrZSB0aGUgZmFsbGJhY2sgdW5kZWZpbmVkXG5cdFx0XHRcdC8vIGFzIHNvb24gYXMgdGhlIHByb3AgaGFzIGEgdmFsdWVcblx0XHRcdFx0ZmFsbGJhY2tfdmFsdWUgPSAvKiogQHR5cGUge1Z9ICovICh1bmRlZmluZWQpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IGZhbGxiYWNrX3ZhbHVlIDogdmFsdWU7XG5cdFx0fTtcblx0fVxuXG5cdC8vIHByb3AgaXMgbmV2ZXIgd3JpdHRlbiB0byDigJQgd2Ugb25seSBuZWVkIGEgZ2V0dGVyXG5cdGlmIChydW5lcyAmJiAoZmxhZ3MgJiBQUk9QU19JU19VUERBVEVEKSA9PT0gMCkge1xuXHRcdHJldHVybiBnZXR0ZXI7XG5cdH1cblxuXHQvLyBwcm9wIGlzIHdyaXR0ZW4gdG8sIGJ1dCB0aGUgcGFyZW50IGNvbXBvbmVudCBoYWQgYGJpbmQ6Zm9vYCB3aGljaFxuXHQvLyBtZWFucyB3ZSBjYW4ganVzdCBjYWxsIGAkJHByb3BzLmZvbyA9IHZhbHVlYCBkaXJlY3RseVxuXHRpZiAoc2V0dGVyKSB7XG5cdFx0dmFyIGxlZ2FjeV9wYXJlbnQgPSBwcm9wcy4kJGxlZ2FjeTtcblxuXHRcdHJldHVybiBmdW5jdGlvbiAoLyoqIEB0eXBlIHthbnl9ICovIHZhbHVlLCAvKiogQHR5cGUge2Jvb2xlYW59ICovIG11dGF0aW9uKSB7XG5cdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0Ly8gV2UgZG9uJ3Qgd2FudCB0byBub3RpZnkgaWYgdGhlIHZhbHVlIHdhcyBtdXRhdGVkIGFuZCB0aGUgcGFyZW50IGlzIGluIHJ1bmVzIG1vZGUuXG5cdFx0XHRcdC8vIEluIHRoYXQgY2FzZSB0aGUgc3RhdGUgcHJveHkgKGlmIGl0IGV4aXN0cykgc2hvdWxkIHRha2UgY2FyZSBvZiB0aGUgbm90aWZpY2F0aW9uLlxuXHRcdFx0XHQvLyBJZiB0aGUgcGFyZW50IGlzIG5vdCBpbiBydW5lcyBtb2RlLCB3ZSBuZWVkIHRvIG5vdGlmeSBvbiBtdXRhdGlvbiwgdG9vLCB0aGF0IHRoZSBwcm9wXG5cdFx0XHRcdC8vIGhhcyBjaGFuZ2VkIGJlY2F1c2UgdGhlIHBhcmVudCB3aWxsIG5vdCBiZSBhYmxlIHRvIGRldGVjdCB0aGUgY2hhbmdlIG90aGVyd2lzZS5cblx0XHRcdFx0aWYgKCFydW5lcyB8fCAhbXV0YXRpb24gfHwgbGVnYWN5X3BhcmVudCB8fCBpc19zdG9yZV9zdWIpIHtcblx0XHRcdFx0XHQvKiogQHR5cGUge0Z1bmN0aW9ufSAqLyAoc2V0dGVyKShtdXRhdGlvbiA/IGdldHRlcigpIDogdmFsdWUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZ2V0dGVyKCk7XG5cdFx0fTtcblx0fVxuXG5cdC8vIEVpdGhlciBwcm9wIGlzIHdyaXR0ZW4gdG8sIGJ1dCB0aGVyZSdzIG5vIGJpbmRpbmcsIHdoaWNoIG1lYW5zIHdlXG5cdC8vIGNyZWF0ZSBhIGRlcml2ZWQgdGhhdCB3ZSBjYW4gd3JpdGUgdG8gbG9jYWxseS5cblx0Ly8gT3Igd2UgYXJlIGluIGxlZ2FjeSBtb2RlIHdoZXJlIHdlIGFsd2F5cyBjcmVhdGUgYSBkZXJpdmVkIHRvIHJlcGxpY2F0ZSB0aGF0XG5cdC8vIFN2ZWx0ZSA0IGRpZCBub3QgdHJpZ2dlciB1cGRhdGVzIHdoZW4gYSBwcmltaXRpdmUgdmFsdWUgd2FzIHVwZGF0ZWQgdG8gdGhlIHNhbWUgdmFsdWUuXG5cdHZhciBvdmVycmlkZGVuID0gZmFsc2U7XG5cblx0dmFyIGQgPSAoKGZsYWdzICYgUFJPUFNfSVNfSU1NVVRBQkxFKSAhPT0gMCA/IGRlcml2ZWQgOiBkZXJpdmVkX3NhZmVfZXF1YWwpKCgpID0+IHtcblx0XHRvdmVycmlkZGVuID0gZmFsc2U7XG5cdFx0cmV0dXJuIGdldHRlcigpO1xuXHR9KTtcblxuXHQvLyBDYXB0dXJlIHRoZSBpbml0aWFsIHZhbHVlIGlmIGl0J3MgYmluZGFibGVcblx0aWYgKGJpbmRhYmxlKSBnZXQoZCk7XG5cblx0dmFyIHBhcmVudF9lZmZlY3QgPSAvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoLyoqIEB0eXBlIHthbnl9ICovIHZhbHVlLCAvKiogQHR5cGUge2Jvb2xlYW59ICovIG11dGF0aW9uKSB7XG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBuZXdfdmFsdWUgPSBtdXRhdGlvbiA/IGdldChkKSA6IHJ1bmVzICYmIGJpbmRhYmxlID8gcHJveHkodmFsdWUpIDogdmFsdWU7XG5cblx0XHRcdHNldChkLCBuZXdfdmFsdWUpO1xuXHRcdFx0b3ZlcnJpZGRlbiA9IHRydWU7XG5cblx0XHRcdGlmIChmYWxsYmFja192YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGZhbGxiYWNrX3ZhbHVlID0gbmV3X3ZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdFx0Ly8gc3BlY2lhbCBjYXNlIOKAlCBhdm9pZCByZWNhbGN1bGF0aW5nIHRoZSBkZXJpdmVkIGlmIHdlJ3JlIGluIGFcblx0XHQvLyB0ZWFyZG93biBmdW5jdGlvbiBhbmQgdGhlIHByb3Agd2FzIG92ZXJyaWRkZW4gbG9jYWxseSwgb3IgdGhlXG5cdFx0Ly8gY29tcG9uZW50IHdhcyBhbHJlYWR5IGRlc3Ryb3llZCAodGhpcyBsYXR0ZXIgcGFydCBpcyBuZWNlc3Nhcnlcblx0XHQvLyBiZWNhdXNlIGBiaW5kOnRoaXNgIGNhbiByZWFkIHByb3BzIGFmdGVyIHRoZSBjb21wb25lbnQgaGFzXG5cdFx0Ly8gYmVlbiBkZXN0cm95ZWQuIFRPRE8gc2ltcGxpZnkgYGJpbmQ6dGhpc2Bcblx0XHRpZiAoKGlzX2Rlc3Ryb3lpbmdfZWZmZWN0ICYmIG92ZXJyaWRkZW4pIHx8IChwYXJlbnRfZWZmZWN0LmYgJiBERVNUUk9ZRUQpICE9PSAwKSB7XG5cdFx0XHRyZXR1cm4gZC52O1xuXHRcdH1cblxuXHRcdHJldHVybiBnZXQoZCk7XG5cdH07XG59XG4iLCIvLyBjb21wb25lbnRzL3RoZW1lcy50c1xuZXhwb3J0IGNvbnN0IHRoZW1lcyA9IHtcblx0bGlnaHQ6IHtcblx0XHRiZ0NvbG9yOiBcIiNFOEM4ODdcIixcblx0XHRsaW5lQ29sb3I6IFwiIzAwMDAwMFwiLFxuXHRcdHRleHRDb2xvcjogXCIjMDAwMDAwXCIsXG5cdFx0cmVkOiBcIiM4NjE4MThcIixcblx0XHRibHVlOiBcIiMxQjM4QTJcIixcblx0fSxcblx0ZGFyazoge1xuXHRcdGJnQ29sb3I6IFwiIzJkMmQyZFwiLFxuXHRcdGxpbmVDb2xvcjogXCIjZmZmZmZmXCIsXG5cdFx0dGV4dENvbG9yOiBcIiNmZmZmZmZcIixcblx0XHRyZWQ6IFwiIzg2MTgxOFwiLFxuXHRcdGJsdWU6IFwiIzAwMDA4MFwiLFxuXHR9LFxufTtcbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vY29yZS9ldmVudC1idXNcIjtcbiAgaW1wb3J0IHR5cGUgeyBJQm9hcmQsIElQb3NpdGlvbiwgSVNldHRpbmdzIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG4gIGltcG9ydCB7IFBJRUNFX0NIQVJTIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG4gIGltcG9ydCB7IHRoZW1lcyB9IGZyb20gXCIuL3RoZW1lc1wiO1xuXG4gIGV4cG9ydCBsZXQgc2V0dGluZ3M6IElTZXR0aW5ncztcbiAgZXhwb3J0IGxldCBib2FyZDogSUJvYXJkO1xuICBleHBvcnQgbGV0IG1hcmtlZFBvczogSVBvc2l0aW9uIHwgbnVsbCA9IG51bGw7XG4gIGV4cG9ydCBsZXQgY3VycmVudFR1cm46IHN0cmluZztcbiAgZXhwb3J0IGxldCBldmVudEJ1czogRXZlbnRCdXM7XG4gIGV4cG9ydCBsZXQgcm90YXRlZDogYm9vbGVhbjtcblxuICBsZXQgYmdDb2xvcjogc3RyaW5nLCBsaW5lQ29sb3I6IHN0cmluZywgdGV4dENvbG9yOiBzdHJpbmcsIHJlZDogc3RyaW5nLCBibHVlOiBzdHJpbmc7XG4gIGxldCBjZWxsU2l6ZTogbnVtYmVyLCBtYXJnaW46IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXI7XG5cbiAgbGV0IHJlbmRlcmVkQm9hcmQ6IElCb2FyZDtcbiAgbGV0IHJlbmRlcmVkTWFya2VkUG9zOiBJUG9zaXRpb24gfCBudWxsO1xuXG4gICQ6ICh7IGJnQ29sb3IsIGxpbmVDb2xvciwgdGV4dENvbG9yLCByZWQsIGJsdWUgfSA9IHRoZW1lc1tzZXR0aW5ncy50aGVtZV0pO1xuICAkOiBjZWxsU2l6ZSA9IHNldHRpbmdzLmNlbGxTaXplO1xuICAkOiBtYXJnaW4gPSBjZWxsU2l6ZSAqIDAuMTtcbiAgJDogd2lkdGggPSBjZWxsU2l6ZSAqIDEwO1xuICAkOiBoZWlnaHQgPSBjZWxsU2l6ZSAqIDExO1xuXG4gIGZ1bmN0aW9uIHJvdGF0ZVBvcyhwb3M6IElQb3NpdGlvbik6IElQb3NpdGlvbiB7XG4gICAgcmV0dXJuIHsgeDogOCAtIHBvcy54LCB5OiA5IC0gcG9zLnkgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJvdGF0ZUJvYXJkKGJvYXJkOiBJQm9hcmQpOiBJQm9hcmQge1xuICAgIGNvbnN0IG5ld0JvYXJkOiBJQm9hcmQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA5IH0sICgpID0+IEFycmF5KDEwKS5maWxsKG51bGwpKTtcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDk7IHgrKykge1xuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCAxMDsgeSsrKSB7XG4gICAgICAgIG5ld0JvYXJkW3hdW3ldID0gYm9hcmRbOCAtIHhdWzkgLSB5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld0JvYXJkO1xuICB9XG5cbiAgJDogcmVuZGVyZWRCb2FyZCA9IHJvdGF0ZWQgPyByb3RhdGVCb2FyZChib2FyZCkgOiBib2FyZDtcbiAgJDogcmVuZGVyZWRNYXJrZWRQb3MgPSByb3RhdGVkICYmIG1hcmtlZFBvcyA/IHJvdGF0ZVBvcyhtYXJrZWRQb3MpIDogbWFya2VkUG9zO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGU6IE1vdXNlRXZlbnQpIHtcbiAgICBjb25zdCBzdmcgPSBlLmN1cnJlbnRUYXJnZXQgYXMgU1ZHU1ZHRWxlbWVudDtcbiAgICBjb25zdCBib2FyZFJlY3QgPSBzdmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgbW91c2VYID0gZS5jbGllbnRYIC0gYm9hcmRSZWN0LmxlZnQ7XG4gICAgY29uc3QgbW91c2VZID0gZS5jbGllbnRZIC0gYm9hcmRSZWN0LnRvcDtcbiAgICBsZXQgZ3JpZFggPSBNYXRoLnJvdW5kKG1vdXNlWCAvIGNlbGxTaXplKSAtIDE7XG4gICAgbGV0IGdyaWRZID0gTWF0aC5yb3VuZChtb3VzZVkgLyBjZWxsU2l6ZSkgLSAxO1xuXG4gICAgaWYgKGdyaWRYID49IDAgJiYgZ3JpZFggPCA5ICYmIGdyaWRZID49IDAgJiYgZ3JpZFkgPCAxMCkge1xuICAgICAgY29uc3QgcG9zID0gcm90YXRlZCA/IHJvdGF0ZVBvcyh7IHg6IGdyaWRYLCB5OiBncmlkWSB9KSA6IHsgeDogZ3JpZFgsIHk6IGdyaWRZIH07XG4gICAgICBldmVudEJ1cy5lbWl0KFwiY2xpY2tcIiwgcG9zKTtcbiAgICB9XG4gIH1cbjwvc2NyaXB0PlxuXG48IS0tIHN2ZWx0ZS1pZ25vcmUgYTExeV9jbGlja19ldmVudHNfaGF2ZV9rZXlfZXZlbnRzIC0tPlxuPCEtLSBzdmVsdGUtaWdub3JlIGExMXlfbm9fc3RhdGljX2VsZW1lbnRfaW50ZXJhY3Rpb25zIC0tPlxuPGRpdiBjbGFzcz1cImJvYXJkLWNvbnRhaW5lclwiPlxuICA8c3ZnXG4gICAge3dpZHRofVxuICAgIHtoZWlnaHR9XG4gICAgdmlld0JveD17YDAgMCAke3dpZHRofSAke2hlaWdodH1gfVxuICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIGNsYXNzPVwieHEtYm9hcmRcIlxuICAgIG9uOmNsaWNrPXtoYW5kbGVDbGlja31cbiAgICBzdHlsZT1cInVzZXItc2VsZWN0Om5vbmU7XCJcbiAgPlxuICAgIDwhLS0g6IOM5pmvIC0tPlxuICAgIDxyZWN0XG4gICAgICB7d2lkdGh9XG4gICAgICB7aGVpZ2h0fVxuICAgICAgZmlsbD17YmdDb2xvcn1cbiAgICAgIHJ4PVwiNVwiXG4gICAgICBzdHJva2U9e2N1cnJlbnRUdXJuID09PSBcInJlZFwiID8gcmVkIDogYmx1ZX1cbiAgICAgIHN0cm9rZS13aWR0aD17Y2VsbFNpemUgKiAwLjJ9XG4gICAgLz5cblxuICAgIDwhLS0g5aSW5qGGIC0tPlxuICAgIDxwYXRoXG4gICAgICBkPXtgTSAke2NlbGxTaXplIC0gbWFyZ2lufSwke2NlbGxTaXplIC0gbWFyZ2lufSBoICR7OCAqIGNlbGxTaXplICsgMiAqIG1hcmdpbn0gdiAkezkgKiBjZWxsU2l6ZSArIDIgKiBtYXJnaW59IGggLSR7OCAqIGNlbGxTaXplICsgMiAqIG1hcmdpbn0gWmB9XG4gICAgICBzdHJva2U9e2xpbmVDb2xvcn1cbiAgICAgIHN0cm9rZS13aWR0aD17Y2VsbFNpemUgKiAwLjA4fVxuICAgICAgZmlsbD1cIm5vbmVcIlxuICAgIC8+XG5cbiAgICA8IS0tIOaoque6vyAtLT5cbiAgICB7I2VhY2ggQXJyYXkoMTApLmZpbGwoMCkgYXMgXywgaX1cbiAgICAgIDxwYXRoXG4gICAgICAgIGQ9e2BNICR7Y2VsbFNpemV9LCR7Y2VsbFNpemUgKiAoaSArIDEpfSBoICR7Y2VsbFNpemUgKiA4fWB9XG4gICAgICAgIHN0cm9rZT17bGluZUNvbG9yfVxuICAgICAgICBzdHJva2Utd2lkdGg9e2NlbGxTaXplICogMC4wNH1cbiAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgLz5cbiAgICB7L2VhY2h9XG5cbiAgICA8IS0tIOS4ii/kuIvnq5bnur8gLS0+XG4gICAgeyNlYWNoIEFycmF5KDkpLmZpbGwoMCkgYXMgXywgaX1cbiAgICAgIDxwYXRoXG4gICAgICAgIGQ9e2BNICR7Y2VsbFNpemUgKiAoaSArIDEpfSwke2NlbGxTaXplfSB2ICR7Y2VsbFNpemUgKiA0fWB9XG4gICAgICAgIHN0cm9rZT17bGluZUNvbG9yfVxuICAgICAgICBzdHJva2Utd2lkdGg9e2NlbGxTaXplICogMC4wNH1cbiAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgLz5cbiAgICAgIDxwYXRoXG4gICAgICAgIGQ9e2BNICR7Y2VsbFNpemUgKiAoaSArIDEpfSwke2NlbGxTaXplICogNn0gdiAke2NlbGxTaXplICogNH1gfVxuICAgICAgICBzdHJva2U9e2xpbmVDb2xvcn1cbiAgICAgICAgc3Ryb2tlLXdpZHRoPXtjZWxsU2l6ZSAqIDAuMDR9XG4gICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgIC8+XG4gICAgey9lYWNofVxuXG4gICAgPCEtLSDlt6blj7Povrnnur8gLS0+XG4gICAgPGxpbmVcbiAgICAgIHgxPXtjZWxsU2l6ZX1cbiAgICAgIHkxPXtjZWxsU2l6ZX1cbiAgICAgIHgyPXtjZWxsU2l6ZX1cbiAgICAgIHkyPXsxMCAqIGNlbGxTaXplfVxuICAgICAgc3Ryb2tlPXtsaW5lQ29sb3J9XG4gICAgICBzdHJva2Utd2lkdGg9e2NlbGxTaXplICogMC4wNH1cbiAgICAvPlxuICAgIDxsaW5lXG4gICAgICB4MT17Y2VsbFNpemUgKiA5fVxuICAgICAgeTE9e2NlbGxTaXplfVxuICAgICAgeDI9e2NlbGxTaXplICogOX1cbiAgICAgIHkyPXsxMCAqIGNlbGxTaXplfVxuICAgICAgc3Ryb2tlPXtsaW5lQ29sb3J9XG4gICAgICBzdHJva2Utd2lkdGg9e2NlbGxTaXplICogMC4wNH1cbiAgICAvPlxuXG4gICAgPCEtLSDmpZrmsrPmsYnnlYwgLS0+XG4gICAgPHRleHRcbiAgICAgIHg9e3dpZHRoIC8gMn1cbiAgICAgIHk9e2hlaWdodCAvIDJ9XG4gICAgICBmb250LXNpemU9e2NlbGxTaXplICogMC42fVxuICAgICAgZm9udC1mYW1pbHk9XCJGWkxpU2h1IElJLVMwNlwiXG4gICAgICB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiXG4gICAgICBkb21pbmFudC1iYXNlbGluZT1cIm1pZGRsZVwiXG4gICAgICBmaWxsPXt0ZXh0Q29sb3J9XG4gICAgPlxuICAgICAg5qWa44CA5rKz44CA44CA5rGJ44CA55WMXG4gICAgPC90ZXh0PlxuXG4gICAgPCEtLSDkuZ3lrqsgLS0+XG4gICAgPGcgc3Ryb2tlPXtsaW5lQ29sb3J9IHN0cm9rZS13aWR0aD17Y2VsbFNpemUgKiAwLjAzfSBmaWxsPVwibm9uZVwiPlxuICAgICAgPHBhdGhcbiAgICAgICAgZD17YE0gJHtjZWxsU2l6ZSAqIDR9LCR7Y2VsbFNpemV9IGwgJHtjZWxsU2l6ZSAqIDJ9ICR7Y2VsbFNpemUgKiAyfSBtIDAsJHstMiAqIGNlbGxTaXplfSBsICR7LTIgKiBjZWxsU2l6ZX0gJHsyICogY2VsbFNpemV9YH1cbiAgICAgIC8+XG4gICAgICA8cGF0aFxuICAgICAgICBkPXtgTSAke2NlbGxTaXplICogNH0sJHs4ICogY2VsbFNpemV9IGwgJHtjZWxsU2l6ZSAqIDJ9ICR7Y2VsbFNpemUgKiAyfSBtIDAsJHstMiAqIGNlbGxTaXplfSBsICR7LTIgKiBjZWxsU2l6ZX0gJHsyICogY2VsbFNpemV9YH1cbiAgICAgIC8+XG4gICAgPC9nPlxuXG4gICAgPCEtLSDngq7lhbXkvY0gLS0+XG4gICAgPGcgc3Ryb2tlPXtsaW5lQ29sb3J9IHN0cm9rZS13aWR0aD17Y2VsbFNpemUgKiAwLjAyfSBmaWxsPVwibm9uZVwiPlxuICAgICAgeyNlYWNoIFtbMiwgM10sIFs4LCAzXSwgWzIsIDhdLCBbOCwgOF0sIFszLCA0XSwgWzUsIDRdLCBbNywgNF0sIFszLCA3XSwgWzcsIDddLCBbNSwgN11dIGFzIGl9XG4gICAgICAgIDxwYXRoXG4gICAgICAgICAgZD17YE0gJHtpWzBdICogY2VsbFNpemV9LCR7aVsxXSAqIGNlbGxTaXplfSBtIC0kezMgKiBtYXJnaW59LC0ke21hcmdpbn0gaCAkezIgKiBtYXJnaW59IHYgLSR7MiAqIG1hcmdpbn0gbSAkezIgKiBtYXJnaW59LDAgdiAkezIgKiBtYXJnaW59IGggJHsyICogbWFyZ2lufSBtIDAsJHsyICogbWFyZ2lufSBoIC0kezIgKiBtYXJnaW59IHYgJHsyICogbWFyZ2lufSBtIC0kezIgKiBtYXJnaW59LDAgdiAtJHsyICogbWFyZ2lufSBoIC0kezIgKiBtYXJnaW59YH1cbiAgICAgICAgLz5cbiAgICAgIHsvZWFjaH1cbiAgICAgIHsjZWFjaCBbWzEsIDRdLCBbMSwgN11dIGFzIGl9XG4gICAgICAgIDxwYXRoXG4gICAgICAgICAgZD17YE0gJHtpWzBdICogY2VsbFNpemV9LCR7aVsxXSAqIGNlbGxTaXplfSBtICR7bWFyZ2lufSwtJHszICogbWFyZ2lufSB2ICR7MiAqIG1hcmdpbn0gaCAkezIgKiBtYXJnaW59IG0gMCwkezIgKiBtYXJnaW59IGggLSR7MiAqIG1hcmdpbn0gdiAkezIgKiBtYXJnaW59YH1cbiAgICAgICAgLz5cbiAgICAgIHsvZWFjaH1cbiAgICAgIHsjZWFjaCBbWzksIDRdLCBbOSwgN11dIGFzIGl9XG4gICAgICAgIDxwYXRoXG4gICAgICAgICAgZD17YE0gJHtpWzBdICogY2VsbFNpemV9LCR7aVsxXSAqIGNlbGxTaXplfSBtIC0kezMgKiBtYXJnaW59LC0ke21hcmdpbn0gaCAkezIgKiBtYXJnaW59IHYgLSR7MiAqIG1hcmdpbn0gbSAwLCR7NiAqIG1hcmdpbn0gdiAtJHsyICogbWFyZ2lufSBoIC0kezIgKiBtYXJnaW59YH1cbiAgICAgICAgLz5cbiAgICAgIHsvZWFjaH1cbiAgICA8L2c+XG5cbiAgICA8IS0tIOaji+WtkCAtLT5cbiAgICA8ZyBpZD1cInhpYW5ncWktcGllY2VzXCI+XG4gICAgICB7I2VhY2ggcmVuZGVyZWRCb2FyZCBhcyByb3csIHh9XG4gICAgICAgIHsjZWFjaCByb3cgYXMgcGllY2UsIHl9XG4gICAgICAgICAgeyNpZiBwaWVjZX1cbiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSh7KHggKyAxKSAqIGNlbGxTaXplfSwgeyh5ICsgMSkgKiBjZWxsU2l6ZX0pXCI+XG4gICAgICAgICAgICAgIDxjaXJjbGVcbiAgICAgICAgICAgICAgICByPXtjZWxsU2l6ZSAqIDAuNH1cbiAgICAgICAgICAgICAgICBmaWxsPXtwaWVjZSA9PT0gcGllY2UudG9VcHBlckNhc2UoKSA/IHJlZCA6IGJsdWV9XG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwiI2ZmZlwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPXtjZWxsU2l6ZSAqIDAuMDJ9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDx0ZXh0XG4gICAgICAgICAgICAgICAgeD1cIjBcIlxuICAgICAgICAgICAgICAgIHk9XCIwXCJcbiAgICAgICAgICAgICAgICBmaWxsPVwid2hpdGVcIlxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZT17Y2VsbFNpemUgKiAwLjQ1fVxuICAgICAgICAgICAgICAgIHRleHQtYW5jaG9yPVwibWlkZGxlXCJcbiAgICAgICAgICAgICAgICBkeT1cIjAuMzVlbVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7UElFQ0VfQ0hBUlNbcGllY2UgYXMga2V5b2YgdHlwZW9mIFBJRUNFX0NIQVJTXX1cbiAgICAgICAgICAgICAgPC90ZXh0PlxuICAgICAgICAgICAgPC9nPlxuICAgICAgICAgIHsvaWZ9XG4gICAgICAgIHsvZWFjaH1cbiAgICAgIHsvZWFjaH1cbiAgICA8L2c+XG5cbiAgICA8IS0tIOagh+iusCAtLT5cbiAgICB7I2lmIHJlbmRlcmVkTWFya2VkUG9zfVxuICAgICAgPGdcbiAgICAgICAgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKCR7KHJlbmRlcmVkTWFya2VkUG9zLnggKyAxKSAqIGNlbGxTaXplfSwgJHsocmVuZGVyZWRNYXJrZWRQb3MueSArIDEpICogY2VsbFNpemV9KWB9XG4gICAgICA+XG4gICAgICAgIDxwYXRoXG4gICAgICAgICAgZD17YE0gJHstMC40ICogY2VsbFNpemV9LCR7LTAuNCAqIGNlbGxTaXplICsgbWFyZ2lufSB2ICR7LW1hcmdpbn0gaCAke21hcmdpbn1cbiAgICAgICAgICAgICAgTSAkezAuNCAqIGNlbGxTaXplIC0gbWFyZ2lufSwkey0wLjQgKiBjZWxsU2l6ZX0gaCAke21hcmdpbn0gdiAke21hcmdpbn1cbiAgICAgICAgICAgICAgTSAkezAuNCAqIGNlbGxTaXplfSwkezAuNCAqIGNlbGxTaXplIC0gbWFyZ2lufSB2ICR7bWFyZ2lufSBoICR7LW1hcmdpbn1cbiAgICAgICAgICAgICAgTSAkey0wLjQgKiBjZWxsU2l6ZSArIG1hcmdpbn0sJHswLjQgKiBjZWxsU2l6ZX0gaCAkey1tYXJnaW59IHYgJHstbWFyZ2lufWB9XG4gICAgICAgICAgc3Ryb2tlPVwicmVkXCJcbiAgICAgICAgICBzdHJva2Utd2lkdGg9e2NlbGxTaXplICogMC4wNX1cbiAgICAgICAgICBmaWxsPVwicmVkXCJcbiAgICAgICAgLz5cbiAgICAgIDwvZz5cbiAgICB7L2lmfVxuICA8L3N2Zz5cbjwvZGl2PlxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IHsgc2V0SWNvbiB9IGZyb20gXCJvYnNpZGlhblwiO1xuICBpbXBvcnQgdHlwZSB7IElNb3ZlLCBJU2V0dGluZ3MgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbiAgaW1wb3J0IHR5cGUgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi8uLi9jb3JlL2V2ZW50LWJ1c1wiO1xuXG4gIGV4cG9ydCBsZXQgc2V0dGluZ3M6IElTZXR0aW5ncztcbiAgZXhwb3J0IGxldCBldmVudEJ1czogRXZlbnRCdXM7XG4gIGV4cG9ydCBsZXQgbW9kaWZpZWQ6IGJvb2xlYW47XG4gIGV4cG9ydCBsZXQgUEdOOiBJTW92ZVtdO1xuICBleHBvcnQgbGV0IGlzcHJvdGVjdGVkOiBib29sZWFuO1xuICBsZXQgYnV0dG9uQ2xhc3MgPSBcIlwiO1xuICAkOiB7XG4gICAgYnV0dG9uQ2xhc3MgPSBtb2RpZmllZCA/IFwidW5zYXZlZFwiIDogUEdOLmxlbmd0aCA+IDAgPyBcInNhdmVkXCIgOiBcImVtcHR5XCI7XG4gIH1cblxuICBjb25zdCBidXR0b25zID0gW1xuICAgIHsgdGl0bGU6IFwi6YeN572uXCIsIGljb246IFwicmVmcmVzaC1jd1wiLCBldmVudDogXCJyZXNldFwiIH0sXG4gICAgeyB0aXRsZTogXCLlvIDlsYBcIiwgaWNvbjogXCJhcnJvdy1sZWZ0LXRvLWxpbmVcIiwgZXZlbnQ6IFwidG9TdGFydFwiIH0sXG4gICAgeyB0aXRsZTogXCLlm57pgIBcIiwgaWNvbjogXCJ1bmRvLWRvdFwiLCBldmVudDogXCJ1bmRvXCIgfSxcbiAgICB7IHRpdGxlOiBcIuWJjei/m1wiLCBpY29uOiBcInJlZG8tZG90XCIsIGV2ZW50OiBcInJlZG9cIiB9LFxuICAgIHsgdGl0bGU6IFwi57uI5bGAXCIsIGljb246IFwiYXJyb3ctcmlnaHQtdG8tbGluZVwiLCBldmVudDogXCJ0b0VuZFwiIH0sXG4gIF07XG5cbiAgbGV0IHNhdmVCdG5FbDogSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cbiAgZnVuY3Rpb24gZW1pdEV2ZW50KG5hbWU6IHN0cmluZykge1xuICAgIGV2ZW50QnVzLmVtaXQobmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiB1c2VTZXRJY29uKGVsOiBIVE1MRWxlbWVudCwgaWNvbjogc3RyaW5nKSB7XG4gICAgc2V0SWNvbihlbCwgaWNvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZShuZXdJY29uOiBzdHJpbmcpIHtcbiAgICAgICAgc2V0SWNvbihlbCwgbmV3SWNvbik7XG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB1c2VTZXRTYXZlSWNvbihlbDogSFRNTEVsZW1lbnQpIHtcbiAgICBzZXRJY29uKGVsLCBcInNhdmVcIik7XG4gIH1cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwidG9vbGJhci1jb250YWluZXIge3NldHRpbmdzLnBvc2l0aW9ufVwiPlxuICB7I2VhY2ggYnV0dG9ucyBhcyB7IHRpdGxlLCBpY29uLCBldmVudCB9fVxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzPVwidG9vbGJhci1idG5cIlxuICAgICAgYXJpYS1sYWJlbD17dGl0bGV9XG4gICAgICB1c2U6dXNlU2V0SWNvbj17aWNvbn1cbiAgICAgIG9uOmNsaWNrPXsoKSA9PiBlbWl0RXZlbnQoZXZlbnQpfVxuICAgID48L2J1dHRvbj5cbiAgey9lYWNofVxuXG4gIDxidXR0b25cbiAgICBjbGFzcz1cInRvb2xiYXItYnRuIHtidXR0b25DbGFzc31cIlxuICAgIGNsYXNzOmRpc2FibGVkPXtpc3Byb3RlY3RlZH1cbiAgICBhcmlhLWxhYmVsPVwi5L+d5a2YXCJcbiAgICBiaW5kOnRoaXM9e3NhdmVCdG5FbH1cbiAgICB1c2U6dXNlU2V0U2F2ZUljb25cbiAgICBvbjpjbGljaz17KCkgPT4gZW1pdEV2ZW50KFwic2F2ZVwiKX1cbiAgPjwvYnV0dG9uPlxuPC9kaXY+XG5cbjxzdHlsZT5cbiAgLnRvb2xiYXItY29udGFpbmVyLmJvdHRvbSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGdhcDogNHB4O1xuICB9XG5cbiAgLnRvb2xiYXItY29udGFpbmVyLnJpZ2h0IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiA0cHg7XG4gIH1cblxuICAudG9vbGJhci1idG4ge1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBwYWRkaW5nOiA2cHggMTBweDtcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZSxcbiAgICAgIHRyYW5zZm9ybSAwLjFzIGVhc2U7XG4gIH1cblxuICAvKiA9PT0g54q25oCB6aKc6ImyID09PSAqL1xuICAudG9vbGJhci1idG4uZW1wdHkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGhzbCgzMywgNSUsIDU3JSk7XG4gIH1cblxuICAudG9vbGJhci1idG4uc2F2ZWQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGhzbCgxMjIsIDM5JSwgNDklKTtcbiAgfVxuXG4gIC50b29sYmFyLWJ0bi51bnNhdmVkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMzUsIDEwMCUsIDUwJSk7XG4gIH1cblxuICAudG9vbGJhci1idG4uZGlzYWJsZWQge1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgfVxuPC9zdHlsZT5cbiIsIi8qKlxuICog5Zyo5oyH5a6a5a655Zmo5YaF77yM5aaC5p6c5pyJ5Z6C55u05rua5Yqo5p2h77yM5YiZ5bmz5ruR5rua5Yqo6K6p55uu5qCH5YWD57Sg5Z6C55u05bGF5Lit44CCXG4gKiDmsqHmnInmu5rliqjmnaHml7bkuI3mu5rliqjjgIJcbiAqIEBwYXJhbSBlbGVtZW50IOebruagh+WFg+e0oFxuICogQHBhcmFtIGNvbnRhaW5lciDlj6/mu5rliqjlrrnlmahcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvQlROKFxuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCxcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCxcbik6IHZvaWQge1xuICAgIGlmICghZWxlbWVudCB8fCAhY29udGFpbmVyKSByZXR1cm47XG4gICAgY29uc3QgaGFzVmVydGljYWxTY3JvbGxiYXIgPSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0ID4gY29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICBpZiAoIWhhc1ZlcnRpY2FsU2Nyb2xsYmFyKSByZXR1cm47XG4gICAgY29uc3QgZWxlbWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qgb2Zmc2V0VG9wID0gZWxlbWVudFJlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3A7XG4gICAgY29uc3QgdGFyZ2V0U2Nyb2xsVG9wID1cbiAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCArXG4gICAgICAgIG9mZnNldFRvcCAtXG4gICAgICAgIGNvbnRhaW5lci5jbGllbnRIZWlnaHQgLyAyICtcbiAgICAgICAgZWxlbWVudC5vZmZzZXRIZWlnaHQgLyAyO1xuICAgIGNvbnRhaW5lci5zY3JvbGxUbyh7XG4gICAgICAgIHRvcDogdGFyZ2V0U2Nyb2xsVG9wLFxuICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcbiAgICB9KTtcbn0iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgeyB0aWNrIH0gZnJvbSBcInN2ZWx0ZVwiO1xuICBpbXBvcnQgeyBzY3JvbGxUb0JUTiB9IGZyb20gXCIuLi8uLi91dGlscy91dGlsc1wiO1xuXG4gIGxldCB7IHNldHRpbmdzLCBjdXJyZW50U3RlcCwgbW92ZXMsIGV2ZW50QnVzIH0gPSAkcHJvcHMoKTtcblxuICBsZXQgaXRlbVJlZnM6IEhUTUxMSUVsZW1lbnRbXSA9IFtdO1xuICBsZXQgdWxSZWY6IEhUTUxVTGlzdEVsZW1lbnQ7XG5cbiAgJGVmZmVjdCgoKSA9PiB7XG4gICAgdm9pZCBjdXJyZW50U3RlcDtcbiAgICB2b2lkIG1vdmVzO1xuXG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRpY2soKTtcblxuICAgICAgY29uc3QgaW5kZXggPSBNYXRoLmZsb29yKGN1cnJlbnRTdGVwIC8gMikgKyAxO1xuICAgICAgY29uc3QgdGFyZ2V0RWwgPSBpdGVtUmVmc1tpbmRleF07XG5cbiAgICAgIGlmICh0YXJnZXRFbCkge1xuICAgICAgICBzY3JvbGxUb0JUTih0YXJnZXRFbCwgdWxSZWYpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gIH0pO1xuPC9zY3JpcHQ+XG5cbjwhLS0gc3ZlbHRlLWlnbm9yZSBhMTF5X2NsaWNrX2V2ZW50c19oYXZlX2tleV9ldmVudHMgLS0+XG48IS0tIHN2ZWx0ZS1pZ25vcmUgYTExeV9ub19zdGF0aWNfZWxlbWVudF9pbnRlcmFjdGlvbnMgLS0+XG48ZGl2XG4gIGNsYXNzPVwibW92ZS1jb250YWluZXIge3NldHRpbmdzLnBvc2l0aW9ufVwiXG4gIHN0eWxlPVwiLS1oZWlnaHQ6IHsxMSAqIHNldHRpbmdzLmNlbGxTaXplfXB4O1xuICAgIC0td2lkdGg6IHsxMCAqIHNldHRpbmdzLmNlbGxTaXplfXB4O1xuICAgIC0tZm9udHNpemU6IHtzZXR0aW5ncy5mb250U2l6ZX1weDtcIlxuPlxuICA8dWwgY2xhc3M9XCJtb3ZlLWxpc3Qge3NldHRpbmdzLnBvc2l0aW9ufVwiIGJpbmQ6dGhpcz17dWxSZWZ9PlxuICAgIDxsaVxuICAgICAgY2xhc3M9XCJzdGFydFwiXG4gICAgICBiaW5kOnRoaXM9e2l0ZW1SZWZzWzBdfVxuICAgICAgc3R5bGU6ZGlzcGxheT17c2V0dGluZ3MucG9zaXRpb24gPT09IFwicmlnaHRcIiA/IFwiZmxleFwiIDogXCJub25lXCJ9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3M9XCJyb3VuZG51bVwiPjA8L3NwYW4+XG4gICAgICA8c3BhblxuICAgICAgICBjbGFzcz1cIm1vdmVcIlxuICAgICAgICBjbGFzczphY3RpdmU9e2N1cnJlbnRTdGVwID09PSAwfVxuICAgICAgICBvbmNsaWNrPXsoKSA9PiBldmVudEJ1cy5lbWl0KFwiY2xpY2tzdGVwXCIsIDApfVxuICAgICAgPlxuICAgICAgICB7c2V0dGluZ3Muc2hvd1BHTnR4dCA/IFwiPT09IOW8gCDlsYAgPT09XCIgOiBcIuW8gCDlsYBcIn1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPlxuICAgIHsjZWFjaCBtb3ZlcyBhcyBtb3ZlLCBpfVxuICAgICAgeyNpZiBpICUgMiA9PT0gMH1cbiAgICAgICAgPGxpIGNsYXNzPVwicm91bmRcIiBiaW5kOnRoaXM9e2l0ZW1SZWZzW2kgLyAyICsgMV19PlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicm91bmRudW1cIj57aSAvIDIgKyAxfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3M9XCJtb3ZlIHJlZFwiXG4gICAgICAgICAgICBjbGFzczphY3RpdmU9e2N1cnJlbnRTdGVwID09PSBpICsgMX1cbiAgICAgICAgICAgIG9uY2xpY2s9eygpID0+IGV2ZW50QnVzLmVtaXQoXCJjbGlja3N0ZXBcIiwgaSArIDEpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtzZXR0aW5ncy5zaG93UEdOdHh0ID8gbW92ZS5XWEYgOiBcIue6olwifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7I2lmIG1vdmVzW2kgKyAxXX1cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzPVwibW92ZSBibGFja1wiXG4gICAgICAgICAgICAgIGNsYXNzOmFjdGl2ZT17Y3VycmVudFN0ZXAgPT09IGkgKyAyfVxuICAgICAgICAgICAgICBvbmNsaWNrPXsoKSA9PiBldmVudEJ1cy5lbWl0KFwiY2xpY2tzdGVwXCIsIGkgKyAyKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3NldHRpbmdzLnNob3dQR050eHQgPyBtb3Zlc1tpICsgMV0uV1hGIDogXCLpu5FcIn1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7L2lmfVxuICAgICAgICA8L2xpPlxuICAgICAgey9pZn1cbiAgICB7L2VhY2h9XG4gIDwvdWw+XG48L2Rpdj5cblxuPHN0eWxlPlxuICAubW92ZS1jb250YWluZXIge1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tZm9udHNpemUpO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAwO1xuICB9XG5cbiAgLm1vdmUtbGlzdC5yaWdodCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICAgIGhlaWdodDogdmFyKC0taGVpZ2h0KTtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogMDtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzLXMpO1xuICB9XG5cbiAgLm1vdmUtbGlzdC5ib3R0b20ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgd2lkdGg6IHZhcigtLXdpZHRoKTtcbiAgICBtYXgtaGVpZ2h0OiBjYWxjKHZhcigtLXdpZHRoKSAvIDIpO1xuICAgIGFsaWduLWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IDA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gIH1cblxuICBsaS5yb3VuZCxcbiAgbGkuc3RhcnQge1xuICAgIC8qIGRpc3BsYXk6IGZsZXg7ICovXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBnYXA6IDAuMjVlbTtcbiAgICBwYWRkaW5nOiAycHg7XG4gICAgbWFyZ2luOiAwO1xuICAgIGJvcmRlci1ib3R0b206IG5vbmU7XG4gIH1cblxuICBzcGFuLnJvdW5kbnVtIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgbWluLXdpZHRoOiAxLjVlbTtcbiAgICBtYXgtd2lkdGg6IDNlbTtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBtYXJnaW4tcmlnaHQ6IDAuNGVtO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgZmxleC1zaHJpbms6IDA7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICB9XG5cbiAgc3Bhbi5tb3ZlIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgbGluZS1oZWlnaHQ6IDE7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycyBlYXNlO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIH1cblxuICBzcGFuLm1vdmU6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICB9XG5cbiAgc3Bhbi5tb3ZlIHtcbiAgICBjb2xvcjogIzMzN2FiNztcbiAgICBwYWRkaW5nOiAycHg7XG4gIH1cblxuICBzcGFuLm1vdmUuYWN0aXZlIHtcbiAgICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpOyAqL1xuICAgIGNvbG9yOiByZWQ7XG4gIH1cbjwvc3R5bGU+XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgQm9hcmQgZnJvbSBcIi4uL0JvYXJkLnN2ZWx0ZVwiO1xuICBpbXBvcnQgVG9vbGJhciBmcm9tIFwiLi9Ub29sYmFyLnN2ZWx0ZVwiO1xuICBpbXBvcnQgTW92ZUxpc3QgZnJvbSBcIi4vTW92ZUxpc3Quc3ZlbHRlXCI7XG4gIGltcG9ydCB0eXBlIHsgSUJvYXJkLCBJTW92ZSwgSU9wdGlvbnMsIElQb3NpdGlvbiwgSVNldHRpbmdzIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG4gIGltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vLi4vY29yZS9ldmVudC1idXNcIjtcbiAgaW1wb3J0IHsgb25Nb3VudCwgdGljayB9IGZyb20gXCJzdmVsdGVcIjtcblxuICBleHBvcnQgbGV0IHNldHRpbmdzOiBJU2V0dGluZ3M7XG4gIGV4cG9ydCBsZXQgYm9hcmQ6IElCb2FyZDtcbiAgZXhwb3J0IGxldCBtYXJrZWRQb3M6IElQb3NpdGlvbjtcbiAgZXhwb3J0IGxldCBjdXJyZW50VHVybjogc3RyaW5nO1xuICBleHBvcnQgbGV0IGN1cnJlbnRTdGVwOiBudW1iZXI7XG4gIGV4cG9ydCBsZXQgZXZlbnRCdXM6IEV2ZW50QnVzO1xuICBleHBvcnQgbGV0IG1vZGlmaWVkOiBib29sZWFuO1xuICBleHBvcnQgbGV0IFBHTjogSU1vdmVbXTtcbiAgZXhwb3J0IGxldCBoaXN0b3J5OiBJTW92ZVtdO1xuICBleHBvcnQgbGV0IG9wdGlvbnM6IElPcHRpb25zO1xuICAkOiBtb3ZlcyA9IG1vZGlmaWVkID8gaGlzdG9yeSA6IFBHTjtcbiAgJDogaXNwcm90ZWN0ZWQgPSBvcHRpb25zLnByb3RlY3RlZCB8fCBmYWxzZTtcbiAgJDogcm90YXRlZCA9IG9wdGlvbnMucm90YXRlZCB8fCBmYWxzZTtcbiAgb25Nb3VudChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgdGljaygpO1xuICAgIGV2ZW50QnVzLmVtaXQoXCJyZWFkeVwiKTtcbiAgfSk7XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cIlhRLWNvbnRhaW5lciB7c2V0dGluZ3MucG9zaXRpb259XCI+XG4gIDxCb2FyZCB7c2V0dGluZ3N9IHtib2FyZH0ge21hcmtlZFBvc30ge2N1cnJlbnRUdXJufSB7ZXZlbnRCdXN9IHtyb3RhdGVkfSAvPlxuICA8VG9vbGJhciB7c2V0dGluZ3N9IHtldmVudEJ1c30ge21vZGlmaWVkfSB7UEdOfSB7aXNwcm90ZWN0ZWR9IC8+XG4gIDxNb3ZlTGlzdCB7c2V0dGluZ3N9IHtjdXJyZW50U3RlcH0ge21vdmVzfSB7ZXZlbnRCdXN9IC8+XG48L2Rpdj5cblxuPHN0eWxlPlxuICAuWFEtY29udGFpbmVyIHtcbiAgICAtLXJlZDogIzg2MTgxODtcbiAgICAtLWJsdWU6ICMwMDAwODA7XG4gICAgbWFyZ2luOiAxMHB4O1xuICB9XG5cbiAgLlhRLWNvbnRhaW5lci5yaWdodCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGdhcDogMnB4O1xuICB9XG5cbiAgLlhRLWNvbnRhaW5lci5ib3R0b20ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgfVxuPC9zdHlsZT5cbiIsImltcG9ydCBYaWFuZ3FpIGZyb20gXCIuLi8uLi9saWIvWElhbmdxaS9YaWFuZ3FpLnN2ZWx0ZVwiO1xuaW1wb3J0IHsgcmVnaXN0ZXJHZW5GRU5Nb2R1bGUsIHJlZ2lzdGVyWFFNb2R1bGUgfSBmcm9tIFwiLi4vLi4vY29yZS9tb2R1bGUtc3lzdGVtXCI7XG5cbmV4cG9ydCBjbGFzcyBCb2FyZE1vZHVsZSB7XG4gICAgc3RhdGljIGluaXQoaG9zdDogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgICAgICBob3N0LkJvYXJkTW9kdWxlID0gbmV3IEJvYXJkTW9kdWxlKGhvc3QpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGhvc3Q6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICAgICAgY29uc3QgZXZlbnRCdXMgPSBob3N0LmV2ZW50QnVzO1xuICAgICAgICBldmVudEJ1cy5vbihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaG9zdC5tb2RpZmllZCA9IGZhbHNlXG4gICAgICAgICAgICBjb25zdCBDb250YWluZXIgPSBob3N0LmNvbnRhaW5lckVsLmNyZWF0ZUVsKCdkaXYnKTtcbiAgICAgICAgICAgIGhvc3QuWGlhbmdxaSA9IG5ldyBYaWFuZ3FpKHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczogaG9zdC5zZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgYm9hcmQ6IGhvc3QuYm9hcmQsXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlZFBvczogaG9zdC5tYXJrZWRQb3MsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUdXJuOiBob3N0LmN1cnJlbnRUdXJuLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RlcDogaG9zdC5jdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCdXM6IGhvc3QuZXZlbnRCdXMsXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkOiBob3N0Lm1vZGlmaWVkLFxuICAgICAgICAgICAgICAgICAgICBQR046IGhvc3QuUEdOLFxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5OiBob3N0Lmhpc3RvcnksXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGhvc3Qub3B0aW9uc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcblxuICAgICAgICBldmVudEJ1cy5vbigncmVhZHknLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhob3N0LnNldHRpbmdzLmF1dG9KdW1wKTtcbiAgICAgICAgICAgIGlmICghaG9zdC5zZXR0aW5ncy5hdXRvSnVtcCkgcmV0dXJuXG4gICAgICAgICAgICBzd2l0Y2ggKGhvc3Quc2V0dGluZ3MuYXV0b0p1bXApIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwibmV2ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFsd2F5c1wiOlxuICAgICAgICAgICAgICAgICAgICBldmVudEJ1cy5lbWl0KCd0b0VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXV0b1wiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhvc3QuaGF2ZUZFTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRCdXMuZW1pdCgndG9FbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBldmVudEJ1cy5vbigndXBkYXRlVUknLCAodHlwZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBob3N0LlhpYW5ncWkuJHNldCh7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHsgLi4uaG9zdC5zZXR0aW5ncyB9LFxuICAgICAgICAgICAgICAgIGJvYXJkOiBob3N0LmJvYXJkLFxuICAgICAgICAgICAgICAgIG1hcmtlZFBvczogaG9zdC5tYXJrZWRQb3MsXG4gICAgICAgICAgICAgICAgY3VycmVudFR1cm46IGhvc3QuY3VycmVudFR1cm4sXG4gICAgICAgICAgICAgICAgY3VycmVudFN0ZXA6IGhvc3QuY3VycmVudFN0ZXAsXG4gICAgICAgICAgICAgICAgbW9kaWZpZWQ6IGhvc3QubW9kaWZpZWQsXG4gICAgICAgICAgICAgICAgaGlzdG9yeTogWy4uLmhvc3QuaGlzdG9yeV0sXG4gICAgICAgICAgICAgICAgb3B0aW9uczogeyAuLi5ob3N0Lm9wdGlvbnMgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgZXZlbnRCdXMub24oXCJ1bmxvYWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaG9zdC5YaWFuZ3FpLiRkZXN0cm95KCk7XG4gICAgICAgICAgICBob3N0LlhpYW5ncWkgPSBudWxsO1xuICAgICAgICB9KVxuICAgIH1cbn1cblxucmVnaXN0ZXJYUU1vZHVsZSgnYm9hcmQnLCBCb2FyZE1vZHVsZSk7XG4iLCIvKipcbiAqIOixoeaji+i1sOWtkOinhOWImeagoemqjOaooeWdl1xuICog5pSv5oyB5Z+65pys55qE5qOL5a2Q6LWw5rOV5ZCI5rOV5oCn5Yik5patXG4gKi9cbmltcG9ydCB0eXBlIHsgSUJvYXJkLCBJTW92ZSwgSVBvc2l0aW9uIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkTW92ZShcblx0ZnJvbTogSVBvc2l0aW9uLFxuXHR0bzogSVBvc2l0aW9uLFxuXHRib2FyZDogSUJvYXJkLFxuKTogYm9vbGVhbiB7XG5cdC8vIOmAmueUqOagoemqjFxuXHRpZiAoIWJvYXJkKSByZXR1cm4gZmFsc2U7XG5cdGNvbnN0IGVyciA9IGJhc2VDaGVjayhmcm9tLCB0bywgYm9hcmQpO1xuXHRpZiAoZXJyKSByZXR1cm4gZmFsc2U7XG5cdGNvbnN0IGZyb21QaWVjZSA9IGJvYXJkW2Zyb20ueF1bZnJvbS55XTtcblx0Y29uc3QgdG9QaWVjZSA9IGJvYXJkW3RvLnhdW3RvLnldO1xuXHRpZiAoaXNTYW1lU2lkZShmcm9tUGllY2UhLCB0b1BpZWNlKSkgcmV0dXJuIGZhbHNlO1xuXG5cdHN3aXRjaCAoZnJvbVBpZWNlIS50b1VwcGVyQ2FzZSgpKSB7XG5cdFx0Y2FzZSBcIlJcIjpcblx0XHRcdHJldHVybiBjYW5STW92ZShmcm9tLCB0bywgYm9hcmQpO1xuXHRcdGNhc2UgXCJOXCI6XG5cdFx0XHRyZXR1cm4gY2FuTk1vdmUoZnJvbSwgdG8sIGJvYXJkKTtcblx0XHRjYXNlIFwiQlwiOlxuXHRcdFx0cmV0dXJuIGNhbkJNb3ZlKGZyb20sIHRvLCBib2FyZCk7XG5cdFx0Y2FzZSBcIkFcIjpcblx0XHRcdHJldHVybiBjYW5BTW92ZShmcm9tLCB0bywgYm9hcmQpO1xuXHRcdGNhc2UgXCJLXCI6XG5cdFx0XHRyZXR1cm4gY2FuS01vdmUoZnJvbSwgdG8sIGJvYXJkKTtcblx0XHRjYXNlIFwiQ1wiOlxuXHRcdFx0cmV0dXJuIGNhbkNNb3ZlKGZyb20sIHRvLCBib2FyZCk7XG5cdFx0Y2FzZSBcIlBcIjpcblx0XHRcdHJldHVybiBjYW5QTW92ZShmcm9tLCB0bywgYm9hcmQpO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cbi8vIOmAmueUqOagoemqjO+8mui2iueVjOOAgeWOn+WcsOS4jeWKqOOAgeaXoOaji+WtkFxuZnVuY3Rpb24gYmFzZUNoZWNrKFxuXHRmcm9tOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0sXG5cdHRvOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0sXG5cdGJvYXJkOiAoc3RyaW5nIHwgbnVsbClbXVtdLFxuKTogc3RyaW5nIHwgbnVsbCB7XG5cdGlmIChcblx0XHRmcm9tLnggPCAwIHx8XG5cdFx0ZnJvbS54ID4gOCB8fFxuXHRcdGZyb20ueSA8IDAgfHxcblx0XHRmcm9tLnkgPiA5IHx8XG5cdFx0dG8ueCA8IDAgfHxcblx0XHR0by54ID4gOCB8fFxuXHRcdHRvLnkgPCAwIHx8XG5cdFx0dG8ueSA+IDlcblx0KVxuXHRcdHJldHVybiBcIm91dC1vZi1ib2FyZFwiO1xuXHRpZiAoZnJvbS54ID09PSB0by54ICYmIGZyb20ueSA9PT0gdG8ueSkgcmV0dXJuIFwic2FtZS1wb3NcIjtcblx0aWYgKCFib2FyZFtmcm9tLnhdW2Zyb20ueV0pIHJldHVybiBcIm5vLXBpZWNlXCI7XG5cdHJldHVybiBudWxsO1xufVxuXG4vLyDpgJrnlKjmoKHpqozvvJrkuI3og73lkIPlt7HmlrlcbmZ1bmN0aW9uIGlzU2FtZVNpZGUoZnJvbVBpZWNlOiBzdHJpbmcsIHRvUGllY2U6IHN0cmluZyB8IG51bGwpOiBib29sZWFuIHtcblx0aWYgKCF0b1BpZWNlKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiAoXG5cdFx0KGZyb21QaWVjZSA9PT0gZnJvbVBpZWNlLnRvVXBwZXJDYXNlKCkpID09PVxuXHRcdCh0b1BpZWNlID09PSB0b1BpZWNlLnRvVXBwZXJDYXNlKCkpXG5cdCk7XG59XG5cbi8vIOi9plxuZnVuY3Rpb24gY2FuUk1vdmUoXG5cdGZyb206IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSxcblx0dG86IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSxcblx0Ym9hcmQ6IChzdHJpbmcgfCBudWxsKVtdW10sXG4pOiBib29sZWFuIHtcblx0aWYgKGZyb20ueCAhPT0gdG8ueCAmJiBmcm9tLnkgIT09IHRvLnkpIHJldHVybiBmYWxzZTtcblx0aWYgKGZyb20ueCA9PT0gdG8ueCkge1xuXHRcdGNvbnN0IFttaW4sIG1heF0gPSBbZnJvbS55LCB0by55XS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG5cdFx0Zm9yIChsZXQgeSA9IG1pbiArIDE7IHkgPCBtYXg7IHkrKykge1xuXHRcdFx0aWYgKGJvYXJkW2Zyb20ueF1beV0pIHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3QgW21pbiwgbWF4XSA9IFtmcm9tLngsIHRvLnhdLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcblx0XHRmb3IgKGxldCB4ID0gbWluICsgMTsgeCA8IG1heDsgeCsrKSB7XG5cdFx0XHRpZiAoYm9hcmRbeF1bZnJvbS55XSkgcmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuLy8g6amsXG5mdW5jdGlvbiBjYW5OTW92ZShcblx0ZnJvbTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuXHR0bzogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuXHRib2FyZDogKHN0cmluZyB8IG51bGwpW11bXSxcbik6IGJvb2xlYW4ge1xuXHRjb25zdCBkeCA9IHRvLnggLSBmcm9tLngsXG5cdFx0ZHkgPSB0by55IC0gZnJvbS55O1xuXHRpZiAoXG5cdFx0IShcblx0XHRcdChNYXRoLmFicyhkeCkgPT09IDIgJiYgTWF0aC5hYnMoZHkpID09PSAxKSB8fFxuXHRcdFx0KE1hdGguYWJzKGR4KSA9PT0gMSAmJiBNYXRoLmFicyhkeSkgPT09IDIpXG5cdFx0KVxuXHQpXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHRpZiAoTWF0aC5hYnMoZHgpID09PSAyKSB7XG5cdFx0aWYgKGJvYXJkW2Zyb20ueCArIGR4IC8gMl1bZnJvbS55XSkgcmV0dXJuIGZhbHNlO1xuXHR9IGVsc2Uge1xuXHRcdGlmIChib2FyZFtmcm9tLnhdW2Zyb20ueSArIGR5IC8gMl0pIHJldHVybiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuLy8g55u4L+ixoVxuZnVuY3Rpb24gY2FuQk1vdmUoXG5cdGZyb206IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSxcblx0dG86IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSxcblx0Ym9hcmQ6IChzdHJpbmcgfCBudWxsKVtdW10sXG4pOiBib29sZWFuIHtcblx0Y29uc3QgZHggPSB0by54IC0gZnJvbS54LFxuXHRcdGR5ID0gdG8ueSAtIGZyb20ueTtcblx0aWYgKE1hdGguYWJzKGR4KSAhPT0gMiB8fCBNYXRoLmFicyhkeSkgIT09IDIpIHJldHVybiBmYWxzZTtcblx0Y29uc3QgZnJvbVBpZWNlID0gYm9hcmRbZnJvbS54XVtmcm9tLnldITtcblx0Y29uc3QgaXNSZWQgPSBmcm9tUGllY2UgPT09IGZyb21QaWVjZS50b1VwcGVyQ2FzZSgpO1xuXHRpZiAoKGlzUmVkICYmIHRvLnkgPCA1KSB8fCAoIWlzUmVkICYmIHRvLnkgPiA0KSkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoYm9hcmRbZnJvbS54ICsgZHggLyAyXVtmcm9tLnkgKyBkeSAvIDJdKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiB0cnVlO1xufVxuXG4vLyDlo6sv5LuVXG5mdW5jdGlvbiBjYW5BTW92ZShcblx0ZnJvbTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuXHR0bzogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuXHRib2FyZDogKHN0cmluZyB8IG51bGwpW11bXSxcbik6IGJvb2xlYW4ge1xuXHRjb25zdCBkeCA9IE1hdGguYWJzKHRvLnggLSBmcm9tLngpLFxuXHRcdGR5ID0gTWF0aC5hYnModG8ueSAtIGZyb20ueSk7XG5cdGlmIChkeCAhPT0gMSB8fCBkeSAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuXHRjb25zdCBmcm9tUGllY2UgPSBib2FyZFtmcm9tLnhdW2Zyb20ueV0hO1xuXHRjb25zdCBpc1JlZCA9IGZyb21QaWVjZSA9PT0gZnJvbVBpZWNlLnRvVXBwZXJDYXNlKCk7XG5cdGlmIChpc1JlZCkge1xuXHRcdHJldHVybiB0by54ID49IDMgJiYgdG8ueCA8PSA1ICYmIHRvLnkgPj0gNyAmJiB0by55IDw9IDk7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHRvLnggPj0gMyAmJiB0by54IDw9IDUgJiYgdG8ueSA+PSAwICYmIHRvLnkgPD0gMjtcblx0fVxufVxuXG4vLyDlsIYv5biFXG5mdW5jdGlvbiBjYW5LTW92ZShcblx0ZnJvbTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuXHR0bzogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuXHRib2FyZDogKHN0cmluZyB8IG51bGwpW11bXSxcbik6IGJvb2xlYW4ge1xuXHRjb25zdCBkeCA9IE1hdGguYWJzKHRvLnggLSBmcm9tLngpLFxuXHRcdGR5ID0gTWF0aC5hYnModG8ueSAtIGZyb20ueSk7XG5cdGlmIChkeCArIGR5ICE9PSAxKSByZXR1cm4gZmFsc2U7XG5cdGNvbnN0IGZyb21QaWVjZSA9IGJvYXJkW2Zyb20ueF1bZnJvbS55XSE7XG5cdGNvbnN0IGlzUmVkID0gZnJvbVBpZWNlID09PSBmcm9tUGllY2UudG9VcHBlckNhc2UoKTtcblx0aWYgKGlzUmVkKSB7XG5cdFx0aWYgKCEodG8ueCA+PSAzICYmIHRvLnggPD0gNSAmJiB0by55ID49IDcgJiYgdG8ueSA8PSA5KSkgcmV0dXJuIGZhbHNlO1xuXHR9IGVsc2Uge1xuXHRcdGlmICghKHRvLnggPj0gMyAmJiB0by54IDw9IDUgJiYgdG8ueSA+PSAwICYmIHRvLnkgPD0gMikpIHJldHVybiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuLy8g54KuXG5mdW5jdGlvbiBjYW5DTW92ZShcblx0ZnJvbTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuXHR0bzogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9LFxuXHRib2FyZDogKHN0cmluZyB8IG51bGwpW11bXSxcbik6IGJvb2xlYW4ge1xuXHRpZiAoZnJvbS54ICE9PSB0by54ICYmIGZyb20ueSAhPT0gdG8ueSkgcmV0dXJuIGZhbHNlO1xuXHRsZXQgY291bnQgPSAwO1xuXHRpZiAoZnJvbS54ID09PSB0by54KSB7XG5cdFx0Y29uc3QgW21pbiwgbWF4XSA9IFtmcm9tLnksIHRvLnldLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcblx0XHRmb3IgKGxldCB5ID0gbWluICsgMTsgeSA8IG1heDsgeSsrKSB7XG5cdFx0XHRpZiAoYm9hcmRbZnJvbS54XVt5XSkgY291bnQrKztcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3QgW21pbiwgbWF4XSA9IFtmcm9tLngsIHRvLnhdLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcblx0XHRmb3IgKGxldCB4ID0gbWluICsgMTsgeCA8IG1heDsgeCsrKSB7XG5cdFx0XHRpZiAoYm9hcmRbeF1bZnJvbS55XSkgY291bnQrKztcblx0XHR9XG5cdH1cblx0Y29uc3QgdG9QaWVjZSA9IGJvYXJkW3RvLnhdW3RvLnldO1xuXHRpZiAoIXRvUGllY2UpIHtcblx0XHRyZXR1cm4gY291bnQgPT09IDA7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3QgZnJvbVBpZWNlID0gYm9hcmRbZnJvbS54XVtmcm9tLnldITtcblx0XHRpZiAoaXNTYW1lU2lkZShmcm9tUGllY2UsIHRvUGllY2UpKSByZXR1cm4gZmFsc2U7XG5cdFx0cmV0dXJuIGNvdW50ID09PSAxO1xuXHR9XG59XG5cbi8vIOWFtS/ljZJcbmZ1bmN0aW9uIGNhblBNb3ZlKFxuXHRmcm9tOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0sXG5cdHRvOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0sXG5cdGJvYXJkOiAoc3RyaW5nIHwgbnVsbClbXVtdLFxuKTogYm9vbGVhbiB7XG5cdGNvbnN0IGZyb21QaWVjZSA9IGJvYXJkW2Zyb20ueF1bZnJvbS55XSE7XG5cdGNvbnN0IGlzUmVkID0gZnJvbVBpZWNlID09PSBmcm9tUGllY2UudG9VcHBlckNhc2UoKTtcblx0Y29uc3QgZHggPSB0by54IC0gZnJvbS54LFxuXHRcdGR5ID0gdG8ueSAtIGZyb20ueTtcblx0aWYgKE1hdGguYWJzKGR4KSArIE1hdGguYWJzKGR5KSAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuXHRjb25zdCBjcm9zc2VkUml2ZXIgPSBpc1JlZCA/IGZyb20ueSA8PSA0IDogZnJvbS55ID49IDU7XG5cdGlmIChpc1JlZCkge1xuXHRcdGlmICghY3Jvc3NlZFJpdmVyKSB7XG5cdFx0XHRyZXR1cm4gZHggPT09IDAgJiYgZHkgPT09IC0xO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gKGR4ID09PSAwICYmIGR5ID09PSAtMSkgfHwgKGR5ID09PSAwICYmIE1hdGguYWJzKGR4KSA9PT0gMSk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGlmICghY3Jvc3NlZFJpdmVyKSB7XG5cdFx0XHRyZXR1cm4gZHggPT09IDAgJiYgZHkgPT09IDE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAoZHggPT09IDAgJiYgZHkgPT09IDEpIHx8IChkeSA9PT0gMCAmJiBNYXRoLmFicyhkeCkgPT09IDEpO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHR5cGUgeyBJTW92ZSwgSVBvc2l0aW9uIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBpc1ZhbGlkTW92ZSB9IGZyb20gXCIuLi8uLi91dGlscy9ydWxlc1wiO1xuaW1wb3J0IHsgcmVnaXN0ZXJYUU1vZHVsZSB9IGZyb20gXCIuLi8uLi9jb3JlL21vZHVsZS1zeXN0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIEJvYXJkQ2xpY2tNb2R1bGUge1xuXG4gICAgc3RhdGljIGluaXQoaG9zdDogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgICAgICBjb25zdCBldmVudEJ1cyA9IGhvc3QuZXZlbnRCdXM7XG4gICAgICAgIGV2ZW50QnVzLm9uKCdjbGljaycsIChjbGlja2VkUG9zOiBJUG9zaXRpb24pID0+IHtcblxuICAgICAgICAgICAgY29uc3QgY2xpY2tlZFBpZWNlID0gaG9zdC5ib2FyZFtjbGlja2VkUG9zLnhdW2NsaWNrZWRQb3MueV07XG4gICAgICAgICAgICAvLyDkvaDnmoTlkI7nu63pgLvovpFcbiAgICAgICAgICAgIGlmICghaG9zdC5tYXJrZWRQb3MpIHtcblxuICAgICAgICAgICAgICAgIC8vIOayoeacieagh+iusOaji+WtkOaXtu+8jOWPquiDvemAieS4reW9k+WJjeihjOaji+aWueeahOaji+WtkFxuICAgICAgICAgICAgICAgIGlmIChjbGlja2VkUGllY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpY2tlZElzUmVkID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrZWRQaWVjZSA9PT0gY2xpY2tlZFBpZWNlLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIChob3N0LmN1cnJlbnRUdXJuID09PSBcInJlZFwiICYmIGNsaWNrZWRJc1JlZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChob3N0LmN1cnJlbnRUdXJuID09PSBcImJsdWVcIiAmJiAhY2xpY2tlZElzUmVkKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3QubWFya2VkUG9zID0gY2xpY2tlZFBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3QuWGlhbmdxaS4kc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZWRQb3M6IHsgLi4uaG9zdC5tYXJrZWRQb3MgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbW92ZVZhbGlkID0gaXNWYWxpZE1vdmUoXG4gICAgICAgICAgICAgICAgaG9zdC5tYXJrZWRQb3MsXG4gICAgICAgICAgICAgICAgY2xpY2tlZFBvcyxcbiAgICAgICAgICAgICAgICBob3N0LmJvYXJkLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKG1vdmVWYWxpZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdmU6IElNb3ZlID0ge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiB7IC4uLmhvc3QubWFya2VkUG9zIH0sXG4gICAgICAgICAgICAgICAgICAgIHRvOiB7IC4uLmNsaWNrZWRQb3MgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICghaG9zdC5tb2RpZmllZCkgaG9zdC5tb2RpZmllZFN0ZXAgPSBob3N0LmN1cnJlbnRTdGVwO1xuICAgICAgICAgICAgICAgIGhvc3QubW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGhvc3QubWFya2VkUG9zID0gbnVsbDtcbiAgICAgICAgICAgICAgICBldmVudEJ1cy5lbWl0KCdydW5tb3ZlJywgbW92ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIOS4jeiDvei1sO+8jOWPlua2iOagh+iusFxuICAgICAgICAgICAgICAgIC8vIHJlc3RvcmVQaWVjZShob3N0Lm1hcmtlZFBpZWNlLnBpZWNlRWwhKTtcbiAgICAgICAgICAgICAgICAvLyDlpoLmnpzngrnlh7vnmoTmmK/lvZPliY3mlrnmo4vlrZDvvIzph43mlrDmoIforrBcbiAgICAgICAgICAgICAgICBpZiAoY2xpY2tlZFBpZWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWNrZWRJc1JlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlja2VkUGllY2UgPT09IGNsaWNrZWRQaWVjZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoaG9zdC5jdXJyZW50VHVybiA9PT0gXCJyZWRcIiAmJiBjbGlja2VkSXNSZWQpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoaG9zdC5jdXJyZW50VHVybiA9PT0gXCJibHVlXCIgJiYgIWNsaWNrZWRJc1JlZClcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0Lm1hcmtlZFBvcyA9IGNsaWNrZWRQb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0LlhpYW5ncWkuJHNldCh7IG1hcmtlZFBvczogaG9zdC5tYXJrZWRQb3MgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9zdC5tYXJrZWRQb3MgPSBudWxsO1xuICAgICAgICAgICAgICAgIGhvc3QuWGlhbmdxaS4kc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VkUG9zOiBob3N0Lm1hcmtlZFBvcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuICAgIH1cbn1cbnJlZ2lzdGVyWFFNb2R1bGUoJ0JvYXJkQ2xpY2snLCBCb2FyZENsaWNrTW9kdWxlKTtcbiIsImltcG9ydCB7IHJlZ2lzdGVyWFFNb2R1bGUgfSBmcm9tIFwiLi4vLi4vY29yZS9tb2R1bGUtc3lzdGVtXCI7XG5pbXBvcnQgeyBnZXRXWEYgfSBmcm9tIFwiLi4vLi4vdXRpbHMvcGFyc2VcIjtcbmltcG9ydCB0eXBlIHsgSU1vdmUgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIEhpc3RvcnlNb2R1bGUge1xuXG4gICAgc3RhdGljIGluaXQoaG9zdDogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgICAgICBjb25zdCBldmVudEJ1cyA9IGhvc3QuZXZlbnRCdXM7XG5cbiAgICAgICAgZXZlbnRCdXMub24oXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgICAgIGhvc3QubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGhvc3QuaGlzdG9yeSA9IFtdO1xuICAgICAgICB9KVxuXG4gICAgICAgIGV2ZW50QnVzLm9uKFwiZWRpdGhpc3RvcnlcIiwgKG1vdmU6IElNb3ZlKSA9PiB7XG4gICAgICAgICAgICBlZGl0SGlzdG9yeShob3N0LCBtb3ZlKTtcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGVkaXRIaXN0b3J5KGhvc3Q6IFJlY29yZDxzdHJpbmcsIGFueT4sIG1vdmU6IElNb3ZlKSB7XG4gICAgbW92ZS5XWEYgPSBnZXRXWEYobW92ZSwgaG9zdC5ib2FyZCk7XG4gICAgbW92ZS5jYXB0dXJlZCA9IGhvc3QuYm9hcmRbbW92ZS50by54XVttb3ZlLnRvLnldO1xuICAgIGxldCB7IGN1cnJlbnRTdGVwLCBoaXN0b3J5IH0gPSBob3N0O1xuICAgIGNvbnN0IGN1cnJlbnRNb3ZlID0gbW92ZTtcblxuICAgIC8vIOajgOafpeW9k+WJjeatpemqpOaYr+WQpuW3suWtmOWcqOebuOWQjOeahCBtb3ZlXG4gICAgY29uc3QgZXhpc3RpbmdNb3ZlID0gaGlzdG9yeVtjdXJyZW50U3RlcF07XG4gICAgaWYgKFxuICAgICAgICBleGlzdGluZ01vdmUgJiZcbiAgICAgICAgZXhpc3RpbmdNb3ZlLmZyb20ueCA9PT0gY3VycmVudE1vdmUuZnJvbS54ICYmXG4gICAgICAgIGV4aXN0aW5nTW92ZS5mcm9tLnkgPT09IGN1cnJlbnRNb3ZlLmZyb20ueSAmJlxuICAgICAgICBleGlzdGluZ01vdmUudG8ueCA9PT0gY3VycmVudE1vdmUudG8ueCAmJlxuICAgICAgICBleGlzdGluZ01vdmUudG8ueSA9PT0gY3VycmVudE1vdmUudG8ueVxuICAgICkge1xuICAgIH1cblxuICAgIC8vIOS4jeWQjOWIme+8mlxuICAgIC8vIDEuIOWIoOmZpCBjdXJyZW50U3RlcCDkuYvlkI7nmoTmiYDmnInljoblj7JcbiAgICBob3N0Lmhpc3Rvcnkuc3BsaWNlKGN1cnJlbnRTdGVwKTtcblxuICAgIC8vIDIuIOa3u+WKoOaWsCBtb3Zl77yI55u05o6lIHB1c2gg5Yiw5Y6f5pWw57uE77yJXG4gICAgaG9zdC5oaXN0b3J5LnB1c2goY3VycmVudE1vdmUpO1xufVxuXG5yZWdpc3RlclhRTW9kdWxlKCdoaXN0b3J5JywgSGlzdG9yeU1vZHVsZSk7XG4iLCJpbXBvcnQgeyB0eXBlIEFwcCwgTW9kYWwgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuZXhwb3J0IGNsYXNzIENvbmZpcm1Nb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cHJpdmF0ZSByZXNvbHZlUHJvbWlzZTogKHZhbHVlOiBib29sZWFuKSA9PiB2b2lkO1xuXHRwdWJsaWMgcHJvbWlzZTogUHJvbWlzZTxib29sZWFuPjtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRhcHA6IEFwcCxcblx0XHRwcml2YXRlIHRpdGxlOiBzdHJpbmcsXG5cdFx0cHJpdmF0ZSBtZXNzYWdlOiBzdHJpbmcsXG5cdFx0cHJpdmF0ZSBjb25maXJtVGV4dCA9IFwi56Gu6K6kXCIsXG5cdFx0cHJpdmF0ZSBjYW5jZWxUZXh0ID0gXCLlj5bmtohcIixcblx0KSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLnJlc29sdmVQcm9taXNlID0gKCkgPT4geyB9O1xuXHRcdHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0XHR0aGlzLnJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcblx0XHR9KTtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblxuXHRcdC8vIOagh+mimFxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogdGhpcy50aXRsZSB9KTtcblxuXHRcdC8vIOa2iOaBr+WGheWuuVxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbChcInBcIiwgeyB0ZXh0OiB0aGlzLm1lc3NhZ2UgfSk7XG5cblx0XHQvLyDmjInpkq7lrrnlmahcblx0XHRjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KFwibW9kYWwtYnV0dG9uLWNvbnRhaW5lclwiKTtcblxuXHRcdC8vIOehruiupOaMiemSru+8iOS9v+eUqCBPYnNpZGlhbiDnmoTkuLvoibLosIPmoLflvI/vvIlcblx0XHRjb25zdCBjb25maXJtQnRuID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHtcblx0XHRcdHRleHQ6IHRoaXMuY29uZmlybVRleHQsXG5cdFx0XHRjbHM6IFwibW9kLWN0YVwiLCAvLyBPYnNpZGlhbiDnmoTlvLrosIPmjInpkq7moLflvI9cblx0XHR9KTtcblx0XHRjb25maXJtQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnJlc29sdmVQcm9taXNlKHRydWUpO1xuXHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdH0pO1xuXG5cdFx0Ly8g5Y+W5raI5oyJ6ZKuXG5cdFx0Y29uc3QgY2FuY2VsQnRuID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHtcblx0XHRcdHRleHQ6IHRoaXMuY2FuY2VsVGV4dCxcblx0XHR9KTtcblx0XHRjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcblx0XHRcdHRoaXMucmVzb2x2ZVByb21pc2UoZmFsc2UpO1xuXHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdH0pO1xuXG5cdFx0Ly8g5Zue6L2m6ZSu56Gu6K6k77yMRVNDIOmUruWPlua2iFxuXHRcdGNvbmZpcm1CdG4uZm9jdXMoKTtcblx0XHR0aGlzLnNjb3BlLnJlZ2lzdGVyKFtdLCBcIkVudGVyXCIsICgpID0+IHtcblx0XHRcdHRoaXMucmVzb2x2ZVByb21pc2UodHJ1ZSk7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNYXJrZG93blZpZXcsIE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgcmVnaXN0ZXJYUU1vZHVsZSB9IGZyb20gXCIuLi8uLi9jb3JlL21vZHVsZS1zeXN0ZW1cIjtcbmltcG9ydCB0eXBlIHsgSU1vdmUgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IGdldElDQ1MgfSBmcm9tIFwiLi4vLi4vdXRpbHMvcGFyc2VcIjtcbmltcG9ydCB7IENvbmZpcm1Nb2RhbCB9IGZyb20gXCIuLi8uLi91dGlscy9jb25maXJtTW9kYWxcIjtcblxuZXhwb3J0IGNsYXNzIEFjdGlvbnNNb2R1bGUge1xuICAgIHN0YXRpYyBpbml0KGhvc3Q6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICAgICAgY29uc3QgZXZlbnRCdXMgPSBob3N0LmV2ZW50QnVzO1xuXG4gICAgICAgIGV2ZW50QnVzLm9uKCdydW5tb3ZlJywgKG1vdmU6IElNb3ZlKSA9PiB7XG4gICAgICAgICAgICBldmVudEJ1cy5lbWl0KCdlZGl0aGlzdG9yeScsIG1vdmUpO1xuICAgICAgICAgICAgcnVubW92ZShob3N0LCBtb3ZlKTtcbiAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoJ3VwZGF0ZVVJJywgJ3J1bm1vdmUnKTtcbiAgICAgICAgfSlcblxuICAgICAgICBldmVudEJ1cy5vbigndW5kbycsICgpID0+IHtcbiAgICAgICAgICAgIHVuZG8oaG9zdCk7XG4gICAgICAgICAgICBldmVudEJ1cy5lbWl0KCd1cGRhdGVVSScsICd1bmRvJyk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgZXZlbnRCdXMub24oJ3JlZG8nLCAoKSA9PiB7XG4gICAgICAgICAgICByZWRvKGhvc3QpO1xuICAgICAgICAgICAgZXZlbnRCdXMuZW1pdCgndXBkYXRlVUknLCAncmVkbycpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGV2ZW50QnVzLm9uKCd0b1N0YXJ0JywgKCkgPT4ge1xuICAgICAgICAgICAgd2hpbGUgKGhvc3QuY3VycmVudFN0ZXAgIT0gMCkge1xuICAgICAgICAgICAgICAgIHVuZG8oaG9zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudEJ1cy5lbWl0KCd1cGRhdGVVSScsICd0b1N0YXJ0Jyk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgZXZlbnRCdXMub24oJ3RvRW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IGhvc3QubW9kaWZpZWQgPyBob3N0Lmhpc3RvcnkubGVuZ3RoIDogaG9zdC5QR04ubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgZGlmID0gc3RlcCAtIGhvc3QuY3VycmVudFN0ZXA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVkbyhob3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoJ3VwZGF0ZVVJJywgJ3RvRW5kJyk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgZXZlbnRCdXMub24oJ3Jlc2V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvc3QubW9kaWZpZWQpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaG9zdC5jdXJyZW50U3RlcCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuZG8oaG9zdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvc3QubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBob3N0Lmhpc3RvcnkgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvc3QubW9kaWZpZWRTdGVwOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcmVkbyhob3N0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9zdC5tb2RpZmllZFN0ZXAgPSBudWxsO1xuICAgICAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoJ3VwZGF0ZVVJJywgJ3Jlc2V0Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoJ3RvU3RhcnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBldmVudEJ1cy5vbignc2F2ZScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChob3N0Lmhpc3RvcnkubGVuZ3RoID09PSAwICYmIGhvc3QuUEdOLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoXCLljoblj7LorrDlvZXlkoxQR07orrDlvZXkuLrnqbrvvIzml6DpnIDkv53lrZjvvIFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhvc3QuaGlzdG9yeS5sZW5ndGggPT09IDAgJiYgaG9zdC5QR04ubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCLlvZPliY1QR07orrDlvZXkuI3kuLrnqbrvvIzmmK/lkKbopoHmuIXnqbrvvJ9cIjtcbiAgICAgICAgICAgIGlmIChob3N0Lmhpc3RvcnkubGVuZ3RoID4gMCAmJiBob3N0LlBHTi5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwi5b2T5YmNUEdO6K6w5b2V5Li656m677yM5piv5ZCm6KaB5L+d5a2Y5Y6G5Y+y5Li6UEdO77yfXCI7XG4gICAgICAgICAgICBpZiAoaG9zdC5oaXN0b3J5Lmxlbmd0aCA+IDAgJiYgaG9zdC5QR04ubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCLlvZPliY1QR07orrDlvZXkuI3kuLrnqbrvvIzmmK/lkKbopoHopobnm5bkv53lrZjvvJ9cIjtcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IENvbmZpcm1Nb2RhbChcbiAgICAgICAgICAgICAgICBob3N0LnBsdWdpbi5hcHAsXG4gICAgICAgICAgICAgICAgXCLnoa7orqTkv53lrZhcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIFwi5L+d5a2YXCIsXG4gICAgICAgICAgICAgICAgXCLlj5bmtohcIixcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIG1vZGFsLm9wZW4oKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJDb25maXJtZWQgPSBhd2FpdCBtb2RhbC5wcm9taXNlO1xuXG4gICAgICAgICAgICBpZiAodXNlckNvbmZpcm1lZCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHNhdmVQR04oaG9zdCk7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShcIuS/neWtmOaIkOWKn++8gVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoJ3VwZGF0ZVVJJywgJ3NhdmUnKTtcbiAgICAgICAgfSlcblxuICAgICAgICBldmVudEJ1cy5vbignY2xpY2tzdGVwJywgKHN0ZXA6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGlmID0gc3RlcCAtIGhvc3QuY3VycmVudFN0ZXA7XG4gICAgICAgICAgICBpZiAoZGlmID09PSAwKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoZGlmID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlmOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcmVkbyhob3N0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgLWRpZjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuZG8oaG9zdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZlbnRCdXMuZW1pdCgndXBkYXRlVUknKTtcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbnJlZ2lzdGVyWFFNb2R1bGUoJ2FjdGlvbnMnLCBBY3Rpb25zTW9kdWxlKTtcblxuZnVuY3Rpb24gcnVubW92ZShob3N0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBtb3ZlOiBJTW92ZSkge1xuICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IG1vdmU7XG4gICAgaG9zdC5ib2FyZFt0by54XVt0by55XSA9IGhvc3QuYm9hcmRbZnJvbS54XVtmcm9tLnldO1xuICAgIGhvc3QuYm9hcmRbZnJvbS54XVtmcm9tLnldID0gJyc7XG4gICAgaG9zdC5jdXJyZW50U3RlcCsrO1xuICAgIGhvc3QuY3VycmVudFR1cm4gPSBob3N0LmN1cnJlbnRUdXJuID09PSAncmVkJyA/ICdibHVlJyA6ICdyZWQnO1xufVxuXG5mdW5jdGlvbiB1bmRvKGhvc3Q6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICBob3N0Lm1hcmtlZFBvcyA9IG51bGxcbiAgICBpZiAoaG9zdC5oaXN0b3J5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGNvbnN0IG1vdmUgPSBob3N0Lmhpc3RvcnlbaG9zdC5jdXJyZW50U3RlcCAtIDFdO1xuICAgIGlmICghbW92ZSkgcmV0dXJuO1xuICAgIGNvbnN0IHsgZnJvbSwgdG8sIGNhcHR1cmVkIH0gPSBtb3ZlO1xuICAgIC8vIOaJvuWIsOmcgOimgeWbnumAgOeahOaji+WtkFxuICAgIGNvbnN0IHJldHVyblBpZWNlID0gaG9zdC5ib2FyZFt0by54XVt0by55XTtcbiAgICBob3N0LmJvYXJkW2Zyb20ueF1bZnJvbS55XSA9IHJldHVyblBpZWNlO1xuICAgIGhvc3QuYm9hcmRbdG8ueF1bdG8ueV0gPSBudWxsO1xuXG4gICAgLy8g5oGi5aSN6KKr5ZCD5o6J55qE5qOL5a2QXG4gICAgaWYgKGNhcHR1cmVkKSB7XG4gICAgICAgIGhvc3QuYm9hcmRbdG8ueF1bdG8ueV0gPSBjYXB0dXJlZDtcbiAgICB9XG4gICAgaG9zdC5jdXJyZW50U3RlcC0tO1xuICAgIGhvc3QuY3VycmVudFR1cm4gPSBob3N0LmN1cnJlbnRUdXJuID09PSBcInJlZFwiID8gXCJibHVlXCIgOiBcInJlZFwiO1xufVxuXG5mdW5jdGlvbiByZWRvKGhvc3Q6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICBob3N0Lm1hcmtlZFBvcyA9IG51bGw7XG4gICAgY29uc3QgZXZlbnRCdXMgPSBob3N0LmV2ZW50QnVzO1xuICAgIGlmICghaG9zdC5tb2RpZmllZCAmJiBob3N0LlBHTi5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5leHRNb3ZlID0gaG9zdC5QR05baG9zdC5jdXJyZW50U3RlcF07IC8vIOiOt+WPluW5tuenu+mZpCBtb3ZlcyDkuK3nmoTnrKzkuIDmraVcbiAgICAgICAgaWYgKCFuZXh0TW92ZSkgcmV0dXJuO1xuICAgICAgICBldmVudEJ1cy5lbWl0KCdlZGl0aGlzdG9yeScsIG5leHRNb3ZlKTtcbiAgICAgICAgcnVubW92ZShob3N0LCBuZXh0TW92ZSk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaG9zdC5oaXN0b3J5Lmxlbmd0aCA8IGhvc3QuY3VycmVudFN0ZXApIHJldHVybjtcbiAgICAgICAgLy8g5aaC5p6c5pyJ5oKU5qOL6K6w5b2V77yM5LuOIHVuZG9IaXN0b3J5IOS4reaJp+ihjOS4i+S4gOatpVxuICAgICAgICBjb25zdCBtb3ZlVG9SZWRvID0gaG9zdC5oaXN0b3J5W2hvc3QuY3VycmVudFN0ZXBdO1xuICAgICAgICBpZiAoIW1vdmVUb1JlZG8pIHJldHVybjtcbiAgICAgICAgcnVubW92ZShob3N0LCBtb3ZlVG9SZWRvKTtcblxuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gc2F2ZVBHTihob3N0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgY29uc3QgdmlldyA9IGhvc3QucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuICAgIGlmICghdmlldykgcmV0dXJuO1xuICAgIGNvbnN0IGZpbGUgPSB2aWV3LmZpbGU7XG4gICAgaWYgKCFmaWxlKSByZXR1cm47XG5cbiAgICAvLyDov5nph4wgdGhpcy5jb250YWluZXJFbCDlj6/og73mjIflvZPliY3lrp7kvovnmoTlsZ7mgKfvvIznoa7kv50gdGhpcyDmjIflkJHmraPnoa5cbiAgICAvLyDlpoLmnpwgc2F2ZVBHTiDmmK/nsbvmlrnms5XvvIzlu7rorq7mlLnlhpnkuLrnrq3lpLTlh73mlbDmiJYgYmluZCB0aGlzXG4gICAgY29uc3Qgc2VjdGlvbiA9IGhvc3QuY3R4LmdldFNlY3Rpb25JbmZvKGhvc3QuY29udGFpbmVyRWwpO1xuICAgIGlmICghc2VjdGlvbikgcmV0dXJuO1xuXG4gICAgY29uc3QgeyBsaW5lU3RhcnQsIGxpbmVFbmQgfSA9IHNlY3Rpb247XG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IGhvc3QucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdChcIlxcblwiKTtcblxuICAgIC8vIOaYjuehruagh+azqOexu+Wei++8jOWIneWni+i1i+WAvOaXtueUqHNsaWNl5L+d6K+B5pivc3RyaW5nW11cbiAgICBsZXQgYmxvY2tMaW5lczogc3RyaW5nW10gPSBsaW5lcy5zbGljZShsaW5lU3RhcnQsIGxpbmVFbmQgKyAxKTtcblxuICAgIGlmIChibG9ja0xpbmVzLmxlbmd0aCA8IDIpIHJldHVybjtcblxuICAgIC8vIDEuIOWIoOmZpOaJgOacieespuWQiCBQR04g5qC85byP55qE6KGM77yI5peg6K66IGN1cnJlbnRTdGVwIOaYr+WkmuWwke+8iVxuICAgIGJsb2NrTGluZXMgPSBibG9ja0xpbmVzLmZpbHRlcigobGluZSkgPT4gIS9bQS1aXVxcZC1bQS1aXVxcZC8udGVzdChsaW5lKSk7XG5cbiAgICAvLyAyLiDku4XlvZMgY3VycmVudFN0ZXAgPiAwIOaXtueUn+aIkOW5tuaPkuWFpeaWsOeahCBQR05cbiAgICBpZiAoaG9zdC5jdXJyZW50U3RlcCA+IDApIHtcbiAgICAgICAgY29uc3QgbW92ZXMgPSBob3N0Lmhpc3RvcnlcbiAgICAgICAgICAgIC5zbGljZSgwLCBob3N0LmN1cnJlbnRTdGVwKVxuICAgICAgICAgICAgLm1hcCgobW92ZTogSU1vdmUpID0+IGdldElDQ1MobW92ZSkpO1xuXG4gICAgICAgIGNvbnN0IHBnbkxpbmVzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vdmVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lID1cbiAgICAgICAgICAgICAgICBgJHtNYXRoLmNlaWwoKGkgKyAxKSAvIDIpfS4gJHttb3Zlc1tpXX0gJHttb3Zlc1tpICsgMV0gfHwgXCJcIn1gLnRyaW0oKTtcbiAgICAgICAgICAgIHBnbkxpbmVzLnB1c2gobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgUEdOID0gcGduTGluZXMuam9pbihcIlxcblwiKTtcblxuICAgICAgICAvLyDmj5LlhaVQR07lrZfnrKbkuLJcbiAgICAgICAgYmxvY2tMaW5lcy5zcGxpY2UoYmxvY2tMaW5lcy5sZW5ndGggLSAxLCAwLCBQR04pO1xuICAgIH1cblxuICAgIC8vIDMuIOabtOaWsOaWh+S7tuWGheWuue+8iOaXoOiuuuaYr+WQpuaPkuWFpSBQR07vvIzpg73kvJrmiafooYzmuIXnkIbvvIlcbiAgICBjb25zdCBuZXdDb250ZW50ID0gW1xuICAgICAgICAuLi5saW5lcy5zbGljZSgwLCBsaW5lU3RhcnQpLFxuICAgICAgICAuLi5ibG9ja0xpbmVzLFxuICAgICAgICAuLi5saW5lcy5zbGljZShsaW5lRW5kICsgMSksXG4gICAgXS5qb2luKFwiXFxuXCIpO1xuXG4gICAgYXdhaXQgaG9zdC5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcbn1cbiIsImltcG9ydCB7IHJlZ2lzdGVyWFFNb2R1bGUgfSBmcm9tIFwiLi4vLi4vY29yZS9tb2R1bGUtc3lzdGVtXCI7XG5pbXBvcnQgdHlwZSB7IElNb3ZlIH0gZnJvbSBcIi4vLi4vLi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IFNwZWFrZXJNb2R1bGUgPSB7XG4gICAgaW5pdChob3N0OiBhbnkpIHtcbiAgICAgICAgY29uc3QgZXZlbnRCdXMgPSBob3N0LmV2ZW50QnVzO1xuICAgICAgICBldmVudEJ1cy5vbigndXBkYXRlVUknLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaG9zdC5zZXR0aW5ncy5lbmFibGVTcGVlY2ggJiZcbiAgICAgICAgICAgICAgICB3aW5kb3cuc3BlZWNoU3ludGhlc2lzICYmXG4gICAgICAgICAgICAgICAgaG9zdC5jdXJyZW50U3RlcCA+IDAgJiZcbiAgICAgICAgICAgICAgICBob3N0Lmhpc3RvcnlbaG9zdC5jdXJyZW50U3RlcCAtIDFdXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzcGVhayhob3N0Lmhpc3RvcnlbaG9zdC5jdXJyZW50U3RlcCAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgIH1cbn1cblxucmVnaXN0ZXJYUU1vZHVsZSgnc3BlZWNoJywgU3BlYWtlck1vZHVsZSk7XG5cbmZ1bmN0aW9uIHNwZWFrKG1vdmU6IElNb3ZlKSB7XG4gICAgY29uc3QgeyB0eXBlLCBXWEYgfSA9IG1vdmU7XG4gICAgaWYgKCFXWEYgfHwgIXR5cGUpIHJldHVybjtcbiAgICBjb25zdCB0dXJuID0gdHlwZSA9PT0gdHlwZS50b1VwcGVyQ2FzZSgpID8gXCLnuqLvvJpcIiA6IFwi6buR77yaXCI7XG4gICAgY29uc3QgZmluYWxTcGVlY2ggPSB0dXJuICsgV1hGO1xuICAgIGNvbnN0IGZpbmFsU3BlZWNoUmVwbGFjZSA9IGZpbmFsU3BlZWNoXG4gICAgICAgIC5yZXBsYWNlKC/ljZIvZywgXCLml49cIikgLy8gXCLljZJcIu+8iHrDuu+8ieW4uOiiq+ivu+mUmeS4uiBjw7lcbiAgICAgICAgLnJlcGxhY2UoL+Wwhy9nLCBcIumFsVwiKSAvLyDnuYHkvZPigJzlsIfigJ3lj6/mm7/ku6PigJzlsIbigJ3vvIzpgb/lhY0gamnEgW5nXG4gICAgICAgIC5yZXBsYWNlKC/lsIYvZywgXCLphbFcIikgLy8g566A5L2T4oCc5bCG4oCd5Lmf5aSE55CGXG4gICAgICAgIC5yZXBsYWNlKC/nm7gvZywgXCLlt7dcIikgLy8gXCLnm7hcIiDlj5EgeGnEgW5nIOaXtuWPr+iDveiiq+ivr+ivu1xuICAgICAgICAucmVwbGFjZSgv5LuVL2csIFwi5biCXCIpIC8vIFwi5LuVXCLvvIhzaMOs77yJ5pyJ5pe26KKr6K+75oiQIHPEq1xuICAgICAgICAucmVwbGFjZSgv54KuL2csIFwi5rOhXCIpIC8vIOmDqOWIhuivremfs+W8leaTjuivu+aIkCBixIFv77yM5pu/5o2i5Li65Y+R6Z+z5pu05o6l6L+R55qEXG4gICAgICAgIC5yZXBsYWNlKC/lhbUvZywgXCLlhrBcIilcbiAgICAgICAgLnJlcGxhY2UoL+WCjC9nLCBcIumprFwiKTtcbiAgICAvLyDlj5Hpn7NcbiAgICBpZiAoIXdpbmRvdy5zcGVlY2hTeW50aGVzaXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB1dHRlciA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UoZmluYWxTcGVlY2hSZXBsYWNlKTtcbiAgICB1dHRlci5sYW5nID0gXCJ6aC1DTlwiO1xuICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuY2FuY2VsKCk7XG4gICAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5zcGVhayh1dHRlcik7XG59XG4iLCJpbXBvcnQgWFFQbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5pbXBvcnQge1xuICAgIHR5cGUgTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCxcbiAgICBNYXJrZG93blJlbmRlckNoaWxkLFxufSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQge1xuICAgIHR5cGUgTW9kdWxlUmVnaXN0cnksXG4gICAgY3JlYXRlWFFNb2R1bGVSZWdpc3RyeSxcbiAgICBkZXN0cm95WFFNb2R1bGVSZWdpc3RyeVxufSBmcm9tICcuLi9jb3JlL21vZHVsZS1zeXN0ZW0nO1xuaW1wb3J0IHR5cGUgeyBFdmVudEJ1cyB9IGZyb20gJy4uL2NvcmUvZXZlbnQtYnVzJztcbmltcG9ydCB0eXBlIHsgSVNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICcuLi9jb3JlL2V2ZW50LWJ1cyc7XG5pbXBvcnQgJy4uL21vZHVsZXMvWGlhbmdxaS9Tb3VyY2UnO1xuaW1wb3J0ICcuLi9tb2R1bGVzL1hpYW5ncWkvQ2hlc3NCb2FyZCc7XG5pbXBvcnQgJy4uL21vZHVsZXMvWGlhbmdxaS9Cb2FyZENsaWNrJztcbmltcG9ydCAnLi4vbW9kdWxlcy9YaWFuZ3FpL0hpc3RvcnknO1xuaW1wb3J0ICcuLi9tb2R1bGVzL1hpYW5ncWkvQWN0aW9ucyc7XG5pbXBvcnQgJy4uL21vZHVsZXMvWGlhbmdxaS9TcGVha2VyJztcblxuZXhwb3J0IGNsYXNzIENoZXNzUmVuZGVyQ2hpbGQgZXh0ZW5kcyBNYXJrZG93blJlbmRlckNoaWxkIHtcbiAgICBzZXR0aW5nczogSVNldHRpbmdzO1xuICAgIG1vZHVsZVJlZ2lzdHJ5OiBNb2R1bGVSZWdpc3RyeSB8IHVuZGVmaW5lZDtcbiAgICBldmVudEJ1cyE6IEV2ZW50QnVzO1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxuICAgICAgICBwdWJsaWMgY3R4OiBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0LFxuICAgICAgICBwdWJsaWMgc291cmNlOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBwbHVnaW46IFhRUGx1Z2luLFxuICAgICkge1xuICAgICAgICBzdXBlcihjb250YWluZXJFbCk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncztcbiAgICB9XG5cbiAgICBvbmxvYWQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGx1Z2luLnJlbmRlckNoaWxkcmVuLmFkZCh0aGlzKTtcbiAgICAgICAgdGhpcy5tb2R1bGVSZWdpc3RyeSA9IGNyZWF0ZVhRTW9kdWxlUmVnaXN0cnkodGhpcyk7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZW1pdCgnbG9hZCcsICd4cScpO1xuICAgIH1cblxuICAgIHJlZnJlc2goKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZW1pdCgndXBkYXRlVUknKTtcbiAgICB9XG5cbiAgICBvbnVubG9hZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wbHVnaW4ucmVuZGVyQ2hpbGRyZW4uZGVsZXRlKHRoaXMpO1xuICAgICAgICB0aGlzLmV2ZW50QnVzLmVtaXQoJ3VubG9hZCcpO1xuICAgICAgICBkZXN0cm95WFFNb2R1bGVSZWdpc3RyeSh0aGlzKTtcbiAgICB9XG5cbn0iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgeyBQSUVDRV9DSEFSUywgdHlwZSBJQm9hcmQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbiAgaW1wb3J0IHR5cGUgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi8uLi9jb3JlL2V2ZW50LWJ1c1wiO1xuICBpbXBvcnQgdHlwZSB7IElTZXR0aW5ncyB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuXG4gIGV4cG9ydCBsZXQgc2V0dGluZ3M6IElTZXR0aW5ncztcbiAgZXhwb3J0IGxldCBib2FyZDogSUJvYXJkO1xuICBleHBvcnQgbGV0IGV2ZW50QnVzOiBFdmVudEJ1cztcbiAgZXhwb3J0IGxldCBwb3NpdGlvbjogc3RyaW5nID0gXCJcIjtcbiAgZXhwb3J0IGxldCBzZWxlY3RlZFBpZWNlOiBzdHJpbmc7XG5cbiAgLy8g5Yik5pat5piv5ZCm5Li657qi5pa55qOL5a2Q77yI5aSn5YaZ5a2X5q+N77yJXG4gIGNvbnN0IGlzUmVkID0gKHBpZWNlOiBzdHJpbmcpID0+IHBpZWNlID09PSBwaWVjZS50b1VwcGVyQ2FzZSgpO1xuXG4gIC8vIOavj+enjeaji+WtkOeahOagh+WHhuS4iumZkO+8iOWPr+aMiemcgOiwg+aVtO+8iVxuICBjb25zdCBNQVhfQ09VTlQ6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7XG4gICAgUjogMixcbiAgICBOOiAyLFxuICAgIEI6IDIsXG4gICAgQTogMixcbiAgICBLOiAxLFxuICAgIEM6IDIsXG4gICAgUDogNSxcbiAgICByOiAyLFxuICAgIG46IDIsXG4gICAgYjogMixcbiAgICBhOiAyLFxuICAgIGs6IDEsXG4gICAgYzogMixcbiAgICBwOiA1LFxuICB9O1xuXG4gIC8vIOWunuaXtue7n+iuoeW9k+WJjeaji+WtkOaVsOmHj1xuICAkOiBwaWVjZUNvdW50ID0gYm9hcmQuZmxhdCgpLnJlZHVjZShcbiAgICAoYWNjLCBwaWVjZSkgPT4ge1xuICAgICAgaWYgKHBpZWNlKSBhY2NbcGllY2VdID0gKGFjY1twaWVjZV0gfHwgMCkgKyAxO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LFxuICAgIHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4sXG4gICk7XG5cbiAgJDogY291bnQgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmtleXMoTUFYX0NPVU5UKS5tYXAoKHBpZWNlKSA9PiBbcGllY2UsIE1BWF9DT1VOVFtwaWVjZV0gLSAocGllY2VDb3VudFtwaWVjZV0gfHwgMCldKSxcbiAgKTtcbjwvc2NyaXB0PlxuXG48ZGl2XG4gIGNsYXNzPXtgcGllY2UtYnRuLWNvbnRhaW5lciAke3Bvc2l0aW9ufWB9XG4gIHN0eWxlPVwiLS1oZWlnaHQ6IHsxMSAqIHNldHRpbmdzLmNlbGxTaXplfXB4O1xuICAgIC0td2lkdGg6IHsxMCAqIHNldHRpbmdzLmNlbGxTaXplfXB4O1wiXG4+XG4gIHsjZWFjaCBPYmplY3QuZW50cmllcyhQSUVDRV9DSEFSUykgYXMgW3BpZWNlLCBuYW1lXX1cbiAgICA8YnV0dG9uXG4gICAgICBjbGFzcz17YHBpZWNlLWJ0biAke3Bvc2l0aW9ufSAke2lzUmVkKHBpZWNlKSA/IFwicmVkLXBpZWNlXCIgOiBcImJsdWUtcGllY2VcIn1gfVxuICAgICAgY2xhc3M6ZW1wdHk9e2NvdW50W3BpZWNlXSA9PT0gMH1cbiAgICAgIGNsYXNzOmFjdGl2ZT17c2VsZWN0ZWRQaWVjZSA9PT0gcGllY2V9XG4gICAgICBvbjpjbGljaz17KCkgPT4gZXZlbnRCdXMuZW1pdChcImNsaWNrUGllY2VCVE5cIiwgcGllY2UpfVxuICAgID5cbiAgICAgIHtuYW1lfVxuICAgIDwvYnV0dG9uPlxuICB7L2VhY2h9XG48L2Rpdj5cblxuPHN0eWxlPlxuICAucGllY2UtYnRuLWNvbnRhaW5lci5yaWdodCB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxNCwgMWZyKTtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGhlaWdodDogdmFyKC0taGVpZ2h0KTtcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IC8qIOW5s+Wdh+WIhuW4gyAqL1xuICB9XG5cbiAgLnBpZWNlLWJ0bi1jb250YWluZXIuYm90dG9tIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDcsIDFmcik7XG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMiwgMWZyKTtcbiAgICB3aWR0aDogdmFyKC0td2lkdGgpO1xuICAgIGhlaWdodDogYXV0bztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxuXG4gIC5waWVjZS1idG4ucmlnaHQge1xuICAgIGZsZXg6IDE7IC8qIOavj+S4quaMiemSruW5s+WIhumrmOW6piAqL1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZm9udC1zaXplOiAxcmVtO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxuXG4gIC5waWVjZS1idG4uYm90dG9tIHtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGJvcmRlcjogMDtcbiAgICB3aWR0aDogY2FsYyh2YXIoLS13aWR0aCkgLyA3KTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgfVxuXG4gIC5yZWQtcGllY2Uge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXJlZCk7XG4gICAgY29sb3I6IHdoaXRlO1xuICB9XG5cbiAgLmJsdWUtcGllY2Uge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJsdWUpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgfVxuXG4gIC5hY3RpdmUge1xuICAgIGZpbHRlcjogYnJpZ2h0bmVzcygxLjUpIHNhdHVyYXRlKDEuNCkgZHJvcC1zaGFkb3coMCAwIDZweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNikpO1xuICAgIGNvbG9yOiAjZGRkO1xuICB9XG5cbiAgLmVtcHR5IHtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICBmaWx0ZXI6IGdyYXlzY2FsZSgwLjQpIGJyaWdodG5lc3MoMC44KTtcbiAgICBjb2xvcjogI2RkZDtcbiAgfVxuPC9zdHlsZT5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vLi4vY29yZS9ldmVudC1idXNcIjtcblxuICBleHBvcnQgbGV0IGV2ZW50QnVzOiBFdmVudEJ1cztcbiAgZXhwb3J0IGxldCBwb3NpdGlvbjogc3RyaW5nID0gXCJcIjtcbiAgZXhwb3J0IGxldCBjdXJyZW50VHVybjogc3RyaW5nID0gXCJcIjtcblxuICBjb25zdCBidXR0b25zID0gW1xuICAgIHsgdGl0bGU6IFwi5YWI5omLXCIsIHRleHQ6IFwi5YWIXCIsIGFjdGlvbjogXCJ0dXJuXCIsIGNvbG9yOiB0cnVlIH0sXG4gICAgeyB0aXRsZTogXCLmuIXnqbpcIiwgdGV4dDogXCLnqbpcIiwgYWN0aW9uOiBcImVtcHR5XCIgfSxcbiAgICB7IHRpdGxlOiBcIuWhq+a7oVwiLCB0ZXh0OiBcIua7oVwiLCBhY3Rpb246IFwiZnVsbFwiIH0sXG4gICAgeyB0aXRsZTogXCLkv53lrZhcIiwgdGV4dDogXCLlrZhcIiwgYWN0aW9uOiBcInNhdmVcIiB9LFxuICBdO1xuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9e2BnZXRGRU5ULXRvb2xiYXItY29udGFpbmVyICR7cG9zaXRpb259YH0+XG4gIHsjZWFjaCBidXR0b25zIGFzIHsgdGl0bGUsIHRleHQsIGFjdGlvbiwgY29sb3IgfX1cbiAgICA8YnV0dG9uXG4gICAgICB7dGl0bGV9XG4gICAgICBjbGFzcz17YHRvb2xiYXItYnRuICR7Y29sb3IgPyBjdXJyZW50VHVybiA6IFwiXCJ9YH1cbiAgICAgIG9uOmNsaWNrPXsoKSA9PiBldmVudEJ1cy5lbWl0KFwiYnRuLWNsaWNrXCIsIGFjdGlvbil9XG4gICAgPlxuICAgICAge3RleHR9XG4gICAgPC9idXR0b24+XG4gIHsvZWFjaH1cbjwvZGl2PlxuXG48c3R5bGU+XG4gIC5nZXRGRU5ULXRvb2xiYXItY29udGFpbmVyLnJpZ2h0IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiAwLjVlbTtcbiAgfVxuXG4gIC5nZXRGRU5ULXRvb2xiYXItY29udGFpbmVyLmJvdHRvbSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGdhcDogMC41ZW07XG4gIH1cblxuICAudG9vbGJhci1idG4ge1xuICAgIHBhZGRpbmc6IDAuNGVtIDAuOGVtO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG5cbiAgLnJlZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcmVkKTtcbiAgfVxuXG4gIC5ibHVlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1ibHVlKTtcbiAgfVxuPC9zdHlsZT5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGltcG9ydCBCb2FyZCBmcm9tIFwiLi4vQm9hcmQuc3ZlbHRlXCI7XG4gIGltcG9ydCBQaWVjZUJUTnMgZnJvbSBcIi4vUGllY2VCVE5zLnN2ZWx0ZVwiO1xuICBpbXBvcnQgdHlwZSB7IElCb2FyZCwgSU9wdGlvbnMsIElQb3NpdGlvbiwgSVNldHRpbmdzIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG4gIGltcG9ydCB0eXBlIHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vLi4vY29yZS9ldmVudC1idXNcIjtcbiAgaW1wb3J0IFRvb2xiYXIgZnJvbSBcIi4vVG9vbGJhci5zdmVsdGVcIjtcblxuICBleHBvcnQgbGV0IHNldHRpbmdzOiBJU2V0dGluZ3M7XG4gIGV4cG9ydCBsZXQgYm9hcmQ6IElCb2FyZDtcbiAgZXhwb3J0IGxldCBtYXJrZWRQb3M6IElQb3NpdGlvbjtcbiAgZXhwb3J0IGxldCBzZWxlY3RlZFBpZWNlOiBzdHJpbmc7XG4gIGV4cG9ydCBsZXQgY3VycmVudFR1cm46IHN0cmluZztcbiAgZXhwb3J0IGxldCBldmVudEJ1czogRXZlbnRCdXM7XG4gICQ6IHBvc2l0aW9uID0gc2V0dGluZ3MucG9zaXRpb247XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cIlhRLWNvbnRhaW5lciB7c2V0dGluZ3MucG9zaXRpb259XCI+XG4gIDxCb2FyZCB7c2V0dGluZ3N9IHtib2FyZH0ge21hcmtlZFBvc30ge2N1cnJlbnRUdXJufSB7ZXZlbnRCdXN9IHJvdGF0ZWQ9e2ZhbHNlfSAvPlxuICA8UGllY2VCVE5zIHtzZXR0aW5nc30ge2JvYXJkfSB7ZXZlbnRCdXN9IHtwb3NpdGlvbn0ge3NlbGVjdGVkUGllY2V9IC8+XG4gIDxUb29sYmFyIHtldmVudEJ1c30ge3Bvc2l0aW9ufSB7Y3VycmVudFR1cm59IC8+XG48L2Rpdj5cblxuPHN0eWxlPlxuICAuWFEtY29udGFpbmVyIHtcbiAgICAtLXJlZDogIzg2MTgxODtcbiAgICAtLWJsdWU6ICMwMDAwODA7XG4gICAgbWFyZ2luOiAxMHB4O1xuICB9XG5cbiAgLlhRLWNvbnRhaW5lci5yaWdodCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGdhcDogMnB4O1xuICB9XG5cbiAgLlhRLWNvbnRhaW5lci5ib3R0b20ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgfVxuPC9zdHlsZT5cbiIsImltcG9ydCBHZW5GRU4gZnJvbSBcIi4uLy4uL2xpYi9HZW5GRU4vR2VuRkVOLnN2ZWx0ZVwiO1xuaW1wb3J0IHsgcmVnaXN0ZXJHZW5GRU5Nb2R1bGUgfSBmcm9tIFwiLi4vLi4vY29yZS9tb2R1bGUtc3lzdGVtXCI7XG5cbmV4cG9ydCBjbGFzcyBCb2FyZE1vZHVsZSB7XG4gICAgc3RhdGljIGluaXQoaG9zdDogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgICAgICBob3N0LkJvYXJkTW9kdWxlID0gbmV3IEJvYXJkTW9kdWxlKGhvc3QpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGhvc3Q6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICAgICAgY29uc3QgZXZlbnRCdXMgPSBob3N0LmV2ZW50QnVzO1xuICAgICAgICBldmVudEJ1cy5vbihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaG9zdC5tb2RpZmllZCA9IGZhbHNlXG4gICAgICAgICAgICBjb25zdCBDb250YWluZXIgPSBob3N0LmNvbnRhaW5lckVsLmNyZWF0ZUVsKCdkaXYnKTtcbiAgICAgICAgICAgIGhvc3QuWGlhbmdxaSA9IG5ldyBHZW5GRU4oe1xuICAgICAgICAgICAgICAgIHRhcmdldDogQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUGllY2U6IGhvc3Quc2VsZWN0ZWRQaWVjZSxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IGhvc3Quc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgIGJvYXJkOiBob3N0LmJvYXJkLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZWRQb3M6IGhvc3QubWFya2VkUG9zLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VHVybjogaG9zdC5jdXJyZW50VHVybixcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCdXM6IGhvc3QuZXZlbnRCdXMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuXG4gICAgICAgIGV2ZW50QnVzLm9uKCd1cGRhdGVVSScsICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGhvc3QuWGlhbmdxaS4kc2V0KHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFBpZWNlOiBob3N0LnNlbGVjdGVkUGllY2UsXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHsgLi4uaG9zdC5zZXR0aW5ncyB9LFxuICAgICAgICAgICAgICAgIGJvYXJkOiBob3N0LmJvYXJkLFxuICAgICAgICAgICAgICAgIG1hcmtlZFBvczogaG9zdC5tYXJrZWRQb3MsXG4gICAgICAgICAgICAgICAgY3VycmVudFR1cm46IGhvc3QuY3VycmVudFR1cm4sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcblxuICAgICAgICBldmVudEJ1cy5vbihcInVubG9hZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBob3N0LlhpYW5ncWkuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgIGhvc3QuWGlhbmdxaSA9IG51bGw7XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5yZWdpc3RlckdlbkZFTk1vZHVsZSgnYm9hcmQnLCBCb2FyZE1vZHVsZSk7XG4iLCJpbXBvcnQgdHlwZSB7IElQb3NpdGlvbiB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgcmVnaXN0ZXJHZW5GRU5Nb2R1bGUgfSBmcm9tIFwiLi4vLi4vY29yZS9tb2R1bGUtc3lzdGVtXCI7XG5cbmV4cG9ydCBjbGFzcyBCb2FyZENsaWNrTW9kdWxlIHtcblxuICAgIHN0YXRpYyBpbml0KGhvc3Q6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICAgICAgY29uc3QgZXZlbnRCdXMgPSBob3N0LmV2ZW50QnVzO1xuICAgICAgICBldmVudEJ1cy5vbignY2xpY2snLCAoY2xpY2tlZFBvczogSVBvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjbGlja2VkUGllY2UgPSBob3N0LmJvYXJkW2NsaWNrZWRQb3MueF1bY2xpY2tlZFBvcy55XTtcbiAgICAgICAgICAgIC8vIOS9oOeahOWQjue7remAu+i+kVxuICAgICAgICAgICAgaWYgKCFob3N0Lm1hcmtlZFBvcyAmJiAhaG9zdC5zZWxlY3RlZFBpZWNlKSB7XG4gICAgICAgICAgICAgICAgLy8g5rKh5pyJ5qCH6K6w5qOL5a2Q5pe277yM5Y+q6IO96YCJ5Lit5b2T5YmN6KGM5qOL5pa555qE5qOL5a2QXG4gICAgICAgICAgICAgICAgaWYgKGNsaWNrZWRQaWVjZSkge1xuICAgICAgICAgICAgICAgICAgICBob3N0Lm1hcmtlZFBvcyA9IGNsaWNrZWRQb3M7XG4gICAgICAgICAgICAgICAgICAgIGhvc3QuWGlhbmdxaS4kc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlZFBvczogeyAuLi5ob3N0Lm1hcmtlZFBvcyB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhvc3QubWFya2VkUG9zICYmICFob3N0LnNlbGVjdGVkUGllY2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9tID0gaG9zdC5tYXJrZWRQb3NcbiAgICAgICAgICAgICAgICBjb25zdCB0byA9IGNsaWNrZWRQb3NcbiAgICAgICAgICAgICAgICBob3N0LmJvYXJkW3RvLnhdW3RvLnldID0gaG9zdC5ib2FyZFtmcm9tLnhdW2Zyb20ueV07XG4gICAgICAgICAgICAgICAgaG9zdC5ib2FyZFtmcm9tLnhdW2Zyb20ueV0gPSAnJztcbiAgICAgICAgICAgICAgICBob3N0Lm1hcmtlZFBvcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgaG9zdC5YaWFuZ3FpLiRzZXQoe1xuICAgICAgICAgICAgICAgICAgICBib2FyZDogWy4uLmhvc3QuYm9hcmRdLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZWRQb3M6IGhvc3QubWFya2VkUG9zLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChob3N0LnNlbGVjdGVkUGllY2UpIHtcbiAgICAgICAgICAgICAgICBob3N0LmJvYXJkW2NsaWNrZWRQb3MueF1bY2xpY2tlZFBvcy55XSA9IGhvc3Quc2VsZWN0ZWRQaWVjZTtcbiAgICAgICAgICAgICAgICBob3N0LnNlbGVjdGVkUGllY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGhvc3QuWGlhbmdxaS4kc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmQ6IFsuLi5ob3N0LmJvYXJkXSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQaWVjZTogaG9zdC5zZWxlY3RlZFBpZWNlLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZWRQb3M6IGhvc3QubWFya2VkUG9zLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbn1cbnJlZ2lzdGVyR2VuRkVOTW9kdWxlKCdCb2FyZENsaWNrJywgQm9hcmRDbGlja01vZHVsZSk7XG4iLCJpbXBvcnQgeyBNYXJrZG93blZpZXcsIE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgcmVnaXN0ZXJHZW5GRU5Nb2R1bGUgfSBmcm9tIFwiLi4vLi4vY29yZS9tb2R1bGUtc3lzdGVtXCI7XG5pbXBvcnQgdHlwZSB7IElCb2FyZCwgSVR1cm4gfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIEFjdGlvbnNNb2R1bGUge1xuICAgIHN0YXRpYyBpbml0KGhvc3Q6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICAgICAgY29uc3QgZXZlbnRCdXMgPSBob3N0LmV2ZW50QnVzO1xuXG4gICAgICAgIGV2ZW50QnVzLm9uKFwiY2xpY2tQaWVjZUJUTlwiLCAocGllY2U6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgaG9zdC5tYXJrZWRQb3MgPSBudWxsO1xuICAgICAgICAgICAgaG9zdC5zZWxlY3RlZFBpZWNlID0gcGllY2U7XG4gICAgICAgICAgICBob3N0LmV2ZW50QnVzLmVtaXQoJ3VwZGF0ZVVJJyk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgZXZlbnRCdXMub24oXCJidG4tY2xpY2tcIiwgKGFjdGlvbjogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3R1cm4nOlxuICAgICAgICAgICAgICAgICAgICBob3N0LmN1cnJlbnRUdXJuID0gaG9zdC5jdXJyZW50VHVybiA9PT0gJ3JlZCcgPyAnYmx1ZScgOiAncmVkJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdlbXB0eSc6XG4gICAgICAgICAgICAgICAgICAgIGhvc3QuYm9hcmQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMCB9LCAoKSA9PiBBcnJheSg5KS5maWxsKG51bGwpKTtcbiAgICAgICAgICAgICAgICAgICAgaG9zdC5ib2FyZFs0XVswXSA9ICdrJztcbiAgICAgICAgICAgICAgICAgICAgaG9zdC5ib2FyZFs0XVs5XSA9ICdLJ1xuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bGwnOlxuICAgICAgICAgICAgICAgICAgICBob3N0LmV2ZW50QnVzLmVtaXQoJ2Z1bGwnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdzYXZlJzpcbiAgICAgICAgICAgICAgICAgICAgb25TYXZlQlROQ2xpY2soaG9zdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudEJ1cy5lbWl0KCd1cGRhdGVVSScpO1xuICAgICAgICB9KVxuICAgIH1cbn1cblxucmVnaXN0ZXJHZW5GRU5Nb2R1bGUoJ2FjdGlvbnMnLCBBY3Rpb25zTW9kdWxlKVxuXG5hc3luYyBmdW5jdGlvbiBvblNhdmVCVE5DbGljayhob3N0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgLy8gMS4g55Sf5oiQIEZFTlxuICAgIGNvbnN0IGZlbiA9IGdlbkZFTkZyb21Cb2FyZChob3N0LmJvYXJkLCBob3N0LmN1cnJlbnRUdXJuKTtcbiAgICAvLyAyLiDojrflj5blvZPliY0gbWFya2Rvd24g57yW6L6R5Zmo6KeG5Zu+5ZKM5paH5Lu2XG4gICAgY29uc3QgdmlldyA9IGhvc3QucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuICAgIGlmICghdmlldykgcmV0dXJuO1xuICAgIGNvbnN0IGZpbGUgPSB2aWV3LmZpbGU7XG4gICAgaWYgKCFmaWxlKSByZXR1cm47XG5cbiAgICAvLyAzLiDojrflj5blvZPliY3ku6PnoIHlnZfnmoQgc2VjdGlvbiDkv6Hmga9cbiAgICBjb25zdCBzZWN0aW9uID0gaG9zdC5jdHguZ2V0U2VjdGlvbkluZm8oaG9zdC5jb250YWluZXJFbCk7XG4gICAgaWYgKCFzZWN0aW9uKSByZXR1cm47XG4gICAgY29uc3QgeyBsaW5lU3RhcnQsIGxpbmVFbmQgfSA9IHNlY3Rpb247XG5cbiAgICAvLyA0LiDor7vlj5bmlofku7blhoXlrrnlubbliIbooYxcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgaG9zdC5wbHVnaW4uYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KFwiXFxuXCIpO1xuXG4gICAgLy8gNS4g6I635Y+W5Luj56CB5Z2X5YaF5a656KGMXG4gICAgbGV0IGJsb2NrTGluZXM6IHN0cmluZ1tdID0gbGluZXMuc2xpY2UobGluZVN0YXJ0LCBsaW5lRW5kICsgMSk7XG4gICAgaWYgKGJsb2NrTGluZXMubGVuZ3RoIDwgMikgcmV0dXJuO1xuXG4gICAgLy8gNi4g5Yik5pat5bm25pu/5o2i5Luj56CB5Z2X57G75Z6L5Li6IHhpYW5ncWnvvIzlhoXlrrnkuLogRkVOXG4gICAgLy8g5Y+q5pu/5o2i5Luj56CB5Z2X6aaW5bC+6KGM77yM5YaF5a655Y+q5L+d55WZIEZFTlxuICAgIGJsb2NrTGluZXNbMF0gPSBibG9ja0xpbmVzWzBdLnJlcGxhY2UoL15gYGB4cVxcYi4qJC8sIFwiYGBgeGlhbmdxaVwiKTtcbiAgICBibG9ja0xpbmVzID0gW2Jsb2NrTGluZXNbMF0sIGBbRkVOIFwiJHtmZW59XCJdYCwgXCJgYGBcIl07XG5cbiAgICAvLyA3LiDmi7zmjqXmlrDlhoXlrrnlubblhpnlm55cbiAgICBjb25zdCBuZXdDb250ZW50ID0gW1xuICAgICAgICAuLi5saW5lcy5zbGljZSgwLCBsaW5lU3RhcnQpLFxuICAgICAgICAuLi5ibG9ja0xpbmVzLFxuICAgICAgICAuLi5saW5lcy5zbGljZShsaW5lRW5kICsgMSksXG4gICAgXS5qb2luKFwiXFxuXCIpO1xuXG4gICAgYXdhaXQgaG9zdC5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcbiAgICBuZXcgTm90aWNlKFwiRkVO5bey5L+d5a2Y5Yiw5Luj56CB5Z2XXCIpO1xufVxuZnVuY3Rpb24gZ2VuRkVORnJvbUJvYXJkKGJvYXJkOiBJQm9hcmQsIHR1cm46IElUdXJuKTogc3RyaW5nIHtcbiAgICAvLyBib2FyZFt4XVt5Xe+8jHjkuLrliJfvvIx55Li66KGMXG4gICAgY29uc3Qgcm93czogc3RyaW5nW10gPSBbXTtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IDEwOyB5KyspIHtcbiAgICAgICAgbGV0IGZlblJvdyA9IFwiXCI7XG4gICAgICAgIGxldCBlbXB0eSA9IDA7XG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgOTsgeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gYm9hcmRbeF1beV07XG4gICAgICAgICAgICBpZiAoIWNlbGwpIHtcbiAgICAgICAgICAgICAgICBlbXB0eSsrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZW1wdHkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZlblJvdyArPSBlbXB0eTtcbiAgICAgICAgICAgICAgICAgICAgZW1wdHkgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmZW5Sb3cgKz0gY2VsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZW1wdHkgPiAwKSBmZW5Sb3cgKz0gZW1wdHk7XG4gICAgICAgIHJvd3MucHVzaChmZW5Sb3cpO1xuICAgIH1cbiAgICBjb25zdCBmZW4gPSByb3dzLmpvaW4oXCIvXCIpO1xuICAgIHJldHVybiBgJHtmZW59ICR7dHVybiA9PT0gXCJyZWRcIiA/IFwid1wiIDogXCJiXCJ9YDtcbn0iLCJpbXBvcnQgWFFQbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5pbXBvcnQge1xuICAgIHR5cGUgTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCxcbiAgICBNYXJrZG93blJlbmRlckNoaWxkLFxufSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQge1xuICAgIHR5cGUgTW9kdWxlUmVnaXN0cnksXG4gICAgY3JlYXRlR2VuRkVOTW9kdWxlUmVnaXN0cnksXG4gICAgZGVzdHJveUdlbkZFTk1vZHVsZVJlZ2lzdHJ5XG59IGZyb20gJy4uL2NvcmUvbW9kdWxlLXN5c3RlbSc7XG5pbXBvcnQgdHlwZSB7IEV2ZW50QnVzIH0gZnJvbSAnLi4vY29yZS9ldmVudC1idXMnO1xuaW1wb3J0IHR5cGUgeyBJU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgJy4uL2NvcmUvZXZlbnQtYnVzJztcbmltcG9ydCAnLi4vbW9kdWxlcy9YaWFuZ3FpL1NvdXJjZSc7XG5pbXBvcnQgJy4uL21vZHVsZXMvR2VuRkVOL0ZFTkJvYXJkJztcbmltcG9ydCAnLi4vbW9kdWxlcy9HZW5GRU4vQm9hcmRDbGljayc7XG5pbXBvcnQgJy4uL21vZHVsZXMvR2VuRkVOL0FjdGlvbnMnO1xuXG5leHBvcnQgY2xhc3MgR2VuRkVOUmVuZGVyQ2hpbGQgZXh0ZW5kcyBNYXJrZG93blJlbmRlckNoaWxkIHtcbiAgICBzZXR0aW5nczogSVNldHRpbmdzO1xuICAgIG1vZHVsZVJlZ2lzdHJ5OiBNb2R1bGVSZWdpc3RyeSB8IHVuZGVmaW5lZDtcbiAgICBldmVudEJ1cyE6IEV2ZW50QnVzO1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxuICAgICAgICBwdWJsaWMgY3R4OiBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0LFxuICAgICAgICBwdWJsaWMgc291cmNlOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBwbHVnaW46IFhRUGx1Z2luLFxuICAgICkge1xuICAgICAgICBzdXBlcihjb250YWluZXJFbCk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncztcbiAgICB9XG5cbiAgICBvbmxvYWQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGx1Z2luLnJlbmRlckNoaWxkcmVuLmFkZCh0aGlzKTtcbiAgICAgICAgdGhpcy5tb2R1bGVSZWdpc3RyeSA9IGNyZWF0ZUdlbkZFTk1vZHVsZVJlZ2lzdHJ5KHRoaXMpO1xuICAgICAgICB0aGlzLmV2ZW50QnVzLmVtaXQoJ2xvYWQnLCAnZmVuJyk7XG4gICAgfVxuXG4gICAgcmVmcmVzaCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5lbWl0KCd1cGRhdGVVSScpO1xuICAgIH1cblxuICAgIG9udW5sb2FkKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnBsdWdpbi5yZW5kZXJDaGlsZHJlbi5kZWxldGUodGhpcyk7XG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZW1pdCgndW5sb2FkJyk7XG4gICAgICAgIGRlc3Ryb3lHZW5GRU5Nb2R1bGVSZWdpc3RyeSh0aGlzKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgWFFQbHVnaW4gZnJvbSBcIi4vbWFpblwiO1xuaW1wb3J0IHR5cGUgeyBJU2V0dGluZ3MgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgdHlwZSBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IElTZXR0aW5ncyA9IHtcblx0cG9zaXRpb246IFwicmlnaHRcIixcblx0dGhlbWU6IFwiZGFya1wiLFxuXHRhdXRvVGhlbWU6IHRydWUsXG5cdGNlbGxTaXplOiA1MCxcblx0Zm9udFNpemU6IDEyLFxuXHRhdXRvSnVtcDogXCJhdXRvXCIsXG5cdGVuYWJsZVNwZWVjaDogdHJ1ZSxcblx0c2hvd1BHTjogdHJ1ZSxcblx0c2hvd1BHTnR4dDogdHJ1ZSxcblx0dmlld09ubHk6IGZhbHNlLFxuXHRyb3RhdGVkOiBmYWxzZSxcbn07XG5cbmV4cG9ydCBjbGFzcyBYUVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBYUVBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBYUVBsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncztcblx0XHRsZXQgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIuS4u+mimFwiKVxuXHRcdFx0LnNldERlc2MoXCLorr7nva7mo4vnm5jkuLvpopguXCIpXG5cdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XG5cdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbnMoe1xuXHRcdFx0XHRcdGxpZ2h0OiBcIua1heiJslwiLFxuXHRcdFx0XHRcdGRhcms6IFwi5rex6ImyXCIsXG5cdFx0XHRcdFx0YXV0bzogXCLot5/pmo9cIixcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGRyb3Bkb3duXG5cdFx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmF1dG9UaGVtZSA/IFwiYXV0b1wiIDogc2V0dGluZ3MudGhlbWUpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh0aGVtZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHRoZW1lID09PSBcImF1dG9cIikge1xuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5hdXRvVGhlbWUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBpc0RhcmtNb2RlID0gKCkgPT5cblx0XHRcdFx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucyhcInRoZW1lLWRhcmtcIik7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnRoZW1lID0gaXNEYXJrTW9kZSgpID8gXCJkYXJrXCIgOiBcImxpZ2h0XCI7IC8vIOiHquWKqOS4u+mimOaXtum7mOiupOS9v+eUqOa3seiJslxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MuYXV0b1RoZW1lID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnRoZW1lID0gdGhlbWUgYXMgXCJsaWdodFwiIHwgXCJkYXJrXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5yZWZyZXNoKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCLmjInpkq7luIPlsYBcIilcblx0XHRcdC5zZXREZXNjKFwi6K6+572u5oyJ6ZKu55qE5L2N572uLlwiKVxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xuXHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb25zKHtcblx0XHRcdFx0XHRyaWdodDogXCLlj7PkvqdcIixcblx0XHRcdFx0XHRib3R0b206IFwi5bqV6YOoXCIsXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHNldHRpbmdzLnBvc2l0aW9uKS5vbkNoYW5nZSgocG9zaXRpb24pID0+IHtcblx0XHRcdFx0XHRzZXR0aW5ncy5wb3NpdGlvbiA9IHBvc2l0aW9uIGFzIFwiYm90dG9tXCIgfCBcInJpZ2h0XCI7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ucmVmcmVzaCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIueVjOmdouWkp+Wwj1wiKVxuXHRcdFx0LnNldERlc2MoXCLosIPmlbTmo4vnm5jlpKflsI9cIilcblx0XHRcdC5hZGRTbGlkZXIoKHNsaWRlcikgPT4ge1xuXHRcdFx0XHRjb25zdCBjb250cm9sRWwgPSBzbGlkZXIuc2xpZGVyRWwucGFyZW50RWxlbWVudCE7XG5cdFx0XHRcdC8vIOWIm+W7uuaYvuekuua7keWdl+WAvOeahOagh+etvlxuXHRcdFx0XHRjb25zdCB2YWx1ZUxhYmVsID0gY3JlYXRlRWwoXCJzcGFuXCIsIHtcblx0XHRcdFx0XHR0ZXh0OiBNYXRoLmFicyhzZXR0aW5ncy5jZWxsU2l6ZSkudG9TdHJpbmcoKSxcblx0XHRcdFx0XHRjbHM6IFwic2xpZGVyLXZhbHVlLWxhYmVsXCIsXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjb250cm9sRWwucHJlcGVuZCh2YWx1ZUxhYmVsKTtcblx0XHRcdFx0c2xpZGVyXG5cdFx0XHRcdFx0LnNldExpbWl0cygxNSwgMTAwLCAxKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5jZWxsU2l6ZSkgLy8g6buY6K6k5YC8XG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0c2V0dGluZ3MuY2VsbFNpemUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdHZhbHVlTGFiZWwudGV4dENvbnRlbnQgPSB2YWx1ZS50b1N0cmluZygpOyAvLyDnoa7kv53lrp7ml7bmm7TmlrDmmL7npLrlgLxcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2goKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0Ly8g55uR5ZCsIGlucHV0IOS6i+S7tu+8jOWunueOsOaLluWKqOaXtuWunuaXtuabtOaWsFxuXHRcdFx0XHRzbGlkZXIuc2xpZGVyRWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcblx0XHRcdFx0XHRjb25zdCB2YWx1ZSA9IHNsaWRlci5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRcdHNldHRpbmdzLmNlbGxTaXplID0gdmFsdWU7XG5cdFx0XHRcdFx0dmFsdWVMYWJlbC50ZXh0Q29udGVudCA9IHZhbHVlLnRvU3RyaW5nKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCLnnYDms5XliJfooahcIiB9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCLlkK/nlKjnnYDms5XliJfooahcIilcblx0XHRcdC5zZXREZXNjKFwi5piv5ZCm5pi+56S65qOL6LCxXCIpXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG5cdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZShzZXR0aW5ncy5zaG93UEdOKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRzZXR0aW5ncy5zaG93UEdOID0gdmFsdWU7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ucmVmcmVzaCgpO1xuXHRcdFx0XHR9KSxcblx0XHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwi5pi+56S6552A5rOV5paH5a2XXCIpXG5cdFx0XHQuc2V0RGVzYyhcIuaYr+WQpuaYvuekuuaji+iwseedgOazleaWh+Wtl1wiKVxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUoc2V0dGluZ3Muc2hvd1BHTnR4dCkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0c2V0dGluZ3Muc2hvd1BHTnR4dCA9IHZhbHVlO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2goKTtcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0fSksXG5cdFx0XHQpO1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCLnnYDms5XmloflrZflpKflsI9cIilcblx0XHRcdC5zZXREZXNjKFwi6LCD5pW0552A5rOV5paH5a2X5aSn5bCPXCIpXG5cdFx0XHQuYWRkU2xpZGVyKChzbGlkZXIpID0+IHtcblx0XHRcdFx0Y29uc3QgY29udHJvbEVsID0gc2xpZGVyLnNsaWRlckVsLnBhcmVudEVsZW1lbnQhO1xuXHRcdFx0XHQvLyDliJvlu7rmmL7npLrmu5HlnZflgLznmoTmoIfnrb5cblx0XHRcdFx0Y29uc3QgdmFsdWVMYWJlbCA9IGNyZWF0ZUVsKFwic3BhblwiLCB7XG5cdFx0XHRcdFx0dGV4dDogTWF0aC5hYnMoc2V0dGluZ3MuZm9udFNpemUpLnRvU3RyaW5nKCksXG5cdFx0XHRcdFx0Y2xzOiBcInNsaWRlci12YWx1ZS1sYWJlbFwiLFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29udHJvbEVsLnByZXBlbmQodmFsdWVMYWJlbCk7XG5cdFx0XHRcdHNsaWRlclxuXHRcdFx0XHRcdC5zZXRMaW1pdHMoMTAsIDI1LCAxKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5mb250U2l6ZSkgLy8g6buY6K6k5YC8XG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0c2V0dGluZ3MuZm9udFNpemUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdHZhbHVlTGFiZWwudGV4dENvbnRlbnQgPSB2YWx1ZS50b1N0cmluZygpOyAvLyDnoa7kv53lrp7ml7bmm7TmlrDmmL7npLrlgLxcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2goKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0Ly8g55uR5ZCsIGlucHV0IOS6i+S7tu+8jOWunueOsOaLluWKqOaXtuWunuaXtuabtOaWsFxuXHRcdFx0XHRzbGlkZXIuc2xpZGVyRWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcblx0XHRcdFx0XHRjb25zdCB2YWx1ZSA9IHNsaWRlci5nZXRWYWx1ZSgpO1xuXHRcdFx0XHRcdHNldHRpbmdzLmZvbnRTaXplID0gdmFsdWU7XG5cdFx0XHRcdFx0dmFsdWVMYWJlbC50ZXh0Q29udGVudCA9IHZhbHVlLnRvU3RyaW5nKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwi5byA5bGA6Lez6L2sXCIpXG5cdFx0XHQuc2V0RGVzYyhcIuWIneWni+a4suafk+aXtum7mOiupOi3s+i9rOiHs+e7iOWxgFwiKVxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xuXHRcdFx0XHRkcm9wZG93blxuXHRcdFx0XHRcdC5hZGRPcHRpb25zKHtcblx0XHRcdFx0XHRcdG5ldmVyOiBcIuS7juS4jVwiLFxuXHRcdFx0XHRcdFx0YWx3YXlzOiBcIuWni+e7iFwiLFxuXHRcdFx0XHRcdFx0YXV0bzogXCLml6BGRU7ljbPmraPluLjlvIDlsYDml7ZcIixcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5hdXRvSnVtcClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5hdXRvSnVtcCA9IHZhbHVlIGFzIFwibmV2ZXJcIiB8IFwiYWx3YXlzXCIgfCBcImF1dG9cIjtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0aWYgKHdpbmRvdy5zcGVlY2hTeW50aGVzaXMpIHtcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHQuc2V0TmFtZShcIuacl+ivu+edgOazlVwiKVxuXHRcdFx0XHQuc2V0RGVzYyhcIuaYr+WQpuacl+ivu+aji+iwsei1sOazlVwiKVxuXHRcdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG5cdFx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHNldHRpbmdzLmVuYWJsZVNwZWVjaCkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRzZXR0aW5ncy5lbmFibGVTcGVlY2ggPSB2YWx1ZTtcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0KTtcblx0XHR9XG5cdH1cblx0YXN5bmMgaGlkZSgpIHtcblx0XHR0aGlzLnBsdWdpbi5yZWZyZXNoKCk7XG5cdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cblx0fVxufVxuIiwiaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBDaGVzc1JlbmRlckNoaWxkIH0gZnJvbSBcIi4vcmVuZGVyQ2hpbGQvQ2hlc3NSZW5kZXJDaGlsZFwiO1xuaW1wb3J0IHsgR2VuRkVOUmVuZGVyQ2hpbGQgfSBmcm9tICcuL3JlbmRlckNoaWxkL0dlbkZFTlJlbmRlckNoaWxkJztcbmltcG9ydCB0eXBlIHsgSVNldHRpbmdzIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IFhRU2V0dGluZ1RhYiwgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFhRUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IElTZXR0aW5ncyA9IERFRkFVTFRfU0VUVElOR1M7XG5cdHJlbmRlckNoaWxkcmVuID0gbmV3IFNldDxDaGVzc1JlbmRlckNoaWxkPigpO1xuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgWFFTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyTWFya2Rvd25Db2RlQmxvY2tQcm9jZXNzb3IoJ3hpYW5ncWknLCAoc291cmNlLCBlbCwgY3R4KSA9PiB7XG5cdFx0XHRjb25zdCByZW5kZXJDaGlsZCA9IG5ldyBDaGVzc1JlbmRlckNoaWxkKGVsLCBjdHgsIHNvdXJjZSwgdGhpcyk7XG5cdFx0XHRjdHguYWRkQ2hpbGQocmVuZGVyQ2hpbGQpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKCd4cScsIChzb3VyY2UsIGVsLCBjdHgpID0+IHtcblx0XHRcdGNvbnN0IHJlbmRlckNoaWxkID0gbmV3IEdlbkZFTlJlbmRlckNoaWxkKGVsLCBjdHgsIHNvdXJjZSwgdGhpcyk7XG5cdFx0XHRjdHguYWRkQ2hpbGQocmVuZGVyQ2hpbGQpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiY3NzLWNoYW5nZVwiLCAoKSA9PiB7XG5cdFx0XHRcdC8vIOS4u+mimOW3suaUueWPmFxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5hdXRvVGhlbWUpIHtcblx0XHRcdFx0XHRjb25zdCBpc0RhcmtNb2RlID0gKCkgPT5cblx0XHRcdFx0XHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwidGhlbWUtZGFya1wiKTtcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnRoZW1lID0gaXNEYXJrTW9kZSgpID8gXCJkYXJrXCIgOiBcImxpZ2h0XCI7IC8vIOiHquWKqOS4u+mimOaXtum7mOiupOS9v+eUqOa3seiJslxuXHRcdFx0XHRcdHRoaXMucmVmcmVzaCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHQpO1xuXHR9XG5cblx0cmVmcmVzaCgpIHtcblx0XHR0aGlzLnJlbmRlckNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG5cdFx0XHRjaGlsZC5yZWZyZXNoKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0Y29uc3Qgc2F2ZWREYXRhID0gYXdhaXQgdGhpcy5sb2FkRGF0YSgpO1xuXHRcdHRoaXMuc2V0dGluZ3MgPSB7XG5cdFx0XHQuLi5ERUZBVUxUX1NFVFRJTkdTLFxuXHRcdFx0Li4uc2F2ZWREYXRhLFxuXHRcdH07XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVNb2R1bGVTeXN0ZW0iLCJtb2R1bGVNYXAiLCJyZWdpc3RyeU1hcCIsInJlZ2lzdGVyIiwibmFtZSIsIm1vZHVsZSIsImNyZWF0ZVJlZ2lzdHJ5IiwiaG9zdCIsInJlZ2lzdHJ5IiwiaW5zdGFuY2UiLCJkZXN0cm95UmVnaXN0cnkiLCJYUU1vZHVsZXMiLCJyZWdpc3RlclhRTW9kdWxlIiwiY3JlYXRlWFFNb2R1bGVSZWdpc3RyeSIsImRlc3Ryb3lYUU1vZHVsZVJlZ2lzdHJ5IiwiR2VuRkVOTW9kdWxlcyIsInJlZ2lzdGVyR2VuRkVOTW9kdWxlIiwiY3JlYXRlR2VuRkVOTW9kdWxlUmVnaXN0cnkiLCJkZXN0cm95R2VuRkVOTW9kdWxlUmVnaXN0cnkiLCJFdmVudEJ1cyIsIl9fcHVibGljRmllbGQiLCJldmVudCIsImhhbmRsZXIiLCJwYXlsb2FkIiwic2V0IiwiaGFzUGF5bG9hZCIsIl9hIiwiUElFQ0VfQ0hBUlMiLCJwYXJzZVNvdXJjZSIsInNvdXJjZSIsIm9wdGlvbnMiLCJwYXJzZU9wdGlvbiIsImhhdmVGRU4iLCJmZW4iLCJib2FyZCIsInBvc2l0aW9uIiwidHVybiIsInJvdyIsInkiLCJ4IiwiY2hhciIsImZpcnN0VHVybiIsIlBHTlN0cmluZyIsInRtcEJvYXJkIiwiUEdOIiwic3RyaW5nIiwibW92ZSIsInBhcnNlSUNDUyIsImdldFdYRiIsImtleSIsInJlZ2V4IiwibWF0Y2giLCJJQ0NTIiwiZnJvbVN0aW5nIiwidG9TdGluZyIsImZyb21YIiwiZnJvbVkiLCJ0b1giLCJ0b1kiLCJmcm9tIiwidG8iLCJ0eXBlIiwiZ2V0SUNDUyIsInhUb0xldHRlciIsImZyb21TdHIiLCJ0b1N0ciIsIk1PVkVfVFlQRVMiLCJOVU1CRVJTX1JFRCIsIk5VTUJFUlNfQkxVRSIsInBpZWNlIiwiaXNSZWQiLCJudW1iZXJzIiwiQk9BUkQiLCJmcm9teCIsImZyb215IiwidG94IiwidG95IiwicHJlIiwic2FtZWNvbCIsImluZGV4IiwibW92ZVR5cGUiLCJkZXN0IiwiZGVsdGEiLCJTb3VyY2VNb2R1bGUiLCJldmVudEJ1cyIsInJlbmRlckNoaWxkIiwiREVSSVZFRCIsIkVGRkVDVCIsIlJFTkRFUl9FRkZFQ1QiLCJCTE9DS19FRkZFQ1QiLCJCUkFOQ0hfRUZGRUNUIiwiUk9PVF9FRkZFQ1QiLCJCT1VOREFSWV9FRkZFQ1QiLCJVTk9XTkVEIiwiRElTQ09OTkVDVEVEIiwiQ0xFQU4iLCJESVJUWSIsIk1BWUJFX0RJUlRZIiwiSU5FUlQiLCJERVNUUk9ZRUQiLCJFRkZFQ1RfUkFOIiwiRUZGRUNUX1RSQU5TUEFSRU5UIiwiSU5TUEVDVF9FRkZFQ1QiLCJIRUFEX0VGRkVDVCIsIkVGRkVDVF9QUkVTRVJWRUQiLCJVU0VSX0VGRkVDVCIsIlJFQUNUSU9OX0lTX1VQREFUSU5HIiwiQVNZTkMiLCJFUlJPUl9WQUxVRSIsIlNUQVRFX1NZTUJPTCIsIkxFR0FDWV9QUk9QUyIsIkxPQURJTkdfQVRUUl9TWU1CT0wiLCJTVEFMRV9SRUFDVElPTiIsIlRFWFRfTk9ERSIsIkNPTU1FTlRfTk9ERSIsIkRFViIsImlzX2FycmF5IiwiaW5kZXhfb2YiLCJhcnJheV9mcm9tIiwiZGVmaW5lX3Byb3BlcnR5IiwiZ2V0X2Rlc2NyaXB0b3IiLCJnZXRfZGVzY3JpcHRvcnMiLCJvYmplY3RfcHJvdG90eXBlIiwiYXJyYXlfcHJvdG90eXBlIiwiZ2V0X3Byb3RvdHlwZV9vZiIsImlzX2V4dGVuc2libGUiLCJydW4iLCJmbiIsInJ1bl9hbGwiLCJhcnIiLCJpIiwiZGVmZXJyZWQiLCJyZXNvbHZlIiwicmVqZWN0IiwicHJvbWlzZSIsInJlcyIsInJlaiIsInRvX2FycmF5IiwidmFsdWUiLCJuIiwiYXJyYXkiLCJlbGVtZW50IiwiZXF1YWxzIiwic2FmZV9ub3RfZXF1YWwiLCJhIiwiYiIsInNhZmVfZXF1YWxzIiwiYXdhaXRfb3V0c2lkZV9ib3VuZGFyeSIsImxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudCIsImFzeW5jX2Rlcml2ZWRfb3JwaGFuIiwiZWZmZWN0X2luX3RlYXJkb3duIiwicnVuZSIsImVmZmVjdF9pbl91bm93bmVkX2Rlcml2ZWQiLCJlZmZlY3Rfb3JwaGFuIiwiZWZmZWN0X3VwZGF0ZV9kZXB0aF9leGNlZWRlZCIsImh5ZHJhdGlvbl9mYWlsZWQiLCJwcm9wc19pbnZhbGlkX3ZhbHVlIiwic3RhdGVfZGVzY3JpcHRvcnNfZml4ZWQiLCJzdGF0ZV9wcm90b3R5cGVfZml4ZWQiLCJzdGF0ZV91bnNhZmVfbXV0YXRpb24iLCJsZWdhY3lfbW9kZV9mbGFnIiwidHJhY2luZ19tb2RlX2ZsYWciLCJlbmFibGVfbGVnYWN5X21vZGVfZmxhZyIsIkVBQ0hfSVRFTV9SRUFDVElWRSIsIkVBQ0hfSU5ERVhfUkVBQ1RJVkUiLCJFQUNIX0lTX0NPTlRST0xMRUQiLCJFQUNIX0lTX0FOSU1BVEVEIiwiRUFDSF9JVEVNX0lNTVVUQUJMRSIsIlBST1BTX0lTX0lNTVVUQUJMRSIsIlBST1BTX0lTX1JVTkVTIiwiUFJPUFNfSVNfVVBEQVRFRCIsIlBST1BTX0lTX0JJTkRBQkxFIiwiUFJPUFNfSVNfTEFaWV9JTklUSUFMIiwiVEVNUExBVEVfRlJBR01FTlQiLCJURU1QTEFURV9VU0VfSU1QT1JUX05PREUiLCJIWURSQVRJT05fU1RBUlQiLCJIWURSQVRJT05fU1RBUlRfRUxTRSIsIkhZRFJBVElPTl9FTkQiLCJIWURSQVRJT05fRVJST1IiLCJVTklOSVRJQUxJWkVEIiwiTkFNRVNQQUNFX0hUTUwiLCJjb21wb25lbnRfY29udGV4dCIsInNldF9jb21wb25lbnRfY29udGV4dCIsImNvbnRleHQiLCJwdXNoIiwicHJvcHMiLCJydW5lcyIsInBvcCIsImNvbXBvbmVudCIsImVmZmVjdHMiLCJjcmVhdGVfdXNlcl9lZmZlY3QiLCJpc19ydW5lcyIsImh5ZHJhdGlvbl9taXNtYXRjaCIsImxvY2F0aW9uIiwiaHlkcmF0aW5nIiwic2V0X2h5ZHJhdGluZyIsImh5ZHJhdGVfbm9kZSIsInNldF9oeWRyYXRlX25vZGUiLCJub2RlIiwidy5oeWRyYXRpb25fbWlzbWF0Y2giLCJoeWRyYXRlX25leHQiLCJnZXRfbmV4dF9zaWJsaW5nIiwicmVzZXQiLCJyZW1vdmVfbm9kZXMiLCJkZXB0aCIsImRhdGEiLCJuZXh0IiwicmVhZF9oeWRyYXRpb25faW5zdHJ1Y3Rpb24iLCJwcm94eSIsInByb3RvdHlwZSIsInNvdXJjZXMiLCJpc19wcm94aWVkX2FycmF5IiwidmVyc2lvbiIsInBhcmVudF92ZXJzaW9uIiwidXBkYXRlX3ZlcnNpb24iLCJ3aXRoX3BhcmVudCIsInJlYWN0aW9uIiwiYWN0aXZlX3JlYWN0aW9uIiwic2V0X2FjdGl2ZV9yZWFjdGlvbiIsInNldF91cGRhdGVfdmVyc2lvbiIsInJlc3VsdCIsIl8iLCJwcm9wIiwiZGVzY3JpcHRvciIsImUuc3RhdGVfZGVzY3JpcHRvcnNfZml4ZWQiLCJzIiwidGFyZ2V0IiwiaW5jcmVtZW50IiwicmVjZWl2ZXIiLCJleGlzdHMiLCJwIiwiZ2V0IiwiaGFzIiwiYWN0aXZlX2VmZmVjdCIsIm90aGVyX3MiLCJscyIsIm93bl9rZXlzIiwiZS5zdGF0ZV9wcm90b3R5cGVfZml4ZWQiLCIkd2luZG93IiwiaXNfZmlyZWZveCIsImZpcnN0X2NoaWxkX2dldHRlciIsIm5leHRfc2libGluZ19nZXR0ZXIiLCJpbml0X29wZXJhdGlvbnMiLCJlbGVtZW50X3Byb3RvdHlwZSIsIm5vZGVfcHJvdG90eXBlIiwidGV4dF9wcm90b3R5cGUiLCJjcmVhdGVfdGV4dCIsImdldF9maXJzdF9jaGlsZCIsImNoaWxkIiwiaXNfdGV4dCIsInRleHQiLCJmaXJzdF9jaGlsZCIsImZyYWdtZW50IiwiZmlyc3QiLCJzaWJsaW5nIiwiY291bnQiLCJuZXh0X3NpYmxpbmciLCJsYXN0X3NpYmxpbmciLCJjbGVhcl90ZXh0X2NvbnRlbnQiLCJzaG91bGRfZGVmZXJfYXBwZW5kIiwiYWRqdXN0bWVudHMiLCJoYW5kbGVfZXJyb3IiLCJlcnJvciIsImVmZmVjdCIsImludm9rZV9lcnJvcl9ib3VuZGFyeSIsImFwcGx5X2FkanVzdG1lbnRzIiwiYWRqdXN0ZWQiLCJtaWNyb190YXNrcyIsImlkbGVfdGFza3MiLCJydW5fbWljcm9fdGFza3MiLCJ0YXNrcyIsInJ1bl9pZGxlX3Rhc2tzIiwicXVldWVfbWljcm9fdGFzayIsImZsdXNoX3Rhc2tzIiwiZ2V0X3BlbmRpbmdfYm91bmRhcnkiLCJib3VuZGFyeSIsImUuYXdhaXRfb3V0c2lkZV9ib3VuZGFyeSIsImRlcml2ZWQiLCJmbGFncyIsInBhcmVudF9kZXJpdmVkIiwiYXN5bmNfZGVyaXZlZCIsInBhcmVudCIsImUuYXN5bmNfZGVyaXZlZF9vcnBoYW4iLCJzaWduYWwiLCJwcmV2Iiwic2hvdWxkX3N1c3BlbmQiLCJhc3luY19lZmZlY3QiLCJyIiwiYmF0Y2giLCJjdXJyZW50X2JhdGNoIiwicGVuZGluZyIsImludGVybmFsX3NldCIsInVuc2V0X2NvbnRleHQiLCJlIiwiZnVsZmlsIiwiZ28iLCJ1c2VyX2Rlcml2ZWQiLCJkIiwicHVzaF9yZWFjdGlvbl92YWx1ZSIsImRlcml2ZWRfc2FmZV9lcXVhbCIsImRlc3Ryb3lfZGVyaXZlZF9lZmZlY3RzIiwiZGVzdHJveV9lZmZlY3QiLCJnZXRfZGVyaXZlZF9wYXJlbnRfZWZmZWN0IiwiZXhlY3V0ZV9kZXJpdmVkIiwicHJldl9hY3RpdmVfZWZmZWN0Iiwic2V0X2FjdGl2ZV9lZmZlY3QiLCJ1cGRhdGVfcmVhY3Rpb24iLCJ1cGRhdGVfZGVyaXZlZCIsImluY3JlbWVudF93cml0ZV92ZXJzaW9uIiwiaXNfZGVzdHJveWluZ19lZmZlY3QiLCJiYXRjaF9kZXJpdmVkcyIsInN0YXR1cyIsInNraXBfcmVhY3Rpb24iLCJzZXRfc2lnbmFsX3N0YXR1cyIsImZsYXR0ZW4iLCJzeW5jIiwiYXN5bmMiLCJyZXN0b3JlIiwiY2FwdHVyZSIsImV4cHJlc3Npb24iLCJwcmV2aW91c19lZmZlY3QiLCJwcmV2aW91c19yZWFjdGlvbiIsInByZXZpb3VzX2NvbXBvbmVudF9jb250ZXh0IiwiYmF0Y2hlcyIsImVmZmVjdF9wZW5kaW5nX3VwZGF0ZXMiLCJxdWV1ZWRfcm9vdF9lZmZlY3RzIiwibGFzdF9zY2hlZHVsZWRfZWZmZWN0IiwiaXNfZmx1c2hpbmciLCJfQmF0Y2giLCJfX3ByaXZhdGVBZGQiLCJfQmF0Y2hfaW5zdGFuY2VzIiwiX2N1cnJlbnQiLCJfcHJldmlvdXMiLCJfY2FsbGJhY2tzIiwiX3BlbmRpbmciLCJfZGVmZXJyZWQiLCJfbmV1dGVyZWQiLCJfYXN5bmNfZWZmZWN0cyIsIl9ib3VuZGFyeV9hc3luY19lZmZlY3RzIiwiX3JlbmRlcl9lZmZlY3RzIiwiX2VmZmVjdHMiLCJfYmxvY2tfZWZmZWN0cyIsIl9fcHJpdmF0ZUdldCIsInVwZGF0ZSIsIl9fcHJpdmF0ZVNldCIsIl9fcHJpdmF0ZU1ldGhvZCIsImNvbW1pdF9mbiIsIndhc191cGRhdGluZ19lZmZlY3QiLCJpc191cGRhdGluZ19lZmZlY3QiLCJmbHVzaF9jb3VudCIsInNldF9pc191cGRhdGluZ19lZmZlY3QiLCJ1cGRhdGVzIiwiZW50cnkiLCJpbmZpbml0ZV9sb29wX2d1YXJkIiwicHJvY2Vzc19mbiIsIm9sZF92YWx1ZXMiLCJzY2hlZHVsZV9lZmZlY3QiLCJhdXRvZmx1c2giLCJyb290X2VmZmVjdHMiLCJjdXJyZW50X3ZhbHVlcyIsImN1cnJlbnQiLCJwcmV2aW91cyIsInJvb3QiLCJ0cmF2ZXJzZV9lZmZlY3RfdHJlZV9mbiIsInJlbmRlcl9lZmZlY3RzIiwiZmx1c2hfcXVldWVkX2VmZmVjdHMiLCJ2Iiwid3YiLCJ1cGRhdGVfZWZmZWN0IiwiaXNfYnJhbmNoIiwiaXNfc2tpcHBhYmxlX2JyYW5jaCIsInNraXAiLCJpc19kaXJ0eSIsIkJhdGNoIiwiZmx1c2hTeW5jIiwiZS5lZmZlY3RfdXBkYXRlX2RlcHRoX2V4Y2VlZGVkIiwibGVuZ3RoIiwid3JpdGVfdmVyc2lvbiIsInVubGlua19lZmZlY3QiLCJzdGFjayIsInN0YXRlIiwibXV0YWJsZV9zb3VyY2UiLCJpbml0aWFsX3ZhbHVlIiwiaW1tdXRhYmxlIiwidHJhY2thYmxlIiwic2hvdWxkX3Byb3h5IiwidW50cmFja2luZyIsImN1cnJlbnRfc291cmNlcyIsImUuc3RhdGVfdW5zYWZlX211dGF0aW9uIiwibmV3X3ZhbHVlIiwib2xkX3ZhbHVlIiwibWFya19yZWFjdGlvbnMiLCJ1bnRyYWNrZWRfd3JpdGVzIiwic2V0X3VudHJhY2tlZF93cml0ZXMiLCJyZWFjdGlvbnMiLCJzZXRfaXNfZGVzdHJveWluZ19lZmZlY3QiLCJuZXdfZGVwcyIsInNraXBwZWRfZGVwcyIsInJlYWRfdmVyc2lvbiIsImRlcGVuZGVuY2llcyIsImlzX3Vub3duZWQiLCJkZXBlbmRlbmN5IiwiaXNfZGlzY29ubmVjdGVkIiwiaXNfdW5vd25lZF9jb25uZWN0ZWQiLCJzY2hlZHVsZV9wb3NzaWJsZV9lZmZlY3Rfc2VsZl9pbnZhbGlkYXRpb24iLCJwcmV2aW91c19kZXBzIiwicHJldmlvdXNfc2tpcHBlZF9kZXBzIiwicHJldmlvdXNfdW50cmFja2VkX3dyaXRlcyIsInByZXZpb3VzX3NraXBfcmVhY3Rpb24iLCJwcmV2aW91c19zb3VyY2VzIiwicHJldmlvdXNfdW50cmFja2luZyIsInByZXZpb3VzX3VwZGF0ZV92ZXJzaW9uIiwiZGVwcyIsInJlbW92ZV9yZWFjdGlvbnMiLCJyZW1vdmVfcmVhY3Rpb24iLCJuZXdfbGVuZ3RoIiwic3RhcnRfaW5kZXgiLCJkZXN0cm95X2Jsb2NrX2VmZmVjdF9jaGlsZHJlbiIsImRlc3Ryb3lfZWZmZWN0X2NoaWxkcmVuIiwiZXhlY3V0ZV9lZmZlY3RfdGVhcmRvd24iLCJ0ZWFyZG93biIsImRlcCIsInRpY2siLCJpc19kZXJpdmVkIiwiZGVzdHJveWVkIiwiZGVwZW5kc19vbl9vbGRfdmFsdWVzIiwidW50cmFjayIsIlNUQVRVU19NQVNLIiwiZGVlcF9yZWFkX3N0YXRlIiwiZGVlcF9yZWFkIiwidmlzaXRlZCIsInByb3RvIiwiZGVzY3JpcHRvcnMiLCJ2YWxpZGF0ZV9lZmZlY3QiLCJlLmVmZmVjdF9vcnBoYW4iLCJlLmVmZmVjdF9pbl91bm93bmVkX2Rlcml2ZWQiLCJlLmVmZmVjdF9pbl90ZWFyZG93biIsInB1c2hfZWZmZWN0IiwicGFyZW50X2VmZmVjdCIsInBhcmVudF9sYXN0IiwiY3JlYXRlX2VmZmVjdCIsImluZXJ0IiwidXNlcl9lZmZlY3QiLCJkZWZlciIsInVzZXJfcHJlX2VmZmVjdCIsImNvbXBvbmVudF9yb290IiwicGF1c2VfZWZmZWN0IiwibGVnYWN5X3ByZV9lZmZlY3QiLCJ0b2tlbiIsInJlbmRlcl9lZmZlY3QiLCJsZWdhY3lfcHJlX2VmZmVjdF9yZXNldCIsInRlbXBsYXRlX2VmZmVjdCIsInZhbHVlcyIsImJsb2NrIiwiYnJhbmNoIiwicHJldmlvdXNseV9kZXN0cm95aW5nX2VmZmVjdCIsInJlbW92ZV9kb20iLCJyZW1vdmVkIiwicmVtb3ZlX2VmZmVjdF9kb20iLCJ0cmFuc2l0aW9ucyIsInRyYW5zaXRpb24iLCJlbmQiLCJjYWxsYmFjayIsInBhdXNlX2NoaWxkcmVuIiwicnVuX291dF90cmFuc2l0aW9ucyIsInJlbWFpbmluZyIsImNoZWNrIiwibG9jYWwiLCJ0cmFuc3BhcmVudCIsInJlc3VtZV9lZmZlY3QiLCJyZXN1bWVfY2hpbGRyZW4iLCJ3aXRob3V0X3JlYWN0aXZlX2NvbnRleHQiLCJhbGxfcmVnaXN0ZXJlZF9ldmVudHMiLCJyb290X2V2ZW50X2hhbmRsZXMiLCJjcmVhdGVfZXZlbnQiLCJldmVudF9uYW1lIiwiZG9tIiwidGFyZ2V0X2hhbmRsZXIiLCJoYW5kbGVfZXZlbnRfcHJvcGFnYXRpb24iLCJwYXNzaXZlIiwiZGVsZWdhdGUiLCJldmVudHMiLCJoYW5kbGVyX2VsZW1lbnQiLCJvd25lcl9kb2N1bWVudCIsInBhdGgiLCJjdXJyZW50X3RhcmdldCIsInBhdGhfaWR4IiwiaGFuZGxlZF9hdCIsImF0X2lkeCIsImhhbmRsZXJfaWR4IiwidGhyb3dfZXJyb3IiLCJvdGhlcl9lcnJvcnMiLCJwYXJlbnRfZWxlbWVudCIsImRlbGVnYXRlZCIsImNyZWF0ZV9mcmFnbWVudF9mcm9tX2h0bWwiLCJodG1sIiwiZWxlbSIsImFzc2lnbl9ub2RlcyIsInN0YXJ0IiwiZnJvbV9odG1sIiwiY29udGVudCIsInVzZV9pbXBvcnRfbm9kZSIsImhhc19zdGFydCIsImNsb25lIiwiZnJvbV9uYW1lc3BhY2UiLCJucyIsImlzX2ZyYWdtZW50Iiwid3JhcHBlZCIsImZyb21fc3ZnIiwiY29tbWVudCIsImZyYWciLCJhbmNob3IiLCJhcHBlbmQiLCJQQVNTSVZFX0VWRU5UUyIsImlzX3Bhc3NpdmVfZXZlbnQiLCJzZXRfdGV4dCIsInN0ciIsIm1vdW50IiwiX21vdW50IiwiaHlkcmF0ZSIsIndhc19oeWRyYXRpbmciLCJwcmV2aW91c19oeWRyYXRlX25vZGUiLCJlLmh5ZHJhdGlvbl9mYWlsZWQiLCJkb2N1bWVudF9saXN0ZW5lcnMiLCJDb21wb25lbnQiLCJpbnRybyIsInJlZ2lzdGVyZWRfZXZlbnRzIiwiZXZlbnRfaGFuZGxlIiwidW5tb3VudCIsImFuY2hvcl9ub2RlIiwiY3R4IiwibW91bnRlZF9jb21wb25lbnRzIiwiY3JlYXRlQ2xhc3NDb21wb25lbnQiLCJTdmVsdGU0Q29tcG9uZW50IiwiX2V2ZW50cyIsIl9pbnN0YW5jZSIsImFkZF9zb3VyY2UiLCJjYiIsImFyZ3MiLCJQVUJMSUNfVkVSU0lPTiIsIm9uTW91bnQiLCJlLmxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudCIsImluaXRfdXBkYXRlX2NhbGxiYWNrcyIsImNsZWFudXAiLCJsIiwiaWZfYmxvY2siLCJlbHNlaWYiLCJjb25zZXF1ZW50X2VmZmVjdCIsImFsdGVybmF0ZV9lZmZlY3QiLCJjb25kaXRpb24iLCJoYXNfYnJhbmNoIiwic2V0X2JyYW5jaCIsImZsYWciLCJ1cGRhdGVfYnJhbmNoIiwib2Zmc2NyZWVuX2ZyYWdtZW50IiwiY29tbWl0IiwiYWN0aXZlIiwiaW5hY3RpdmUiLCJuZXdfY29uZGl0aW9uIiwibWlzbWF0Y2giLCJpc19lbHNlIiwicGF1c2VfZWZmZWN0cyIsIml0ZW1zIiwiY29udHJvbGxlZF9hbmNob3IiLCJpdGVtc19tYXAiLCJpc19jb250cm9sbGVkIiwicGFyZW50X25vZGUiLCJsaW5rIiwiaXRlbSIsImVhY2giLCJnZXRfY29sbGVjdGlvbiIsImdldF9rZXkiLCJyZW5kZXJfZm4iLCJmYWxsYmFja19mbiIsImZhbGxiYWNrIiwid2FzX2VtcHR5Iiwib2Zmc2NyZWVuX2l0ZW1zIiwiZWFjaF9hcnJheSIsImNvbGxlY3Rpb24iLCJlYWNoX2VmZmVjdCIsInJlY29uY2lsZSIsImNyZWF0ZV9pdGVtIiwia2V5cyIsImV4aXN0aW5nIiwidXBkYXRlX2l0ZW0iLCJpc19hbmltYXRlZCIsInNob3VsZF91cGRhdGUiLCJzZWVuIiwidG9fYW5pbWF0ZSIsIm1hdGNoZWQiLCJzdGFzaGVkIiwiY2hpbGRfYW5jaG9yIiwiX2IiLCJqIiwidG9fZGVzdHJveSIsImRlc3Ryb3lfbGVuZ3RoIiwiX2MiLCJfZCIsInVudXNlZCIsInJlYWN0aXZlIiwibXV0YWJsZSIsIm5leHRfbm9kZSIsImFjdGlvbiIsImdldF92YWx1ZSIsImluaXRlZCIsIndoaXRlc3BhY2UiLCJ0b19jbGFzcyIsImhhc2giLCJkaXJlY3RpdmVzIiwiY2xhc3NuYW1lIiwibGVuIiwiYXBwZW5kX3N0eWxlcyIsInN0eWxlcyIsImltcG9ydGFudCIsInNlcGFyYXRvciIsImNzcyIsInRvX2Nzc19uYW1lIiwidG9fc3R5bGUiLCJuZXdfc3R5bGUiLCJub3JtYWxfc3R5bGVzIiwiaW1wb3J0YW50X3N0eWxlcyIsImluX3N0ciIsImluX2FwbyIsImluX2NvbW1lbnQiLCJyZXNlcnZlZF9uYW1lcyIsIm5hbWVfaW5kZXgiLCJjIiwicHJvcGVydHkiLCJzZXRfY2xhc3MiLCJpc19odG1sIiwicHJldl9jbGFzc2VzIiwibmV4dF9jbGFzc2VzIiwibmV4dF9jbGFzc19uYW1lIiwiaXNfcHJlc2VudCIsInVwZGF0ZV9zdHlsZXMiLCJwcmlvcml0eSIsInNldF9zdHlsZSIsInByZXZfc3R5bGVzIiwibmV4dF9zdHlsZXMiLCJuZXh0X3N0eWxlX2F0dHIiLCJJU19DVVNUT01fRUxFTUVOVCIsIklTX0hUTUwiLCJzZXRfYXR0cmlidXRlIiwiYXR0cmlidXRlIiwic2tpcF93YXJuaW5nIiwiYXR0cmlidXRlcyIsImdldF9hdHRyaWJ1dGVzIiwiZ2V0X3NldHRlcnMiLCJzZXR0ZXJzX2NhY2hlIiwic2V0dGVycyIsImVsZW1lbnRfcHJvdG8iLCJpc19ib3VuZF90aGlzIiwiYm91bmRfdmFsdWUiLCJlbGVtZW50X29yX2NvbXBvbmVudCIsImJpbmRfdGhpcyIsImdldF9wYXJ0cyIsIm9sZF9wYXJ0cyIsInBhcnRzIiwiaW5pdCIsImNhbGxiYWNrcyIsImNoYW5nZWQiLCJvYnNlcnZlX2FsbCIsImZucyIsImFkZF9sZWdhY3lfZXZlbnRfbGlzdGVuZXIiLCIkJHByb3BzIiwiZXZlbnRfY2FsbGJhY2siLCJ1cGRhdGVfbGVnYWN5X3Byb3BzIiwiJCRuZXdfcHJvcHMiLCJpc19zdG9yZV9iaW5kaW5nIiwiY2FwdHVyZV9zdG9yZV9iaW5kaW5nIiwicHJldmlvdXNfaXNfc3RvcmVfYmluZGluZyIsImJpbmRhYmxlIiwibGF6eSIsImZhbGxiYWNrX3ZhbHVlIiwiZmFsbGJhY2tfZGlydHkiLCJnZXRfZmFsbGJhY2siLCJzZXR0ZXIiLCJpc19lbnRyeV9wcm9wcyIsImlzX3N0b3JlX3N1YiIsImUucHJvcHNfaW52YWxpZF92YWx1ZSIsImdldHRlciIsImxlZ2FjeV9wYXJlbnQiLCJtdXRhdGlvbiIsIm92ZXJyaWRkZW4iLCJ0aGVtZXMiLCJzZXR0aW5ncyIsIiQucHJvcCIsIm1hcmtlZFBvcyIsImN1cnJlbnRUdXJuIiwicm90YXRlZCIsImJnQ29sb3IiLCIkLm11dGFibGVfc291cmNlIiwibGluZUNvbG9yIiwidGV4dENvbG9yIiwicmVkIiwiYmx1ZSIsImNlbGxTaXplIiwibWFyZ2luIiwid2lkdGgiLCJoZWlnaHQiLCJyZW5kZXJlZEJvYXJkIiwicmVuZGVyZWRNYXJrZWRQb3MiLCJyb3RhdGVQb3MiLCJwb3MiLCJyb3RhdGVCb2FyZCIsIm5ld0JvYXJkIiwiaGFuZGxlQ2xpY2siLCJib2FyZFJlY3QiLCJtb3VzZVgiLCJtb3VzZVkiLCJncmlkWCIsIiQuZ2V0IiwiZ3JpZFkiLCIkLnNldCIsIiQuZWFjaCIsIiQudW50cmFjayIsIiQuc2V0X2F0dHJpYnV0ZSIsInBhdGhfMSIsIm5vZGVfMSIsInBhdGhfMiIsInBhdGhfMyIsIm5vZGVfMyIsIm5vZGVfNCIsImdfMiIsIm5vZGVfNSIsImNpcmNsZSIsInRleHRfMSIsIiQkcmVuZGVyIiwiY29uc2VxdWVudCIsInBhdGhfOSIsImNvbnNlcXVlbnRfMSIsInN2Z18xIiwicmVjdCIsImxpbmUiLCJsaW5lXzEiLCJnIiwiZ18xIiwibW9kaWZpZWQiLCJpc3Byb3RlY3RlZCIsImJ1dHRvbkNsYXNzIiwiYnV0dG9ucyIsInNhdmVCdG5FbCIsImVtaXRFdmVudCIsInVzZVNldEljb24iLCJlbCIsImljb24iLCJzZXRJY29uIiwibmV3SWNvbiIsInVzZVNldFNhdmVJY29uIiwiJC5pbmRleCIsIiQkYW5jaG9yIiwiJCRpdGVtIiwidGl0bGUiLCIkLmVmZmVjdCIsIiQuZXZlbnQiLCJidXR0b24iLCIkLmJpbmRfdGhpcyIsImJ1dHRvbl8xIiwiJCR2YWx1ZSIsImNsYXNzZXMiLCIkMCIsInNjcm9sbFRvQlROIiwiY29udGFpbmVyIiwiZWxlbWVudFJlY3QiLCJjb250YWluZXJSZWN0Iiwib2Zmc2V0VG9wIiwidGFyZ2V0U2Nyb2xsVG9wIiwib25fY2xpY2siLCJjdXJyZW50U3RlcCIsIm1vdmVzIiwiaXRlbVJlZnMiLCJ1bFJlZiIsIiQudXNlcl9lZmZlY3QiLCJ0YXJnZXRFbCIsImxpIiwic3Bhbl8yIiwic3Bhbl8zIiwibGlfMSIsIiQuc2V0X3RleHQiLCJ1bCIsIiQuc2V0X2NsYXNzIiwiZGl2IiwiaGlzdG9yeSIsIkJvYXJkTW9kdWxlJDEiLCJCb2FyZE1vZHVsZSIsIkNvbnRhaW5lciIsIlhpYW5ncWkiLCJpc1ZhbGlkTW92ZSIsImJhc2VDaGVjayIsImZyb21QaWVjZSIsInRvUGllY2UiLCJpc1NhbWVTaWRlIiwiY2FuUk1vdmUiLCJjYW5OTW92ZSIsImNhbkJNb3ZlIiwiY2FuQU1vdmUiLCJjYW5LTW92ZSIsImNhbkNNb3ZlIiwiY2FuUE1vdmUiLCJtaW4iLCJtYXgiLCJkeCIsImR5IiwiY3Jvc3NlZFJpdmVyIiwiQm9hcmRDbGlja01vZHVsZSQxIiwiY2xpY2tlZFBvcyIsImNsaWNrZWRQaWVjZSIsImNsaWNrZWRJc1JlZCIsIkJvYXJkQ2xpY2tNb2R1bGUiLCJIaXN0b3J5TW9kdWxlIiwiZWRpdEhpc3RvcnkiLCJjdXJyZW50TW92ZSIsImV4aXN0aW5nTW92ZSIsIkNvbmZpcm1Nb2RhbCIsIk1vZGFsIiwiYXBwIiwibWVzc2FnZSIsImNvbmZpcm1UZXh0IiwiY2FuY2VsVGV4dCIsImNvbnRlbnRFbCIsImJ1dHRvbkNvbnRhaW5lciIsImNvbmZpcm1CdG4iLCJBY3Rpb25zTW9kdWxlJDEiLCJydW5tb3ZlIiwidW5kbyIsInJlZG8iLCJkaWYiLCJOb3RpY2UiLCJtb2RhbCIsInNhdmVQR04iLCJzdGVwIiwiQWN0aW9uc01vZHVsZSIsImNhcHR1cmVkIiwicmV0dXJuUGllY2UiLCJuZXh0TW92ZSIsIm1vdmVUb1JlZG8iLCJ2aWV3IiwiTWFya2Rvd25WaWV3IiwiZmlsZSIsInNlY3Rpb24iLCJsaW5lU3RhcnQiLCJsaW5lRW5kIiwibGluZXMiLCJibG9ja0xpbmVzIiwicGduTGluZXMiLCJuZXdDb250ZW50IiwiU3BlYWtlck1vZHVsZSIsInNwZWFrIiwiV1hGIiwiZmluYWxTcGVlY2hSZXBsYWNlIiwidXR0ZXIiLCJDaGVzc1JlbmRlckNoaWxkIiwiTWFya2Rvd25SZW5kZXJDaGlsZCIsImNvbnRhaW5lckVsIiwicGx1Z2luIiwic2VsZWN0ZWRQaWVjZSIsIk1BWF9DT1VOVCIsInBpZWNlQ291bnQiLCJhY2MiLCIkJGFycmF5IiwiY29sb3IiLCJHZW5GRU4iLCJvblNhdmVCVE5DbGljayIsImdlbkZFTkZyb21Cb2FyZCIsInJvd3MiLCJmZW5Sb3ciLCJlbXB0eSIsImNlbGwiLCJHZW5GRU5SZW5kZXJDaGlsZCIsIkRFRkFVTFRfU0VUVElOR1MiLCJYUVNldHRpbmdUYWIiLCJQbHVnaW5TZXR0aW5nVGFiIiwiU2V0dGluZyIsImRyb3Bkb3duIiwidGhlbWUiLCJpc0RhcmtNb2RlIiwic2xpZGVyIiwiY29udHJvbEVsIiwidmFsdWVMYWJlbCIsInRvZ2dsZSIsIlhRUGx1Z2luIiwiUGx1Z2luIiwic2F2ZWREYXRhIl0sIm1hcHBpbmdzIjoiaWxCQVFBLFNBQVNBLElBQXFCLENBQzFCLE1BQU1DLE1BQWdCLElBQ2hCQyxNQUFrQixRQUV4QixTQUFTQyxFQUFTQyxFQUFjQyxFQUFxQixDQUM1Q0osRUFBVSxJQUFJRyxDQUFJLEdBQ25CSCxFQUFVLElBQUlHLEVBQU1DLENBQU0sQ0FFbEMsQ0FHQSxTQUFTQyxFQUFlQyxFQUFjLENBQ2xDLEdBQUlMLEVBQVksSUFBSUssQ0FBSSxFQUFHLE9BQU9MLEVBQVksSUFBSUssQ0FBSSxFQUN0RCxNQUFNQyxNQUFlLElBQ3JCLFNBQVcsQ0FBQ0osRUFBTUMsQ0FBTSxJQUFLSixFQUFXLENBQ3BDLE1BQU1RLEVBQVdKLEVBQU8sS0FBS0UsQ0FBSSxFQUNqQ0MsRUFBUyxJQUFJSixFQUFNSyxHQUFZSixDQUFNLENBQ3pDLENBQ0EsT0FBQUgsRUFBWSxJQUFJSyxFQUFNQyxDQUFRLEVBQ3ZCQSxDQUNYLENBRUEsU0FBU0UsRUFBZ0JILEVBQWMsQ0FDbkMsTUFBTUMsRUFBV04sRUFBWSxJQUFJSyxDQUFJLEVBQ3JDLEdBQUtDLEVBQ0wsV0FBV0gsS0FBVUcsRUFBUyxTQUN0QixPQUFRSCxFQUFlLFNBQVksWUFDbENBLEVBQWUsUUFBQSxFQUd4QkcsRUFBUyxNQUFBLEVBQ1ROLEVBQVksT0FBT0ssQ0FBSSxFQUMzQixDQUVBLE1BQU8sQ0FDSCxTQUFBSixFQUNBLGVBQUFHLEVBQ0EsZ0JBQUFJLENBQUEsQ0FFUixDQUdBLE1BQU1DLEdBQVlYLEdBQUEsRUFHWCxTQUFTWSxHQUFpQlIsRUFBY0MsRUFBcUIsQ0FDaEVNLEdBQVUsU0FBU1AsRUFBTUMsQ0FBTSxDQUNuQyxDQUVPLFNBQVNRLEdBQXVCTixFQUFjLENBQ2pELE9BQU9JLEdBQVUsZUFBZUosQ0FBSSxDQUN4QyxDQUVPLFNBQVNPLEdBQXdCUCxFQUFjLENBQ2xESSxH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QUFJdE4sSUFBUSxDQUNsRSxNQUFNN2IsRUFBYyxJQUFJK3dCLEdBQWtCNUgsRUFBSXROLEVBQUtyZixFQUFRLElBQUksRUFDL0RxZixFQUFJLFNBQVM3YixDQUFXLENBQ3pCLENBQUMsRUFFRCxLQUFLLGNBQ0osS0FBSyxJQUFJLFVBQVUsR0FBRyxhQUFjLElBQU0sQ0FFekMsR0FBSSxLQUFLLFNBQVMsVUFBVyxDQUM1QixNQUFNc3hCLEVBQWEsSUFDbEIsU0FBUyxLQUFLLFVBQVUsU0FBUyxZQUFZLEVBQzlDLEtBQUssU0FBUyxNQUFRQSxFQUFBLEVBQWUsT0FBUyxRQUM5QyxLQUFLLFFBQUEsQ0FDTixDQUNELENBQUMsQ0FBQSxDQUVILENBRUEsU0FBVSxDQUNULEtBQUssZUFBZSxRQUFTbm5CLEdBQVUsQ0FDdENBLEVBQU0sUUFBQSxDQUNQLENBQUMsQ0FDRixDQUVBLE1BQU0sY0FBZSxDQUNwQixNQUFNMG5CLEVBQVksTUFBTSxLQUFLLFNBQUEsRUFDN0IsS0FBSyxTQUFXLENBQ2YsR0FBR2IsR0FDSCxHQUFHYSxDQUFBLENBRUwsQ0FFQSxNQUFNLGNBQWUsQ0FDcEIsTUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRLENBQ2xDLENBR0QiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5XX0=
